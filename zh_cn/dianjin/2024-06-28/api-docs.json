{"version":"1.0","info":{"style":"ROA","product":"DianJin","version":"2024-06-28"},"directories":[{"id":194986,"title":"平台能力-文档库","type":"directory","children":["GetAppConfig","CreateLibrary","GetLibraryList","GetLibrary","UploadDocument","GetDocumentUrl","PreviewDocument","GetFilterDocumentList","GetDocumentList","DeleteDocument","UpdateDocument","CreatePredefinedDocument","GetDocumentChunkList","RecallDocument","GetParseResult","ReIndex","UpdateLibrary","DeleteLibrary","RunLibraryChatGeneration","GetHistoryListByBizType"]},{"id":195037,"title":"平台能力-应用","type":"directory","children":["CreateFinReportSummaryTask","GetTaskStatus","GetSummaryTaskResult","EvictTask","RunChatResultGeneration"]},{"id":195038,"title":"平台能力-插件","type":"directory","children":["InvokePlugin"]}],"components":{"schemas":{}},"apis":{"GetAppConfig":{"summary":"获取应用配置信息，包含用户可使用模型列表，嵌入列表等。","path":"/{workspaceId}/api/app/config","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx\n"}}],"responses":{"200":{"schema":{"title":"ResultCode<AppConfigBO>","description":"ResultCode<AppConfigBO>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"返回数据","type":"object","properties":{"embeddingTypeList":{"title":"embedding类型列表","description":"embedding类型列表","type":"array","items":{"description":"k-v对","type":"object","additionalProperties":{"type":"string","description":"value","example":"DashScope"}}},"frontendConfig":{"title":"前端配置","description":"前端配置","type":"object","additionalProperties":{"type":"boolean","example":"true","description":"是否开启"}},"libraryDocumentStatusList":{"title":"文档状态列表","description":"文档库文档状态列表","type":"array","items":{"description":"k-v对","type":"object","additionalProperties":{"type":"string","description":"value","example":"Completed"}}},"llmHelperTypeList":{"title":"大模型类型列表","description":"大模型类型列表","type":"array","items":{"description":"k-v对","type":"object","additionalProperties":{"type":"string","example":"qwen-max","description":"value"}}},"textIndexCategoryList":{"title":"文本索引类型列表","description":"文本索引类别列表","type":"array","items":{"description":"文本索引类别","type":"string","example":"ElasticSearch"}},"vectorIndexCategoryList":{"title":"向量索引类型列表","description":"向量索引类别列表","type":"array","items":{"description":"向量索引类别","type":"string","example":"ADB"}}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"None"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"True"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"embeddingTypeList\\\": [\\n      {\\n        \\\"key\\\": \\\"DashScope\\\"\\n      }\\n    ],\\n    \\\"frontendConfig\\\": {\\n      \\\"key\\\": true\\n    },\\n    \\\"libraryDocumentStatusList\\\": [\\n      {\\n        \\\"key\\\": \\\"Completed\\\"\\n      }\\n    ],\\n    \\\"llmHelperTypeList\\\": [\\n      {\\n        \\\"key\\\": \\\"qwen-max\\\"\\n      }\\n    ],\\n    \\\"textIndexCategoryList\\\": [\\n      \\\"ElasticSearch\\\"\\n    ],\\n    \\\"vectorIndexCategoryList\\\": [\\n      \\\"ADB\\\"\\n    ]\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"None\\\",\\n  \\\"requestId\\\": \\\"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"获取配置信息","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"CreateLibrary":{"summary":"创建文档库。创建一个新的文档库，文档库用作隔离文档信息、索引信息，如果使用场景中需要经常按类别去做自然语言检索，建议创建多个文档库，来隔离不同类型的数据。支持按照格式自定义向量索引和文本索引。","path":"/{workspaceId}/api/library/create","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"业务空间id","type":"string","required":true,"example":"llm-ik******RVYCKzt"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体。","type":"object","properties":{"description":{"title":"文档库的描述","description":"文档库的描述","type":"string","required":true,"example":"描述文档库的具体作用"},"indexSetting":{"title":"文档库的索引设置","description":"文档库的索引设置","type":"object","properties":{"chunkStrategy":{"title":"分段策略","description":"分段策略","type":"object","properties":{"docTreeSplit":{"title":"版面切分","description":"版面切分","type":"boolean","required":false,"example":"true"},"docTreeSplitSize":{"title":"版面切分大小","description":"版面切分大小","type":"integer","format":"int32","required":false,"example":"300"},"enhanceGraph":{"title":"是否增强图片","description":"是否解析文档中的图片内容","type":"boolean","required":false,"example":"true"},"enhanceTable":{"title":"是否增强表格","description":"是否解析文档中的表格内容","type":"boolean","required":false,"example":"true"},"overlap":{"title":"chunk重叠长度","description":"chunk重叠长度","type":"integer","format":"int32","required":false,"example":"20"},"sentenceSplit":{"title":"按句子切分","description":"按句子切分","type":"boolean","required":false,"example":"true"},"sentenceSplitSize":{"title":"按句子切分大小","description":"按句子切分大小","type":"integer","format":"int32","required":false,"example":"300"},"size":{"title":"chunk大小","description":"chunk大小","type":"integer","format":"int32","required":false,"example":"300"},"split":{"title":"是否切块","description":"是否切块","type":"boolean","required":false,"example":"true"}},"required":false},"modelConfig":{"title":"模型配置","description":"模型配置","type":"object","properties":{"temperature":{"title":"温度","description":"用于控制模型回复的随机性和多样性。具体来说，temperature值控制了生成文本时对每个候选词的概率分布进行平滑的程度。较高的temperature值会降低概率分布的峰值，使得更多的低概率词被选择，生成结果更加多样化；而较低的temperature值则会增强概率分布的峰值，使得高概率词更容易被选择，生成结果更加确定。\n\n取值范围： [0, 2)，不建议取值为0，无意义。","type":"number","format":"double","required":false,"example":"0.8"},"topP":{"title":"topP","description":"生成过程中的核采样方法概率阈值，例如，取值为0.8时，仅保留概率加起来大于等于0.8的最可能token的最小集合作为候选集。取值范围为（0,1.0)，取值越大，生成的随机性越高；取值越低，生成的确定性越高。","type":"number","format":"double","required":false,"example":"0.8"}},"required":false},"promptRoleStyle":{"title":"prompt角色风格","description":"prompt风格角色。通过指定角色，描述语气风格，来控制最终回答质量。如：文档分析专家、温柔的客服、专业的金融行业分析师。","type":"string","required":false,"example":"你是一位信息处理专家，耐心、友好、逻辑清晰。"},"queryEnhancer":{"title":"query增强配置","description":"问题增强配置","type":"object","properties":{"enableFollowUp":{"title":"多轮增强","description":"是否根据历史记录改写问题","type":"boolean","required":false,"example":"true"},"enableMultiQuery":{"title":"是否利用大模型知识拆解问题","description":"是否利用大模型知识拆解问题","type":"boolean","required":false,"example":"true"},"enableOpenQa":{"title":"是否利用大模型知识回答问题","description":"是否利用大模型知识回答问题","type":"boolean","required":false,"example":"true"},"enableQueryRewrite":{"title":"是否开启query改写","description":"是否使用问题改写","type":"boolean","required":false,"example":"true"},"enableSession":{"title":"记录session","description":"是否开启多轮对话","type":"boolean","required":false,"example":"true"},"localKnowledgeId":{"title":"知识改写使用的文档库id","description":"知识改写使用的文档库id","type":"string","required":false,"example":"xxxx"},"withDocumentReference":{"title":"是否带文档引用","description":"是否带文档引用","type":"boolean","required":false,"example":"true"}},"required":false},"recallStrategy":{"title":"召回策略","description":"召回策略","type":"object","properties":{"documentRankType":{"title":"合并&排序策略","description":"合并&排序策略","type":"string","required":false,"enumValueTitles":{"linear":"linear","model":"model"},"example":"model"},"limit":{"title":"两路合并总结的结果数","description":"两路合并总结的结果数","type":"integer","format":"int32","required":false,"example":"20"}},"required":false},"textIndexSetting":{"title":"文本索引配置","description":"文本索引配置","type":"object","properties":{"category":{"title":"文本索引类型","description":"文本索引类型，目前只支持ElasticSearch。","type":"string","required":false,"enumValueTitles":{"ElasticSearch":"ElasticSearch"},"example":"ElasticSearch","pattern":"^ElasticSearch$","default":"ElasticSearch"},"enable":{"title":"文本索引是否开启","description":"是否启用文本索引。","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"true"},"indexAnalyzer":{"title":"Standard: *, IkMaxWord, Whitespace, IkSmart","description":"文本索引的索引分析器: (Standard, IkMaxWord, IkSmart)","type":"string","required":false,"enumValueTitles":{"IkSmart":"IkSmart","IkMaxWord":"IkMaxWord","Standard":"Standard"},"example":"Standard"},"rankThreshold":{"title":"文本索引排序阈值","description":"文本索引排序阈值","type":"number","format":"double","required":false,"example":"0.5"},"searchAnalyzer":{"title":"Standard: *, IkMaxWord, Whitespace, IkSmart","description":"文本索引的搜索分析器: (Standard, IkMaxWord, IkSmart)","type":"string","required":false,"enumValueTitles":{"IkSmart":"IkSmart","IkMaxWord":"IkMaxWord","Standard":"Standard"},"example":"Standard"},"topK":{"title":"文本索引最后总结结果数","description":"文本索引最后总结结果数","type":"integer","format":"int32","required":false,"example":"50"}},"required":false},"vectorIndexSetting":{"title":"向量索引设置","description":"向量索引设置","type":"object","properties":{"category":{"title":"向量索引来源：建议填写 ADB","description":"向量索引来源：目前只支持 ADB","type":"string","required":false,"enumValueTitles":{"ADB":"ADB"},"example":"ADB","pattern":"^ADB$","default":"ADB"},"embeddingType":{"title":"向量索引文本Embedding模型","description":"向量索引文本Embedding类型","type":"string","required":false,"enumValueTitles":{"DashScope":"DashScope"},"example":"DashScope"},"enable":{"title":"是否开启","description":"是否开启","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"true"},"rankThreshold":{"title":"向量索引排序阈值","description":"向量索引排序阈值","type":"number","format":"double","required":false,"example":"0.5"},"topK":{"title":"向量索引最后总结结果数","description":"向量索引最后总结结果数","type":"integer","format":"int32","required":false,"example":"50"}},"required":false}},"required":false},"libraryName":{"title":"文档库的名称","description":"文档库的名称","type":"string","required":true,"example":"金融知识文档库"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"300"},"data":{"title":"响应数据","description":"返回数据","type":"string","example":"a1b2c3"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"成功"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"xxxx-xxxx-xxxx-xxxx"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"null"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 300,\\n  \\\"data\\\": \\\"a1b2c3\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"成功\\\",\\n  \\\"requestId\\\": \\\"xxxx-xxxx-xxxx-xxxx\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"null\\\"\\n}\",\"type\":\"json\"}]","title":"创建文档库","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"GetLibraryList":{"summary":"获取文档库列表，包含文档名称、描述、唯一标识等信息。","path":"/{workspaceId}/api/library/list","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id。","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"page","in":"query","schema":{"title":"页码","description":"页码","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"pageSize","in":"query","schema":{"title":"每页记录的数量","description":"每页记录的数量","type":"integer","format":"int32","required":false,"example":"10","default":"10"}},{"name":"query","in":"query","schema":{"title":"搜索的关键词，支持文档库名称和描述","description":"搜索的关键词，支持文档库名称和描述","type":"string","required":false,"example":"测试文档库"}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<LibraryVO>>","description":"ResultCode<PageVO<LibraryVO>>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"返回数据","description":"返回数据","type":"object","properties":{"currentPage":{"title":"页码","description":"页码","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"页面记录数","description":"页面记录数","type":"integer","format":"int64","example":"10"},"records":{"title":"记录数","description":"记录列表","type":"array","items":{"description":"记录","type":"object","properties":{"description":{"title":"文档库描述","description":"文档库描述","type":"string","example":"文档库"},"documentCount":{"title":"文档数量","description":"文档数量","type":"integer","format":"int64","example":"10"},"gmtCreate":{"title":"创建时间","description":"创建时间","type":"string","example":"2024-01-01 00:00:00\n"},"gmtModified":{"title":"修改时间","description":"修改时间","type":"string","example":"2024-01-01 00:00:00\n"},"id":{"title":"文档库id","description":"文档库id","type":"string","example":"24vs4aa42jv1rg7"},"indexSetting":{"title":"文档库索引设置","description":"文档库索引设置","type":"object","properties":{"chunkStrategy":{"title":"分块策略","description":"分块策略","type":"object","properties":{"docTreeSplit":{"title":"版面切分","description":"版面切分","type":"boolean","example":"true"},"docTreeSplitSize":{"title":"版面切分大小","description":"版面切分大小","type":"integer","format":"int32","example":"160"},"enhanceGraph":{"title":"是否增强图片","description":"是否增强图片","type":"boolean","example":"true"},"enhanceTable":{"title":"是否增强表格","description":"是否增强表格","type":"boolean","example":"true"},"overlap":{"title":"chunk重叠长度","description":"chunk重叠长度","type":"integer","format":"int32","example":"40"},"sentenceSplit":{"title":"按句子切分","description":"按句子切分","type":"boolean","example":"true"},"sentenceSplitSize":{"title":"按句子切分大小","description":"按句子切分大小","type":"integer","format":"int32","example":"160"},"size":{"title":"chunk大小","description":"chunk大小","type":"integer","format":"int32","example":"256"},"split":{"title":"是否切块","description":"是否切块","type":"boolean","example":"true"}}},"modelConfig":{"title":"模型配置","description":"模型配置","type":"object","properties":{"temperature":{"title":"温度","description":"温度","type":"number","format":"double","example":"0.8"},"topP":{"title":"topP","description":"topP","type":"number","format":"double","example":"0.8"}}},"promptRoleStyle":{"title":"prompt角色风格","description":"prompt角色风格","type":"string","example":"你是一个信息处理专家。\n"},"queryEnhancer":{"title":"query增强","description":"query增强","type":"object","properties":{"enableFollowUp":{"title":"多轮增强","description":"多轮增强","type":"boolean","example":"true"},"enableMultiQuery":{"title":"是否利用大模型知识拆解问题","description":"是否利用大模型知识拆解问题","type":"boolean","example":"true"},"enableOpenQa":{"title":"是否利用大模型知识回答问题","description":"是否利用大模型知识回答问题","type":"boolean","example":"true"},"enableQueryRewrite":{"title":"是否根据领域知识改写问题","description":"是否根据领域知识改写问题","type":"boolean","example":"true"},"enableSession":{"title":"记录session","description":"记录session","type":"boolean","example":"true"},"localKnowledgeId":{"title":"知识改写使用的文档库id","description":"知识改写使用的文档库id","type":"string","example":"sdbcjsbc"},"withDocumentReference":{"title":"是否带文档引用","description":"是否带文档引用","type":"boolean","example":"true"}}},"recallStrategy":{"title":"召回策略","description":"召回策略","type":"object","properties":{"documentRankType":{"title":"合并&排序策略","description":"合并&排序策略","type":"string","example":"model"},"limit":{"title":"两路合并总结的结果数","description":"两路合并总结的结果数","type":"integer","format":"int32","example":"10"}}},"textIndexSetting":{"title":"文本索引设置","description":"文本索引设置","type":"object","properties":{"category":{"title":"文本索引类型","description":"文本索引类型","type":"string","example":"ElasticSearch"},"enable":{"title":"文本索引是否开启","description":"文本索引是否开启","type":"boolean","example":"true"},"indexAnalyzer":{"title":"文本索引索引分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"文本索引的索引分析器: (Standard, IkMaxWord, IkSmart)","type":"string","example":"Standard"},"rankThreshold":{"title":"文本索引排序阈值","description":"文本索引排序阈值","type":"number","format":"double","example":"null"},"searchAnalyzer":{"title":"文本索引搜索分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"文本索引的搜索分析器: (Standard, IkMaxWord, IkSmart)","type":"string","example":"Standard"},"topK":{"title":"文本索引最后总结结果数","description":"文本索引最后总结结果数","type":"integer","format":"int32","example":"10"}}},"vectorIndexSetting":{"title":"向量索引设置","description":"向量索引设置","type":"object","properties":{"category":{"title":"向量索引来源：建议填写 ADB","description":"向量索引来源：建议填写 ADB","type":"string","example":"ADB"},"embeddingType":{"title":"向量索引文本Embedding模型","description":"向量索引文本Embedding模型","type":"string","example":"DashScope"},"enable":{"title":"是否开启","description":"是否开启","type":"boolean","example":"true"},"rankThreshold":{"title":"向量索引排序阈值","description":"向量索引排序阈值","type":"number","format":"double","example":"null"},"topK":{"title":"向量索引最后总结结果数","description":"向量索引最后总结结果数","type":"integer","format":"int32","example":"10"}}}}},"libraryName":{"title":"文档库名称","description":"文档库名称","type":"string","example":"测试文档库"}}}},"totalPages":{"title":"总页数","description":"总页数","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"总记录数","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"0a06dfe817156528535968405edce3"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"description\\\": \\\"文档库\\\",\\n        \\\"documentCount\\\": 10,\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\\n\\\",\\n        \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\\n\\\",\\n        \\\"id\\\": \\\"24vs4aa42jv1rg7\\\",\\n        \\\"indexSetting\\\": {\\n          \\\"chunkStrategy\\\": {\\n            \\\"docTreeSplit\\\": true,\\n            \\\"docTreeSplitSize\\\": 160,\\n            \\\"enhanceGraph\\\": true,\\n            \\\"enhanceTable\\\": true,\\n            \\\"overlap\\\": 40,\\n            \\\"sentenceSplit\\\": true,\\n            \\\"sentenceSplitSize\\\": 160,\\n            \\\"size\\\": 256,\\n            \\\"split\\\": true\\n          },\\n          \\\"modelConfig\\\": {\\n            \\\"temperature\\\": 0.8,\\n            \\\"topP\\\": 0.8\\n          },\\n          \\\"promptRoleStyle\\\": \\\"你是一个信息处理专家。\\\\n\\\",\\n          \\\"queryEnhancer\\\": {\\n            \\\"enableFollowUp\\\": true,\\n            \\\"enableMultiQuery\\\": true,\\n            \\\"enableOpenQa\\\": true,\\n            \\\"enableQueryRewrite\\\": true,\\n            \\\"enableSession\\\": true,\\n            \\\"localKnowledgeId\\\": \\\"sdbcjsbc\\\",\\n            \\\"withDocumentReference\\\": true\\n          },\\n          \\\"recallStrategy\\\": {\\n            \\\"documentRankType\\\": \\\"model\\\",\\n            \\\"limit\\\": 10\\n          },\\n          \\\"textIndexSetting\\\": {\\n            \\\"category\\\": \\\"ElasticSearch\\\",\\n            \\\"enable\\\": true,\\n            \\\"indexAnalyzer\\\": \\\"Standard\\\",\\n            \\\"rankThreshold\\\": 0,\\n            \\\"searchAnalyzer\\\": \\\"Standard\\\",\\n            \\\"topK\\\": 10\\n          },\\n          \\\"vectorIndexSetting\\\": {\\n            \\\"category\\\": \\\"ADB\\\",\\n            \\\"embeddingType\\\": \\\"DashScope\\\",\\n            \\\"enable\\\": true,\\n            \\\"rankThreshold\\\": 0,\\n            \\\"topK\\\": 10\\n          }\\n        },\\n        \\\"libraryName\\\": \\\"测试文档库\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0a06dfe817156528535968405edce3\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]","title":"获取文档库列表","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"GetLibrary":{"summary":"查看文档库的详细配置，包括文档库名称、描述以及索引等详细配置信息。","path":"/{workspaceId}/api/library/get","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id。","type":"string","required":false,"example":"llm-xxxxx"}},{"name":"libraryId","in":"query","schema":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"cjshcxxxx"}}],"responses":{"200":{"schema":{"title":"ResultCode<LibraryVO>","description":"返回数据","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"返回数据","description":"返回数据","type":"object","properties":{"description":{"title":"文档库描述","description":"文档库描述","type":"string","example":"文档库的描述"},"documentCount":{"title":"文档数量","description":"文档数量","type":"integer","format":"int64","example":"10"},"gmtCreate":{"title":"创建时间","description":"创建时间","type":"string","example":"2024-01-01 00:00:00"},"gmtModified":{"title":"修改时间","description":"修改时间","type":"string","example":"2024-01-01 00:00:00\n"},"id":{"title":"文档库id","description":"文档库id","type":"string","example":"19386728376"},"indexSetting":{"title":"文档库索引设置","description":"文档库索引设置","type":"object","properties":{"chunkStrategy":{"title":"分块策略","description":"分块策略","type":"object","properties":{"docTreeSplit":{"title":"版面切分","description":"版面切分","type":"boolean","example":"true"},"docTreeSplitSize":{"title":"版面切分大小","description":"版面切分大小","type":"integer","format":"int32","example":"160"},"enhanceGraph":{"title":"是否增强图片","description":"是否增强图片","type":"boolean","example":"true"},"enhanceTable":{"title":"是否增强表格","description":"是否增强表格","type":"boolean","example":"true"},"overlap":{"title":"chunk重叠长度","description":"chunk重叠长度","type":"integer","format":"int32","example":"40"},"sentenceSplit":{"title":"按句子切分","description":"按句子切分","type":"boolean","example":"true"},"sentenceSplitSize":{"title":"按句子切分大小","description":"按句子切分大小","type":"integer","format":"int32","example":"160"},"size":{"title":"chunk大小","description":"chunk大小","type":"integer","format":"int32","example":"256"},"split":{"title":"是否切块","description":"是否切块","type":"boolean","example":"true"}}},"modelConfig":{"title":"模型配置","description":"模型配置","type":"object","properties":{"temperature":{"title":"温度","description":"温度","type":"number","format":"double","example":"0.8"},"topP":{"title":"topP","description":"topP","type":"number","format":"double","example":"0.8"}}},"promptRoleStyle":{"title":"prompt角色风格","description":"prompt角色风格","type":"string","example":"你是一个信息处理专家。"},"queryEnhancer":{"title":"query增强","description":"query增强","type":"object","properties":{"enableFollowUp":{"title":"多轮增强","description":"多轮增强","type":"boolean","example":"true"},"enableMultiQuery":{"title":"是否利用大模型知识拆解问题","description":"是否利用大模型知识拆解问题","type":"boolean","example":"true"},"enableOpenQa":{"title":"是否利用大模型知识回答问题","description":"是否利用大模型知识回答问题","type":"boolean","example":"true"},"enableQueryRewrite":{"title":"是否根据领域知识改写问题","description":"是否根据领域知识改写问题","type":"boolean","example":"true"},"enableSession":{"title":"记录session","description":"记录session","type":"boolean","example":"true"},"localKnowledgeId":{"title":"知识改写使用的文档库id","description":"知识改写使用的文档库id","type":"string","example":"2836482634"},"withDocumentReference":{"title":"是否带文档引用","description":"是否带文档引用","type":"boolean","example":"true"}}},"recallStrategy":{"title":"召回策略","description":"召回策略","type":"object","properties":{"documentRankType":{"title":"合并&排序策略","description":"合并&排序策略","type":"string","example":"model"},"limit":{"title":"两路合并总结的结果数","description":"两路合并总结的结果数","type":"integer","format":"int32","example":"10"}}},"textIndexSetting":{"title":"文本索引设置","description":"文本索引设置","type":"object","properties":{"category":{"title":"文本索引类型","description":"文本索引类型","type":"string","example":"ElasticSearch"},"enable":{"title":"文本索引是否开启","description":"文本索引是否开启","type":"boolean","example":"true"},"indexAnalyzer":{"title":"文本索引索引分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"文本索引的索引分析器: (Standard, IkMaxWord, IkSmart)","type":"string","example":"IkMaxWord"},"rankThreshold":{"title":"文本索引排序阈值","description":"文本索引排序阈值","type":"number","format":"double","example":"null"},"searchAnalyzer":{"title":"文本索引搜索分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"文本索引的搜索分析器: (Standard, IkMaxWord, IkSmart)","type":"string","example":"Standard"},"topK":{"title":"文本索引最后总结结果数","description":"文本索引最后总结结果数","type":"integer","format":"int32","example":"10"}}},"vectorIndexSetting":{"title":"向量索引设置","description":"向量索引设置","type":"object","properties":{"category":{"title":"向量索引来源：建议填写 ADB","description":"向量索引来源：建议填写 ADB","type":"string","example":"ADB"},"embeddingType":{"title":"向量索引文本Embedding模型","description":"向量索引文本Embedding模型","type":"string","example":"DashScope"},"enable":{"title":"是否开启","description":"是否开启","type":"boolean","example":"true"},"rankThreshold":{"title":"向量索引排序阈值","description":"向量索引排序阈值","type":"number","format":"double","example":"null"},"topK":{"title":"向量索引最后总结结果数","description":"向量索引最后总结结果数","type":"integer","format":"int32","example":"10"}}}}},"libraryName":{"title":"文档库名称","description":"文档库名称","type":"string","example":"测试文档库"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误类型","description":"错误类型","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"44BD277A-87F9-5310-8D63-3E6645F1DA85"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"description\\\": \\\"文档库的描述\\\",\\n    \\\"documentCount\\\": 10,\\n    \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n    \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\\n\\\",\\n    \\\"id\\\": \\\"19386728376\\\",\\n    \\\"indexSetting\\\": {\\n      \\\"chunkStrategy\\\": {\\n        \\\"docTreeSplit\\\": true,\\n        \\\"docTreeSplitSize\\\": 160,\\n        \\\"enhanceGraph\\\": true,\\n        \\\"enhanceTable\\\": true,\\n        \\\"overlap\\\": 40,\\n        \\\"sentenceSplit\\\": true,\\n        \\\"sentenceSplitSize\\\": 160,\\n        \\\"size\\\": 256,\\n        \\\"split\\\": true\\n      },\\n      \\\"modelConfig\\\": {\\n        \\\"temperature\\\": 0.8,\\n        \\\"topP\\\": 0.8\\n      },\\n      \\\"promptRoleStyle\\\": \\\"你是一个信息处理专家。\\\",\\n      \\\"queryEnhancer\\\": {\\n        \\\"enableFollowUp\\\": true,\\n        \\\"enableMultiQuery\\\": true,\\n        \\\"enableOpenQa\\\": true,\\n        \\\"enableQueryRewrite\\\": true,\\n        \\\"enableSession\\\": true,\\n        \\\"localKnowledgeId\\\": \\\"2836482634\\\",\\n        \\\"withDocumentReference\\\": true\\n      },\\n      \\\"recallStrategy\\\": {\\n        \\\"documentRankType\\\": \\\"model\\\",\\n        \\\"limit\\\": 10\\n      },\\n      \\\"textIndexSetting\\\": {\\n        \\\"category\\\": \\\"ElasticSearch\\\",\\n        \\\"enable\\\": true,\\n        \\\"indexAnalyzer\\\": \\\"IkMaxWord\\\",\\n        \\\"rankThreshold\\\": 0,\\n        \\\"searchAnalyzer\\\": \\\"Standard\\\",\\n        \\\"topK\\\": 10\\n      },\\n      \\\"vectorIndexSetting\\\": {\\n        \\\"category\\\": \\\"ADB\\\",\\n        \\\"embeddingType\\\": \\\"DashScope\\\",\\n        \\\"enable\\\": true,\\n        \\\"rankThreshold\\\": 0,\\n        \\\"topK\\\": 10\\n      }\\n    },\\n    \\\"libraryName\\\": \\\"测试文档库\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"44BD277A-87F9-5310-8D63-3E6645F1DA85\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]","title":"获取文档详情","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"UploadDocument":{"summary":"上传文档至文档库，会对文档进行解析、分块、构建索引等一系列操作。","path":"/{workspaceId}/api/library/document/upload","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体。","type":"object","properties":{"data":{"title":"文档元数据","description":"文件元数据，可以用作召回时的筛选","type":"string","required":false,"example":"{\\\"cateogry\\\": \\\"报告\\\"}"},"fileName":{"title":"完整文件名（包含后缀）","description":"完整文件名（包含后缀）","type":"string","required":true,"example":"test.pdf"},"fileUrl":{"title":"文件Oss地址","description":"文件Oss地址。如果文件为非公开读，fileUrl需要携带签名参数。\n\n如果使用sdk进行文件上传，可以直接上传文件，无需提供oss地址，具体参考sdk使用说明文档。","type":"string","required":true,"example":"https://oss-xxx.hangzhou.com/test.pdf","isFileTransferUrl":true},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"sjdhbcsj"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"返回结果","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"返回数据","type":"string","example":"1782981430906818562"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"ff3fef67-48d9-4379-a237-9ba8143fe739"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"1782981430906818562\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"ff3fef67-48d9-4379-a237-9ba8143fe739\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"上传文档","description":"请确保在使用该接口前，已充分了解通义点金产品的收费方式和价格。\n\n\n前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"GetDocumentUrl":{"summary":"获取文档的下载链接，链接过期时间为1小时。","path":"/{workspaceId}/api/library/document/url","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"documentId","in":"query","schema":{"title":"文档id","description":"文档id","type":"string","required":true,"example":"12681367362"}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"返回数据，为文档下载链接，链接过期时间为1小时。","type":"string","example":"https://path_to_file"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"66249B43-8C2B-5EE7-AE78-B382306621C6"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"https://path_to_file\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"66249B43-8C2B-5EE7-AE78-B382306621C6\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]","title":"获取文档的下载链接","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"PreviewDocument":{"summary":"预览文档，可获取文档的下载链接，文档类型、标题等信息，可用于文档预览。","path":"/{workspaceId}/api/library/document/preview","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间","description":"路径参数，业务空间id。","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"documentId","in":"query","schema":{"title":"文档id","description":"文档id","type":"string","required":true,"example":"8326472354762354"}}],"responses":{"200":{"schema":{"title":"ResultCode<DocumentPreviewVO>","description":"ResultCode<DocumentPreviewVO>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"返回数据","description":"返回数据","type":"object","properties":{"previewType":{"title":"预览类型","description":"预览类型","type":"string","example":"pdf"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"test"},"uploadTime":{"title":"上传时间","description":"上传时间","type":"string","example":"2024-01-01 00:00:00"},"url":{"title":"文档url","description":"文档url","type":"string","example":"https://agi.alicdn.com/user/d0o/d3c1f50d-a6c2-49b3-b0c8-3e613c3f20ee_16872_3236784461.png"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求ID","description":"请求ID","type":"string","example":"ff551395-1c8a-4f30-8ffd-ef7e87c70b4c"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间","description":"时间","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"previewType\\\": \\\"pdf\\\",\\n    \\\"title\\\": \\\"test\\\",\\n    \\\"uploadTime\\\": \\\"2024-01-01 00:00:00\\\",\\n    \\\"url\\\": \\\"https://agi.alicdn.com/user/d0o/d3c1f50d-a6c2-49b3-b0c8-3e613c3f20ee_16872_3236784461.png\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"ff551395-1c8a-4f30-8ffd-ef7e87c70b4c\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"预览文档","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"GetFilterDocumentList":{"summary":"获取文档列表（可按元信息过滤查询，也支持分页查询）。","path":"/{workspaceId}/api/library/filterDocument","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求body。","type":"object","properties":{"and":{"title":"and表达式，用于筛选文档/文档块","description":"and表达式，用于筛选文档/文档块","type":"array","items":{"description":"一系列约束条件，为三元组，用“与”连接","type":"object","properties":{"boost":{"description":"value在文本召回引擎中的权重。默认是1。","type":"number","format":"float","required":false,"example":"1"},"key":{"description":"文档库中，元信息的key","type":"string","required":false,"example":"company"},"operator":{"description":"### 文档库元信息key存储的value和输入的value之间的关系\n- eq: 文档库元信息key存储的value = 输入的value\n- contains: 文档库元信息key存储的value列表 \"包含\" 您输入的value","type":"string","required":false,"example":"eq"},"value":{"description":"输入的元信息的值","type":"string","required":false,"example":"alibaba"}},"required":false},"required":false},"docIdList":{"title":"文档id列表，用于筛选文档/文档块","description":"文档id列表，用于筛选文档/文档块","type":"array","items":{"description":"文档id","type":"string","required":false,"example":"3553835752369972270"},"required":false},"libraryId":{"title":"文档库id用于筛选文档/文档块","description":"文档库id用于筛选文档/文档块","type":"string","required":true,"example":"cjshcxxxx"},"or":{"title":"or表达式，用于筛选文档/文档块","description":"or表达式，用于筛选文档/文档块。","type":"array","items":{"description":"一系列约束条件，为三元组，用“或”连接","type":"object","properties":{"boost":{"description":"value在文本召回引擎中的权重。默认是1。","type":"number","format":"float","required":false,"example":"1"},"key":{"description":"文档库中，元信息的key","type":"string","required":false,"example":"company"},"operator":{"description":"### 文档库元信息key存储的value和输入的value之间的关系\n- eq: 文档库元信息key存储的value = 输入的value\n- contains: 文档库元信息key存储的value列表 \"包含\" 您输入的value","type":"string","required":false,"example":"contains"},"value":{"description":"输入的元信息的值","type":"string","required":false,"example":"alibaba"}},"required":false},"required":false},"page":{"title":"页码，用于分页","description":"页码，用于分页","type":"integer","format":"int32","required":false,"example":"1"},"pageSize":{"title":"每页大小，用于分页","description":"每页大小，用于分页","type":"integer","format":"int32","required":false,"example":"10"},"status":{"title":"文档状态，用于筛选文档","description":"文档状态列表，用于筛选文档。\n\n### 文档解析状态列表，\n*StatusCode: WaitRefresh、InQueue、FetchingData、Embedding、Completed*\n- Completed：可用，文档解析完毕。\n- Error：不可用，文档解析错误。\n- InQueue：待处理，文档待解析。\n- 其他状态：为系统内部状态，WaitRefresh任务被调度，FetchingData正在解析中，Embedding正在构建索引。","type":"array","items":{"description":"文档状态，用于筛选文档。","type":"string","required":false,"example":"Completed"},"required":false,"enumValueTitles":{"InQueue":"InQueue","WaitRefresh":"WaitRefresh","FetchingData":"FetchingData","Completed":"Completed","Error":"Error","Embedding":"Embedding"}}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<LibraryDocumentVO>>","description":"返回数据","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"object","properties":{"currentPage":{"title":"当前页","description":"当前页","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"每页记录数","description":"每页记录数","type":"integer","format":"int64","example":"10"},"records":{"title":"记录","description":"记录","type":"array","items":{"description":"数据","type":"object","properties":{"docId":{"title":"文档id","description":"文档id","type":"string","example":"29368126816"},"documentMeta":{"title":"文档元数据","description":"文档元数据","type":"object","example":"{\"a\": \"1\"}"},"fileType":{"title":"文档类型","description":"文档类型","type":"string","example":"pdf"},"gmtCreate":{"title":"创建时间","description":"创建时间","type":"string","example":"2024-01-01 00:00:00"},"gmtModified":{"title":"修改时间","description":"修改时间","type":"string","example":"2024-01-01 00:00:00"},"libraryId":{"title":"文档所属库id","description":"文档所属库id","type":"string","example":"sdfgsjdfg"},"statusCode":{"title":"文档状态 (WaitRefresh: 等待刷新, InQueue: 待处理, FetchingData: 数据获取中, Embedding: 文档处理中, Error: 错误, Completed: 可用, Null: 未知)","description":"文档状态 (WaitRefresh: 等待刷新, InQueue: 待处理, FetchingData: 数据获取中, Embedding: 文档处理中, Error: 错误, Completed: 可用, Null: 未知)","type":"string","example":"WaitRefresh"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"公司文档"},"url":{"title":"文档链接","description":"文档链接","type":"string","example":"null"}}}},"totalPages":{"title":"总页数","description":"总页数","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"总记录数","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"7ADF010C-FD89-569D-A079-2D4D5247E943"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"docId\\\": \\\"29368126816\\\",\\n        \\\"documentMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"libraryId\\\": \\\"sdfgsjdfg\\\",\\n        \\\"statusCode\\\": \\\"WaitRefresh\\\",\\n        \\\"title\\\": \\\"公司文档\\\",\\n        \\\"url\\\": \\\"null\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"7ADF010C-FD89-569D-A079-2D4D5247E943\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]","title":"按元信息过滤查询文档列表","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"GetDocumentList":{"summary":"获取文档库内文档列表，可分页查询，也根据文档状态进行过滤查询。","path":"/{workspaceId}/api/library/listDocument","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id。","type":"string","required":true,"example":"llm-xxxx"}},{"name":"page","in":"query","schema":{"title":"页码","description":"页码","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"pageSize","in":"query","schema":{"title":"页数","description":"页数","type":"integer","format":"int32","required":false,"example":"10","default":"10"}},{"name":"status","in":"query","schema":{"title":"文档状态","description":"文档状态","type":"string","required":false,"example":"即将可用"}},{"name":"libraryId","in":"query","schema":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"3akzl28vap"}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<LibraryDocumentVO>>","description":"返回结果","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"object","properties":{"currentPage":{"title":"当前页","description":"当前页码（分页参数）。","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"每页记录数","description":"页面大小（分页参数）。","type":"integer","format":"int64","example":"10"},"records":{"title":"记录","description":"记录","type":"array","items":{"type":"object","properties":{"docId":{"title":"文档id","description":"文档id","type":"string","example":"8326748346"},"documentMeta":{"title":"文档元数据","description":"文档元数据","type":"object"},"fileType":{"title":"文档类型","description":"文档类型","type":"string","example":"pdf"},"gmtCreate":{"title":"创建时间","description":"创建时间","type":"string","example":"2024-01-01 00:00:00"},"gmtModified":{"title":"修改时间","description":"修改时间","type":"string","example":"2024-01-01 00:00:00"},"libraryId":{"title":"文档所属库id","description":"文档所属库id","type":"string","example":"skjdhshbv"},"statusCode":{"title":"文档状态 (WaitRefresh: 等待刷新, InQueue: 待处理, FetchingData: 数据获取中, Embedding: 文档处理中, Error: 错误, Completed: 可用, Null: 未知)","description":"文档状态 (WaitRefresh: 等待刷新, InQueue: 待处理, FetchingData: 数据获取中, Embedding: 文档处理中, Error: 错误, Completed: 可用, Null: 未知)","type":"string","example":"WaitRefresh"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"test"},"url":{"title":"文档链接","description":"文档链接（该字段即将废弃），该值为空，如需要获取文档链接，可使用GetDocumentUrl获取该值。","type":"string","example":"null"}}}},"totalPages":{"title":"总页数","description":"总页数（分页参数）。","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"总记录数量。","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"docId\\\": \\\"8326748346\\\",\\n        \\\"documentMeta\\\": {\\n          \\\"test\\\": \\\"test\\\",\\n          \\\"test2\\\": 1\\n        },\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"libraryId\\\": \\\"skjdhshbv\\\",\\n        \\\"statusCode\\\": \\\"WaitRefresh\\\",\\n        \\\"title\\\": \\\"test\\\",\\n        \\\"url\\\": \\\"null\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"获取文档列表","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"DeleteDocument":{"summary":"删除文档，删除后将无法查看原始文档，无法召回该文档。","path":"/{workspaceId}/api/library/document/delete","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"docIds":{"title":"文档的id列表","description":"文档的id列表","type":"array","items":{"description":"文档id","type":"string","required":false,"example":"1782981430906818562"},"required":true},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"3akzl28vap"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<Boolean>","description":"ResultCode<Boolean>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"返回数据","type":"boolean","example":"True"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"67C7021A-D268-553D-8C15-A087B9604028"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"67C7021A-D268-553D-8C15-A087B9604028\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"删除文档","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"UpdateDocument":{"summary":"更新文档，用于更新文档的标题、元数据等信息。","path":"/{workspaceId}/api/library/document/updateDocument","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"docId":{"title":"文档id","description":"文档id","type":"string","required":true,"example":"123"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"abc123"},"meta":{"title":"文档meta数据","description":"文档meta数据","type":"object","required":false,"example":"{\n        \"businessId\": \"12321\"\n    }"},"title":{"title":"文档标题","description":"文档标题","type":"string","required":false,"example":"test"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"返回结果","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"返回数据","type":"string","example":"null"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"null\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"更新文档","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"CreatePredefinedDocument":{"summary":"根据业务场景灵活构建文档块。","path":"/{workspaceId}/api/library/document/createPredefinedDocument","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"路径参数，业务空间id","description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体。","type":"object","properties":{"chunks":{"title":"文档块列表","description":"文档块列表","type":"array","items":{"type":"object","properties":{"chunkMeta":{"title":"文档块元信息","description":"文档块元信息","type":"object","required":false,"example":"{\"a\": \"1\"}"},"chunkOrder":{"title":"顺序，可以不填","description":"顺序，可以不填","type":"integer","format":"int32","required":false,"example":"1"},"chunkText":{"title":"文档块文本","description":"文档块文本","type":"string","required":false,"example":"这是一段测试文本"},"chunkType":{"title":"文档块类型","description":"文档块类型","type":"string","required":false,"example":"text","default":"text","enum":["text","table","faq","graph"]}},"required":false},"required":false},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":false,"example":"a1b2c3"},"metadata":{"title":"元数据","description":"元数据","type":"object","required":false,"example":"{\"a\": \"1\"}"},"title":{"title":"文档标题","description":"文档标题","type":"string","required":false,"example":"测试文档"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"返回数据","type":"string","example":"1782981430906818562"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"0a06dfe617018288881568684e2937"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"1782981430906818562\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0a06dfe617018288881568684e2937\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"创建预定义文档","description":"请确保在使用该接口前，已充分了解通义点金产品的收费方式和价格。\n\n\n\n前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"GetDocumentChunkList":{"summary":"获取文档块列表，可根据查询条件过滤。","path":"/{workspaceId}/api/library/getDocumentChunk","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"chunkIdList":{"title":"文档块id列表","description":"文档块id列表","type":"array","items":{"description":"文档块id","type":"string","required":false,"example":"83648326438746"},"required":false},"docId":{"title":"文档id","description":"文档id","type":"string","required":true,"example":"182364872346"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"dsjgfdjgfxxx"},"order":{"title":"排序方式","description":"排序方式","type":"string","required":false,"example":"desc"},"orderBy":{"title":"排序字段","description":"排序字段","type":"string","required":false,"example":"gmtCreate"},"page":{"title":"页码","description":"页码","type":"integer","format":"int32","required":false,"example":"1"},"pageSize":{"title":"每页大小","description":"每页大小","type":"integer","format":"int32","required":false,"example":"10"},"searchQuery":{"title":"搜索查询关键词","description":"搜索查询关键词","type":"string","required":false,"example":"test"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<ChunkModelVO>>","description":"ResultCode<PageVO<ChunkModelVO>>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"object","properties":{"currentPage":{"title":"当前页","description":"当前页","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"每页记录数","description":"每页记录数","type":"integer","format":"int64","example":"10"},"records":{"title":"记录","description":"记录","type":"array","items":{"type":"object","properties":{"chunkId":{"title":"文档块id","description":"文档块id","type":"string","example":"28377468263482764"},"chunkMeta":{"title":"文档块元数据","description":"文档块元数据","type":"object","example":"{\"a\":\"1\"}"},"chunkOssUrl":{"title":"文档块oss地址","description":"文档块oss地址","type":"string","example":"oss-xxxx-hangzhou.com/test.pdf"},"chunkText":{"title":"文档块文本","description":"文档块文本","type":"string","example":"这是一段测试文本"},"chunkType":{"title":"文档块类型","description":"文档块类型","type":"string","enumValueTitles":{"faq":"faq","text":"text","graph":"graph","table":"table","structure":"structure"},"example":"text"},"docId":{"title":"文档id","description":"文档id","type":"string","example":"8947387648356"},"fileType":{"title":"文档类型","description":"文档类型","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","example":"jhsdvne"},"libraryName":{"title":"文档库名称","description":"文档库名称","type":"string","example":"测试文档库"},"nextChunkId":{"title":"后一个文档块id","description":"后一个文档块id","type":"string","example":"947538465"},"pos":{"title":"文档块位置","description":"文档块位置","type":"array","items":{"description":"版面的位置信息","type":"object","properties":{"axisArray":{"title":"坐标","description":"坐标","type":"array","items":{"description":"坐标","type":"number","format":"double","example":"394.3"}},"page":{"title":"页码","description":"页码","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"文本高亮区域，用于文本类型的文件高亮","type":"array","items":{"description":"文本高亮区域","type":"integer","format":"int32","example":"38"}}}}},"preChunkId":{"title":"前一个文档块id","description":"前一个文档块id","type":"string","example":"9848346548365"},"score":{"title":"文档块分数","description":"文档块分数","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"test"}}}},"totalPages":{"title":"总页数","description":"总页数","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"总记录数","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"2B8F6DC9-6FAF-576F-9095-CCD90FB2BDDF"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"28377468263482764\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"oss-xxxx-hangzhou.com/test.pdf\\\",\\n        \\\"chunkText\\\": \\\"这是一段测试文本\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"8947387648356\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"jhsdvne\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"947538465\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              394.3\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              38\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"9848346548365\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"test\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"2B8F6DC9-6FAF-576F-9095-CCD90FB2BDDF\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"获取文档块列表","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"RecallDocument":{"summary":"文档召回，可根据文本从文档库中召回文档块。并可设置召回文档块数量、也可根据元信息条件进行过滤，同时可选择是否进行文档块的补全。","path":"/{workspaceId}/api/library/recallDocument","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id。","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"filters":{"title":"元信息过滤条件","description":"元信息过滤条件","type":"array","items":{"description":"过滤","type":"object","properties":{"and":{"title":"and表达式，用于筛选文档/文档块","description":"and表达式，用于筛选文档/文档块","type":"array","items":{"description":"and表达式","type":"object","properties":{"boost":{"description":"关键词权重","type":"number","format":"float","required":false,"example":"20"},"key":{"description":"文档库中，元信息的key","type":"string","required":false,"example":"docType"},"operator":{"description":"文档库元信息key存储的value和您输入的value之间的关系\n\n- eq: 文档库元信息key存储的value = 您输入的value\n- lte：文档库元信息key存储的value <= 您输入的value\n- gte：文档库元信息key存储的value >= 您输入的value\n- lt：文档库元信息key存储的value < 您输入的value\n- gt：文档库元信息key存储的value > 您输入的value\n- contains: 文档库元信息key存储的value列表 \"包含\" 您输入的value","type":"string","required":false,"example":"contains"},"value":{"description":"输入的元信息的值","type":"string","required":false,"example":"策略报告"}},"required":false},"required":false},"chunkType":{"title":"文档块类型 用于筛选文档块 (Text: *, Graph, Table, FAQ)","description":"文档块类型 用于筛选文档块 (Text, Graph, Table, FAQ)","type":"string","required":false,"example":"Text"},"docIdList":{"title":"文档id列表，用于筛选文档/文档块","description":"文档id列表，用于筛选文档/文档块","type":"array","items":{"description":"文档id","type":"string","required":false,"example":"8372458573692819933"},"required":false},"libraryId":{"title":"文档库id用于筛选文档/文档块","description":"文档库id用于筛选文档/文档块","type":"string","required":true,"example":"sdbjhvs"},"or":{"title":"or表达式，用于筛选文档/文档块","description":"or表达式，用于筛选文档/文档块","type":"array","items":{"description":"or表达式","type":"object","properties":{"boost":{"description":"关键词权重","type":"number","format":"float","required":false,"example":"30"},"key":{"description":"文档库中，元信息的key","type":"string","required":false,"example":"researcher"},"operator":{"description":"文档库元信息key存储的value和您输入的value之间的关系\n\n- eq: 文档库元信息key存储的value = 您输入的value\n- lte：文档库元信息key存储的value <= 您输入的value\n- gte：文档库元信息key存储的value >= 您输入的value\n- lt：文档库元信息key存储的value < 您输入的value\n- gt：文档库元信息key存储的value > 您输入的value\n- contains: 文档库元信息key存储的value列表 \"包含\" 您输入的value","type":"string","required":false,"example":"eq"},"value":{"description":"输入的元信息的值","type":"string","required":false,"example":"zhangsan"}},"required":false},"required":false},"status":{"title":"文档状态，用于筛选文档","description":"文档状态列表，用于筛选文档","type":"array","items":{"description":"文档状态","type":"string","required":false,"example":"WaitRefresh"},"required":false}},"required":false},"required":false},"query":{"title":"文本","description":"文本","type":"string","required":true,"example":"欧洲杯历史上有哪些球队因为球员的适应新文化而受益"},"rearrangement":{"title":"是否开启父子文档块召回","description":"是否开启父子文档块召回。\n- 父子文档块：文档解析过程中，一个完整的语义块，比如一个自然段，一个小节，可能会被切分成多个文档块，这取决于您配置的切分策略。开启父子 文档召回之后，系统会尝试补全召回文档块所属的语义块，这样在构造prompt时，可以使得语料的语义更加完整，进而提升答案的完整性和准确性。","type":"boolean","required":false,"example":"false"},"topK":{"title":"为召回文档块的数量","description":"为召回文档块的数量","type":"integer","format":"int32","required":false,"example":"10"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<LibraryDocumentRecallVO>","description":"返回数据","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"0"},"data":{"title":"响应数据","description":"响应数据","type":"object","properties":{"chunkList":{"title":"chunk列表","description":"chunk列表","type":"array","items":{"description":"chunk","type":"object","properties":{"chunkId":{"title":"文档块id","description":"文档块id","type":"string","example":"823746762354"},"chunkMeta":{"title":"文档块元数据","description":"文档块元数据","type":"object","example":"{\"a\":\"1\"}"},"chunkOssUrl":{"title":"文档块oss地址","description":"文档块oss地址","type":"string","example":"http://oss-xxx-hangzhou.com/xxx"},"chunkText":{"title":"文档块文本","description":"文档块文本","type":"string","example":"测试文档块"},"chunkType":{"title":"文档块类型","description":"文档块类型","type":"string","example":"text"},"docId":{"title":"文档id","description":"文档id","type":"string","example":"839468263472"},"fileType":{"title":"文档类型","description":"文档类型","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","example":"dscsbdsk"},"libraryName":{"title":"文档库名称","description":"文档库名称","type":"string","example":"测试文档库"},"nextChunkId":{"title":"后一个文档块id","description":"后一个文档块id","type":"string","example":"982374872364"},"pos":{"title":"文档块位置","description":"文档块位置","type":"array","items":{"description":"文档块位置坐标","type":"object","properties":{"axisArray":{"title":"坐标","description":"坐标","type":"array","items":{"description":"坐标值","type":"number","format":"double","example":"20.8"}},"page":{"title":"页码","description":"页码","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"文本高亮区域，用于文本类型的文件高亮","type":"array","items":{"description":"文本高亮区域数据","type":"integer","format":"int32","example":"1"}}}}},"preChunkId":{"title":"前一个文档块id","description":"前一个文档块id","type":"string","example":"827364827364832"},"score":{"title":"文档块分数","description":"文档块分数","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"test"}}}},"chunkPartList":{"title":"chunk part（版面识别结果）列表","description":"chunk part（版面识别结果）列表","type":"array","items":{"description":"chunk part（版面识别结果）","type":"object","properties":{"chunkId":{"title":"文档块id","description":"文档块id","type":"string","example":"98327482364"},"chunkMeta":{"title":"文档块元数据","description":"文档块元数据","type":"object","example":"{\"a\":\"1\"}"},"chunkOssUrl":{"title":"文档块oss地址","description":"文档块oss地址","type":"string","example":"http://oss-xxx-hangzhou.com/xxx\n"},"chunkText":{"title":"文档块文本","description":"文档块文本","type":"string","example":"测试文档块\n"},"chunkType":{"title":"文档块类型","description":"文档块类型","type":"string","example":"text"},"docId":{"title":"文档id","description":"文档id","type":"string","example":"92837482364"},"fileType":{"title":"文档类型","description":"文档类型","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","example":"sjdhgjsd"},"libraryName":{"title":"文档库名称","description":"文档库名称","type":"string","example":"测试文档库"},"nextChunkId":{"title":"后一个文档块id","description":"后一个文档块id","type":"string","example":"2387648263542"},"pos":{"title":"文档块位置","description":"文档块位置","type":"array","items":{"description":"文档块位置数据","type":"object","properties":{"axisArray":{"title":"坐标","description":"坐标","type":"array","items":{"description":"坐标数值","type":"number","format":"double","example":"1"}},"page":{"title":"页码","description":"页码","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"文本高亮区域，用于文本类型的文件高亮","type":"array","items":{"description":"文本高亮区域位置数据","type":"integer","format":"int32","example":"1"}}}}},"preChunkId":{"title":"前一个文档块id","description":"前一个文档块id","type":"string","example":"32874682764"},"score":{"title":"文档块分数","description":"文档块分数","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"测试文档标题"}}}},"chunkTextList":{"title":"chunk text列表","description":"chunk text列表","type":"array","items":{"description":"文档块","type":"string","example":"这是一段测试文档块"}},"documents":{"title":"文档列表","description":"文档列表","type":"array","items":{"description":"文档信息","type":"object","properties":{"docId":{"title":"文档id","description":"文档id","type":"string","example":"92837482364"},"documentMeta":{"title":"文档元数据","description":"文档元数据","type":"object","example":"{\"a\":\"1\"}\n"},"fileType":{"title":"文档类型","description":"文档类型","type":"string","example":"pdf"},"gmtCreate":{"title":"创建时间","description":"创建时间","type":"string","example":"2024-01-01 00:00:00"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","example":"sjdhgjsd\n"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"test"},"url":{"title":"文档链接","description":"文档链接","type":"string","example":"http://oss-xxx-hangzhou.com/test.pdf"}}}},"embeddingElapsedMs":{"title":"向量计算耗时","description":"向量计算耗时","type":"integer","format":"int64","example":"100"},"textChunkList":{"title":"从文本索引召回的chunk列表","description":"从文本索引召回的chunk列表","type":"array","items":{"description":"从文本索引召回的chunk","type":"object","properties":{"chunkId":{"title":"文档块id","description":"文档块id","type":"string","example":"32874682364"},"chunkMeta":{"title":"文档块元数据","description":"文档块元数据","type":"object","example":"{\"a\":\"1\"}\n"},"chunkOssUrl":{"title":"文档块oss地址","description":"文档块oss地址","type":"string","example":"http://oss-xxx-hangzhou.com/xxx\n"},"chunkText":{"title":"文档块文本","description":"文档块文本","type":"string","example":"这是一段测试文档块\n"},"chunkType":{"title":"文档块类型","description":"文档块类型","type":"string","example":"text"},"docId":{"title":"文档id","description":"文档id","type":"string","example":"8372467263542"},"fileType":{"title":"文档类型","description":"文档类型","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","example":"djsgfsjd"},"libraryName":{"title":"文档库名称","description":"文档库名称","type":"string","example":"测试文档库"},"nextChunkId":{"title":"后一个文档块id","description":"后一个文档块id","type":"string","example":"23874682432"},"pos":{"title":"文档块位置","description":"文档块位置","type":"array","items":{"description":"文档块位置","type":"object","properties":{"axisArray":{"title":"坐标","description":"坐标","type":"array","items":{"description":"坐标值","type":"number","format":"double","example":"10"}},"page":{"title":"页码","description":"页码","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"文本高亮区域，用于文本类型的文件高亮","type":"array","items":{"description":"文本高亮区域数据","type":"integer","format":"int32","example":"1"}}}}},"preChunkId":{"title":"前一个文档块id","description":"前一个文档块id","type":"string","example":"89473868346"},"score":{"title":"文档块分数","description":"文档块分数","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"测试文档标题"}}}},"textSearchElapsedMs":{"title":"文本搜索耗时","description":"文本搜索耗时","type":"integer","format":"int64","example":"100"},"totalElapsedMs":{"title":"总耗时 包括向量计算耗时、向量搜索耗时、文本搜索耗时等（取决于召回参数）","description":"总耗时 包括向量计算耗时、向量搜索耗时、文本搜索耗时等（取决于召回参数）","type":"integer","format":"int64","example":"400"},"vectorChunkList":{"title":"从向量索引召回的chunk列表","description":"从向量索引召回的chunk列表","type":"array","items":{"description":"从向量索引召回的chunk","type":"object","properties":{"chunkId":{"title":"文档块id","description":"文档块id","type":"string","example":"8723642345276"},"chunkMeta":{"title":"文档块元数据","description":"文档块元数据","type":"object","example":"{\"a\":\"1\"}"},"chunkOssUrl":{"title":"文档块oss地址","description":"文档块oss地址","type":"string","example":"https://oss-xxxx-hangzhou.com/test.pdf"},"chunkText":{"title":"文档块文本","description":"文档块文本","type":"string","example":"这是一段测试文本"},"chunkType":{"title":"文档块类型","description":"文档块类型","type":"string","example":"text"},"docId":{"title":"文档id","description":"文档id","type":"string","example":"78326476235675372"},"fileType":{"title":"文档类型","description":"文档类型","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","example":"djsgfsjd"},"libraryName":{"title":"文档库名称","description":"文档库名称","type":"string","example":"测试文档库"},"nextChunkId":{"title":"后一个文档块id","description":"后一个文档块id","type":"string","example":"293846872343"},"pos":{"title":"文档块位置","description":"文档块位置","type":"array","items":{"description":"文档块位置坐标","type":"object","properties":{"axisArray":{"title":"坐标","description":"坐标","type":"array","items":{"description":"坐标值","type":"number","format":"double","example":"48.8"}},"page":{"title":"页码","description":"页码","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"文本高亮区域，用于文本类型的文件高亮","type":"array","items":{"description":"文本高亮区域","type":"integer","format":"int32","example":"10"}}}}},"preChunkId":{"title":"前一个文档块id","description":"前一个文档块id","type":"string","example":"873647326542"},"score":{"title":"文档块分数","description":"文档块分数","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"文档标题","type":"string","example":"test"}}}},"vectorSearchElapsedMs":{"title":"向量搜索耗时","description":"向量搜索耗时","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"0bc13a9517168617617186457e401f"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"chunkList\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"823746762354\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"http://oss-xxx-hangzhou.com/xxx\\\",\\n        \\\"chunkText\\\": \\\"测试文档块\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"839468263472\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"dscsbdsk\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"982374872364\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              20.8\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              1\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"827364827364832\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"test\\\"\\n      }\\n    ],\\n    \\\"chunkPartList\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"98327482364\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"http://oss-xxx-hangzhou.com/xxx\\\\n\\\",\\n        \\\"chunkText\\\": \\\"测试文档块\\\\n\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"92837482364\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"sjdhgjsd\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"2387648263542\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              1\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              1\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"32874682764\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"测试文档标题\\\"\\n      }\\n    ],\\n    \\\"chunkTextList\\\": [\\n      \\\"这是一段测试文档块\\\"\\n    ],\\n    \\\"documents\\\": [\\n      {\\n        \\\"docId\\\": \\\"92837482364\\\",\\n        \\\"documentMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"libraryId\\\": \\\"sjdhgjsd\\\\n\\\",\\n        \\\"title\\\": \\\"test\\\",\\n        \\\"url\\\": \\\"http://oss-xxx-hangzhou.com/test.pdf\\\"\\n      }\\n    ],\\n    \\\"embeddingElapsedMs\\\": 100,\\n    \\\"textChunkList\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"32874682364\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"http://oss-xxx-hangzhou.com/xxx\\\\n\\\",\\n        \\\"chunkText\\\": \\\"这是一段测试文档块\\\\n\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"8372467263542\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"djsgfsjd\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"23874682432\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              10\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              1\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"89473868346\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"测试文档标题\\\"\\n      }\\n    ],\\n    \\\"textSearchElapsedMs\\\": 100,\\n    \\\"totalElapsedMs\\\": 400,\\n    \\\"vectorChunkList\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"8723642345276\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"https://oss-xxxx-hangzhou.com/test.pdf\\\",\\n        \\\"chunkText\\\": \\\"这是一段测试文本\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"78326476235675372\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"djsgfsjd\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"293846872343\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              48.8\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              10\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"873647326542\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"test\\\"\\n      }\\n    ],\\n    \\\"vectorSearchElapsedMs\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0bc13a9517168617617186457e401f\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"文档召回","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"GetParseResult":{"summary":"获取文档解析结果。可查询文档的解析状态以及获取文档的解析结果。","path":"/{workspaceId}/api/library/document/getParseResult","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id。","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求body。","type":"object","properties":{"docId":{"title":"文档id","description":"文档id","type":"string","required":true,"example":"873648346573245"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"sjdgdsfg"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<DocumentParseResultVO>","description":"ResultCode<DocumentParseResultVO>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"object","properties":{"fileType":{"title":"文件类型","description":"文件类型","type":"string","example":"pdf"},"providerType":{"title":"供应商类型","description":"供应商类型","type":"string","example":"null"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"b0a202e2-5031-4589-a6d7-39185f0d8d01"},"result":{"title":"解析结果","description":"解析结果","type":"object","example":"{\n          \"Status\": \"Success\",\n          \"Data\": {},\n          \"Message\": null,\n          \"TaskId\": \"docmind-20240601-123abc\"\n        }"},"status":{"title":"文档解析状态","description":"文档解析状态","type":"string","example":"WaitRefresh"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"0abb793617204049360065953ec6dd"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"fileType\\\": \\\"pdf\\\",\\n    \\\"providerType\\\": \\\"null\\\",\\n    \\\"requestId\\\": \\\"b0a202e2-5031-4589-a6d7-39185f0d8d01\\\",\\n    \\\"result\\\": {\\n      \\\"Status\\\": \\\"Success\\\",\\n      \\\"Data\\\": {},\\n      \\\"Message\\\": null,\\n      \\\"TaskId\\\": \\\"docmind-20240601-123abc\\\"\\n    },\\n    \\\"status\\\": \\\"WaitRefresh\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0abb793617204049360065953ec6dd\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"获取文档解析结果","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"ReIndex":{"summary":"重建索引，会对指定文档重新进行文档解析、分块、构建索引等流程。","path":"/{workspaceId}/api/library/document/reIndex","methods":["put"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间","description":"路径参数，业务空间id。","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"documentId","in":"query","schema":{"title":"文档id","description":"文档id","type":"string","required":true,"example":"8326472354762354"}}],"responses":{"200":{"schema":{"title":"ResultCode<ResultCodeEnum>","description":"返回结果","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"string","example":"True"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"32FFC91D-0A9F-585A-B84F-8A54C5187035"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"True\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"32FFC91D-0A9F-585A-B84F-8A54C5187035\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"重建索引","description":"请确保在使用该接口前，已充分了解通义点金产品的收费方式和价格。\n\n\n前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"UpdateLibrary":{"summary":"更新文档库，可用于更新文档库的名称、描述、索引配置等信息。","path":"/{workspaceId}/api/library/update","methods":["put"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"description":{"title":"文档库描述","description":"文档库描述","type":"string","required":false,"example":"文档库描述"},"indexSetting":{"title":"文档库索引配置","description":"文档库索引配置","type":"object","properties":{"chunkStrategy":{"title":"分块策略","description":"分块策略","type":"object","properties":{"docTreeSplit":{"title":"版面切分","description":"版面切分","type":"boolean","required":false,"example":"true"},"docTreeSplitSize":{"title":"版面切分大小","description":"版面切分大小","type":"integer","format":"int32","required":false,"example":"160"},"enhanceGraph":{"title":"是否增强图片","description":"是否增强图片","type":"boolean","required":false,"example":"true"},"enhanceTable":{"title":"是否增强表格","description":"是否增强表格","type":"boolean","required":false,"example":"true"},"overlap":{"title":"chunk重叠长度","description":"chunk重叠长度","type":"integer","format":"int32","required":false,"example":"20"},"sentenceSplit":{"title":"按句子切分","description":"是否按照句子切分：默认为true","type":"boolean","required":false,"example":"true"},"sentenceSplitSize":{"title":"版面切分大小","description":"按照句子切分的平均长度","type":"integer","format":"int32","required":false,"example":"160"},"size":{"title":"chunk大小","description":"定长切分的chunk长度","type":"integer","format":"int32","required":false,"example":"256"},"split":{"title":"是否切块","description":"是否切块","type":"boolean","required":false,"example":"true"}},"required":false},"modelConfig":{"title":"模型配置","description":"模型配置","type":"object","properties":{"temperature":{"title":"温度","description":"温度","type":"number","format":"double","required":false,"example":"0.8"},"topP":{"title":"topP","description":"topP","type":"number","format":"double","required":false,"example":"0.8"}},"required":false},"promptRoleStyle":{"title":"prompt角色风格","description":"prompt角色风格","type":"string","required":false,"example":"你是一位文档分析专家，非常善于从给定的知识中，找到重点，像老师给学生讲课一样把问题回答清晰。你的回答富有逻辑性，遇到复杂问题，你善于一步一步思考。"},"queryEnhancer":{"title":"query增强","description":"query增强","type":"object","properties":{"enableFollowUp":{"title":"多轮增强","description":"多轮增强","type":"boolean","required":false,"example":"true"},"enableMultiQuery":{"title":"是否利用大模型知识拆解问题","description":"是否利用大模型知识拆解问题","type":"boolean","required":false,"example":"true"},"enableOpenQa":{"title":"是否利用大模型知识回答问题","description":"是否利用大模型知识回答问题","type":"boolean","required":false,"example":"true"},"enableQueryRewrite":{"title":"是否根据领域知识改写问题","description":"是否根据领域知识改写问题","type":"boolean","required":false,"example":"true"},"enableSession":{"title":"记录session","description":"记录session","type":"boolean","required":false,"example":"true"},"localKnowledgeId":{"title":"知识改写使用的文档库id","description":"知识改写使用的文档库id","type":"string","required":false,"example":"sjdhgfc"},"withDocumentReference":{"title":"是否带文档引用","description":"是否带文档引用","type":"boolean","required":false,"example":"true"}},"required":false},"recallStrategy":{"title":"召回策略","description":"召回策略","type":"object","properties":{"documentRankType":{"title":"合并&排序策略","description":"合并&排序策略","type":"string","required":false,"example":"model"},"limit":{"title":"两路合并总结的结果数","description":"两路合并总结的结果数","type":"integer","format":"int32","required":false,"example":"10"}},"required":false},"textIndexSetting":{"title":"文本索引设置","description":"文本索引设置","type":"object","properties":{"category":{"title":"文本索引类型","description":"文本索引类型","type":"string","required":false,"example":"ElasticSearch","pattern":"^ElasticSearch$","default":"ElasticSearch"},"enable":{"title":"文本索引是否开启","description":"文本索引是否开启","type":"boolean","required":false,"example":"true"},"indexAnalyzer":{"title":"文本索引索引分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"文本索引的索引分析器: (Standard, IkMaxWord, IkSmart)","type":"string","required":false,"example":"Standard"},"rankThreshold":{"title":"文本索引排序阈值","description":"文本索引排序阈值","type":"number","format":"double","required":false,"example":"0.5"},"searchAnalyzer":{"title":"文本索引搜索分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"文本索引的搜索分析器: (Standard, IkMaxWord, IkSmart)","type":"string","required":false,"example":"Standard"},"topK":{"title":"文本索引最后总结结果数","description":"文本索引最后总结结果数","type":"integer","format":"int32","required":false,"example":"50"}},"required":false},"vectorIndexSetting":{"title":"向量索引设置","description":"向量索引设置","type":"object","properties":{"category":{"title":"向量索引来源：建议填写 ADB","description":"向量索引来源：建议填写 ADB","type":"string","required":false,"example":"ADB","pattern":"^ADB$","default":"ADB"},"embeddingType":{"title":"向量索引文本Embedding模型","description":"向量索引文本Embedding模型","type":"string","required":false,"example":"DashScope"},"enable":{"title":"是否开启","description":"是否开启","type":"boolean","required":false,"example":"true"},"rankThreshold":{"title":"向量索引排序阈值","description":"向量索引排序阈值","type":"number","format":"double","required":false,"example":"0.5"},"topK":{"title":"向量索引最后总结结果数","description":"向量索引最后总结结果数","type":"integer","format":"int32","required":false,"example":"10"}},"required":false}},"required":false},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"dsfbashdbb"},"libraryName":{"title":"文档库名称","description":"文档库名称","type":"string","required":false,"example":"测试文档库"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"string","example":"null"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"null\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"更新文档库","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"DeleteLibrary":{"summary":"删除文档库，注意⚠️，此接口将会删除文档库及其关联的所有文档。","path":"/{workspaceId}/api/library/delete","methods":["delete"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"delete","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间","description":"业务空间","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"libraryId","in":"query","schema":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"skdfefxxx"}}],"responses":{"200":{"schema":{"description":"返回数据","type":"object","properties":{"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"30F6AD44-F078-540D-B5A5-1E519C8E9E6D"},"success":{"title":"请求是否成功","description":"请求是否成功","type":"boolean","example":"true"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"30F6AD44-F078-540D-B5A5-1E519C8E9E6D\\\",\\n  \\\"success\\\": true\\n}\",\"type\":\"json\"}]","title":"删除文档库","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"RunLibraryChatGeneration":{"summary":"文档库会话生成，用自然语言提问，检索文档库相关信息，总结回答。","path":"/{workspaceId}/api/run/library/chat/generation","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid","autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"业务空间Id","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体。","type":"object","properties":{"docIdList":{"title":"文档列表","description":"文档id列表","type":"array","items":{"description":"文档id","type":"string","required":false,"example":"1273827636xxx"},"required":false},"enableFollowUp":{"title":"是否开启多轮增强","description":"是否开启多轮增强","type":"boolean","required":false,"example":"false"},"enableMultiQuery":{"title":"是否开启query拆分","description":"是否开启query拆分","type":"boolean","required":false,"example":"false"},"enableOpenQa":{"title":"是否开启openQA","description":"是否开启openQA","type":"boolean","required":false,"example":"false"},"followUpLlm":{"title":"query多轮增强使用的llm","description":"query多轮增强使用的llm","type":"string","required":false,"example":"qwen-max"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"3akzl28vap"},"llmType":{"title":"大模型类型","description":"大模型类型","type":"string","required":true,"example":"qwen-max"},"multiQueryLlm":{"title":"query拆分使用的llm","description":"query拆分使用的llm","type":"string","required":false,"example":"qwen-max"},"query":{"title":"用户输入的query","description":"用户输入的query","type":"string","required":true,"example":"这两天北京气候怎么样"},"queryCriteria":{"title":"属性过滤器","description":"属性过滤器","type":"object","properties":{"and":{"title":"and表达式，用于筛选文档/文档块","description":"and表达式，用于筛选文档/文档块","type":"array","items":{"description":"and表达式的内容","type":"object","properties":{"boost":{"title":"标签的权重","description":"标签的权重。当该值小于1时，则降低对应关键词的权重；反之，大于1时，增大对应关键词的权重。","type":"number","format":"float","required":false,"example":"0.5"},"key":{"title":"标签的key","description":"标签的key","type":"string","required":false,"example":"city"},"operator":{"title":"标签的操作符：文档库元信息key存储的value和您输入的value之间的关系","description":"标签的操作符：文档库元信息key存储的value和您输入的value之间的关系\n\n- eq: 文档库元信息key存储的value = 您输入的value\n- lte：文档库元信息key存储的value <= 您输入的value\n- gte：文档库元信息key存储的value >= 您输入的value\n- lt：文档库元信息key存储的value < 您输入的value\n- gt：文档库元信息key存储的value > 您输入的value","type":"string","required":false,"example":"eq"},"value":{"title":"标签的值","description":"标签的值","type":"string","required":false,"example":"北京"}},"required":false},"required":false},"or":{"title":"or表达式，用于筛选文档/文档块","description":"or表达式，用于筛选文档/文档块","type":"array","items":{"description":"or表达式的内容","type":"object","properties":{"boost":{"title":"标签的权重","description":"标签的权重。当该值小于1时，则降低对应关键词的权重；反之，大于1时，增大对应关键词的权重。","type":"number","format":"float","required":false,"example":"0.5"},"key":{"title":"标签的key","description":"标签的key","type":"string","required":false,"example":"city"},"operator":{"title":"标签的操作符：文档库元信息key存储的value和您输入的value之间的关系","description":"标签的操作符：文档库元信息key存储的value和您输入的value之间的关系\n\n- eq: 文档库元信息key存储的value = 您输入的value\n- lte：文档库元信息key存储的value <= 您输入的value\n- gte：文档库元信息key存储的value >= 您输入的value\n- lt：文档库元信息key存储的value < 您输入的value\n- gt：文档库元信息key存储的value > 您输入的value","type":"string","required":false,"example":"eq"},"value":{"title":"标签的值","description":"标签的值","type":"string","required":false,"example":"北京"}},"required":false},"required":false}},"required":false},"rerankType":{"title":"排序策略类型：linear/model (linear: 基于规则排序, model: 模型排序, llm)","description":"排序策略类型：linear/model (linear: 基于规则排序, model: 模型排序, llm)","type":"string","required":false,"example":"linear"},"sessionId":{"title":"sessionId","description":"sessionId","type":"string","required":false,"example":"null"},"stream":{"title":"流式/非流式","description":"流式/非流式","type":"boolean","required":false,"example":"false","default":"false"},"subQueryList":{"title":"子查询query","description":"子查询query列表","type":"array","items":{"description":"子查询query","type":"string","required":false,"example":"北京最近气温如何？"},"required":false},"textSearchParameter":{"title":"搜索引擎参数--文本搜索参数","description":"搜索引擎参数--文本搜索参数","type":"object","properties":{"limit":{"title":"返回行数","description":"返回行数","type":"integer","format":"int32","required":false,"example":"10"},"searchAnalyzerType":{"title":"搜索分词器，根据业务需求灵活配置，如果留空，使用文档库绑定的搜索分词器","description":"搜索分词器（Standard, IkMaxWord, IkSmart），根据业务需求灵活配置，如果留空，使用文档库绑定的搜索分词器。","type":"string","required":false,"example":"IkMaxWord"}},"required":false},"topK":{"title":"最终召回的语料数量","description":"最终召回的语料数量","type":"integer","format":"int32","required":false,"example":"1"},"vectorSearchParameter":{"title":"搜索引擎参数--向量搜索参数","description":"搜索引擎参数--向量搜索参数","type":"object","properties":{"limit":{"title":"返回行数","description":"返回行数","type":"integer","format":"int32","required":false,"example":"10"}},"required":false},"withDocumentReference":{"title":"是否返回文档引用","description":"是否返回文档引用","type":"boolean","required":false,"example":"false"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<Object>","description":"ResultCode<Object>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据（非流式）。","type":"any","example":"{\n    \"finish\":true,\n    \"text\":\"是的，记名预付卡的有效期不得低于3年。\",\n    \"message\": \"是的，记名预付卡的有效期不得低于3年。\",\n    \"queryResult\":{\n      \"errCode\": \"0\",\t//接口协议层面的错误码，正常为0，未授权，参数错误，服务器异常时会发生变化，可以忽略不处理\n      \"message\": \"ok\",\t//接口协议层面的消息\n      \"data\":{\n        \"success\": true,\t//有回答true 无回答false\n        \"answer\": null,\t//大模型生成的回答结果\n        \"embeddingElapsedMs\": 127,\n        \"vectorSearchElapsedMs\": 2745,\n        \"llmElapsedMs\": 7911,\n        \"totalElapsedMs\": 10820,\n        \"chunks\": [\t//召回的分块信息，一般为top5或top10，可联系我们调整效果\n          {\n            \"chunkId\": \"470182177892469799\",\t//分块信息的编号\n            \"docId\": \"22666332\",\t//分块关联的文档编号\n            \"chunkText\": \"Profits plummeted in the first quarter, can't you bear it? In fact, previous rounds of price cuts have indeed had a certain impact on Tesla's financial data. Tesla has just released its financial report for the first quarter of this year. The data shows that in Q1 2023, Tesla achieved revenue of 23.33 billion US dollars, an increase of 24% over the previous year; Tesla delivered more than 422,000 electric vehicles worldwide in the first quarter, an increase of 36% over the previous year\",\t//新闻原始内容\n            \"chunkMeta\": {\t// demo数据中的其他metadata\n              \"language\": \"en\",\n              \"unique_id\": \"news_22666332_13\",\n              \"content_type\": \"news\",\n              \"stock_id_list\": []\n            }\n          }],\n        \"documents\": [{\n          \"docId\": \"1686637056086872065\",\t//文档编号\n          \"gmtCreate\": \"2023-08-02 15:16:25\",\t//文档的创建时间\n          \"libraryId\": \"a1b2c3\",\t//文档关联的知识库编号\n          \"title\": \"2023年工银信用卡微信、京东绑卡消费累计积分活动\",\t//文档标题\n          \"url\": null\t//文档连接，如有\n        }]\t//块文本关联的文档\n      },\n      \"success\": true\t//接口协议层面的成功/失败状态 true就是errCode为0\n    }\n  }"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"{\\\\n    \\\\\\\"finish\\\\\\\":true,\\\\n    \\\\\\\"text\\\\\\\":\\\\\\\"是的，记名预付卡的有效期不得低于3年。\\\\\\\",\\\\n    \\\\\\\"message\\\\\\\": \\\\\\\"是的，记名预付卡的有效期不得低于3年。\\\\\\\",\\\\n    \\\\\\\"queryResult\\\\\\\":{\\\\n      \\\\\\\"errCode\\\\\\\": \\\\\\\"0\\\\\\\",\\\\t//接口协议层面的错误码，正常为0，未授权，参数错误，服务器异常时会发生变化，可以忽略不处理\\\\n      \\\\\\\"message\\\\\\\": \\\\\\\"ok\\\\\\\",\\\\t//接口协议层面的消息\\\\n      \\\\\\\"data\\\\\\\":{\\\\n        \\\\\\\"success\\\\\\\": true,\\\\t//有回答true 无回答false\\\\n        \\\\\\\"answer\\\\\\\": null,\\\\t//大模型生成的回答结果\\\\n        \\\\\\\"embeddingElapsedMs\\\\\\\": 127,\\\\n        \\\\\\\"vectorSearchElapsedMs\\\\\\\": 2745,\\\\n        \\\\\\\"llmElapsedMs\\\\\\\": 7911,\\\\n        \\\\\\\"totalElapsedMs\\\\\\\": 10820,\\\\n        \\\\\\\"chunks\\\\\\\": [\\\\t//召回的分块信息，一般为top5或top10，可联系我们调整效果\\\\n          {\\\\n            \\\\\\\"chunkId\\\\\\\": \\\\\\\"470182177892469799\\\\\\\",\\\\t//分块信息的编号\\\\n            \\\\\\\"docId\\\\\\\": \\\\\\\"22666332\\\\\\\",\\\\t//分块关联的文档编号\\\\n            \\\\\\\"chunkText\\\\\\\": \\\\\\\"Profits plummeted in the first quarter, can't you bear it? In fact, previous rounds of price cuts have indeed had a certain impact on Tesla's financial data. Tesla has just released its financial report for the first quarter of this year. The data shows that in Q1 2023, Tesla achieved revenue of 23.33 billion US dollars, an increase of 24% over the previous year; Tesla delivered more than 422,000 electric vehicles worldwide in the first quarter, an increase of 36% over the previous year\\\\\\\",\\\\t//新闻原始内容\\\\n            \\\\\\\"chunkMeta\\\\\\\": {\\\\t// demo数据中的其他metadata\\\\n              \\\\\\\"language\\\\\\\": \\\\\\\"en\\\\\\\",\\\\n              \\\\\\\"unique_id\\\\\\\": \\\\\\\"news_22666332_13\\\\\\\",\\\\n              \\\\\\\"content_type\\\\\\\": \\\\\\\"news\\\\\\\",\\\\n              \\\\\\\"stock_id_list\\\\\\\": []\\\\n            }\\\\n          }],\\\\n        \\\\\\\"documents\\\\\\\": [{\\\\n          \\\\\\\"docId\\\\\\\": \\\\\\\"1686637056086872065\\\\\\\",\\\\t//文档编号\\\\n          \\\\\\\"gmtCreate\\\\\\\": \\\\\\\"2023-08-02 15:16:25\\\\\\\",\\\\t//文档的创建时间\\\\n          \\\\\\\"libraryId\\\\\\\": \\\\\\\"a1b2c3\\\\\\\",\\\\t//文档关联的知识库编号\\\\n          \\\\\\\"title\\\\\\\": \\\\\\\"2023年工银信用卡微信、京东绑卡消费累计积分活动\\\\\\\",\\\\t//文档标题\\\\n          \\\\\\\"url\\\\\\\": null\\\\t//文档连接，如有\\\\n        }]\\\\t//块文本关联的文档\\\\n      },\\\\n      \\\\\\\"success\\\\\\\": true\\\\t//接口协议层面的成功/失败状态 true就是errCode为0\\\\n    }\\\\n  }\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"文档库会话生成","responseParamsDescription":"## 流式接口返回说明\n### 根据历史对话改写结果\n```json\n{\n    \"success\": true,\n    \"dataType\": \"copilotStep\",\n    \"time\": \"2024-08-26 11:28:10\",\n    \"errCode\": \"0\",\n    \"message\": \"ok\",\n    \"data\": {\n        \"stepName\": \"start_followup_query\",  // 开始改写\n        \"data\": \"业绩表现如何\"\n    },\n    \"requestId\": null,\n    \"cost\": null\n}\n\n\n{\n    \"success\": true,\n    \"dataType\": \"copilotStep\",\n    \"time\": \"2024-08-26 11:28:10\",\n    \"errCode\": \"0\",\n    \"message\": \"ok\",\n    \"data\": {\n        \"stepName\": \"completed_followup_query\", // 完成改写\n        \"data\": \"业绩表现如何\"\n    },\n    \"requestId\": null,\n    \"cost\": null\n}\n```\n### query分解\n```json\n{\n    \"success\": true,\n    \"dataType\": \"copilotStep\",\n    \"time\": \"2024-08-26 11:28:10\",\n    \"errCode\": \"0\",\n    \"message\": \"ok\",\n    \"data\": {\n        \"stepName\": \"start_understand_query\",  // 开始拆分\n        \"data\": \"业绩表现如何\"\n    },\n    \"requestId\": null,\n    \"cost\": null\n}\n\n{\n    \"success\": true,\n    \"dataType\": \"copilotStep\",\n    \"time\": \"2024-08-26 11:28:12\",\n    \"errCode\": \"0\",\n    \"message\": \"ok\",\n    \"data\": {\n        \"stepName\": \"completed_understand_query\",  // 完成拆分\n        \"data\": [\n            \"业绩表现的具体时间段是什么？\",\n            \"是指哪一行业的业绩表现，或者哪个公司的业绩表现？\",\n            \"业绩表现的数据指标有哪些？例如营收、利润、市场份额等。\"\n        ]\n    },\n    \"requestId\": null,\n    \"cost\": null\n}\n\n```\n\n### 召回结果\n```json\n{\n    \"success\": true,\n    \"dataType\": \"queryResult\",\n    \"time\": \"2023-09-20 16:36:04\",\n    \"errCode\": \"0\",\n    \"message\": \"retriever completed\",\n    \"data\": {\n        \"success\": true,\n        \"answer\": null,\n        \"prompt\": \"请使用以下上下文来回答最后的问题。\\n以下是上下文内容：\\n回，本办法另有规定的除外。不记名预付卡有效期不得低于3年。\\n预付卡不得具有透支功能。\\n发卡机构发行销售预付卡时，应向持卡人告知预付卡的有效 期及计算方法。超过有效期尚有资金余额的预付卡，发卡机构应 当提供延期、激活、换卡等服务，保障持卡人继续使用。\\n第九条预付卡卡面应当记载预付卡名称、发卡机构名称、 是否记名、卡号、有效期限或有效期截止日、持卡人注意事项、 客户服务电话等要素。\\n第十条个人或单位购买记名预付卡或一次性购买不记名预 付卡1万元以上的，应当使用实名并提供有效身份证件。\\n发卡机构应当识别购卡人、单位经办人的身份，\\n\\n息。\\n对于记名预付卡，发卡机构还应当在预付卡核心业务处理系 统中记载持卡人的有效身份证件信息、预付卡卡号、金额等信息。\\n第十二条单位一次性购买预付卡5000元以上，个人一次性购 买预付卡5万元以上的，应当通过银行转账等非现金结算方式购 买，不得使用现金。\\n购卡人不得使用信用卡购买预付卡。\\n第十三条采用银行转账等非现金结算方式购买预付卡的， 付款人银行账户名称和购卡人名称应当一致。\\n发卡机构应当核对账户信息和身份信息的一致性，在预付卡 核心业务处理系统中记载付款人银行账户名称和账号、收款人银 行账户名称和账号、转账金额等信息。\\n第十四\\n\\n\\n\\n基于上下文理解作出回答，保持回答尽可能简洁。如果你不知道答案，直接回答我不知道。\\n问题：记名预付卡有效期不得低于3年吗？\\n答案：\",\n        \"embeddingElapsedMs\": 1423,\n        \"vectorSearchElapsedMs\": 115,\n        \"textSearchElapsedMs\": 0,\n        \"llmElapsedMs\": null,\n        \"totalElapsedMs\": 1626,\n        \"reRankElapsedMs\": 8,\n        \"chunks\": [\n            {\n                \"libraryId\": \"5rdxr3dxmk\",\n                \"libraryName\": \"富滇银行测试知识库\",\n                \"title\": \"《支付机构预付卡业务管理办法》(中国人民银行公告〔2012〕第12号)\",\n                \"chunkId\": \"478245189908103170\",\n                \"docId\": \"1701838553380655106\",\n                \"chunkText\": \"回，本办法另有规定的除外。不记名预付卡有效期不得低于3年。\\n预付卡不得具有透支功能。\\n发卡机构发行销售预付卡时，应向持卡人告知预付卡的有效 期及计算方法。超过有效期尚有资金余额的预付卡，发卡机构应 当提供延期、激活、换卡等服务，保障持卡人继续使用。\\n第九条预付卡卡面应当记载预付卡名称、发卡机构名称、 是否记名、卡号、有效期限或有效期截止日、持卡人注意事项、 客户服务电话等要素。\\n第十条个人或单位购买记名预付卡或一次性购买不记名预 付卡1万元以上的，应当使用实名并提供有效身份证件。\\n发卡机构应当识别购卡人、单位经办人的身份，\",\n                \"fileType\": \"pdf\",\n                \"chunkMeta\": {},\n                \"score\": 0.92747295\n            },\n            {\n                \"libraryId\": \"5rdxr3dxmk\",\n                \"libraryName\": \"富滇银行测试知识库\",\n                \"title\": \"《支付机构预付卡业务管理办法》(中国人民银行公告〔2012〕第12号)\",\n                \"chunkId\": \"478245189908234242\",\n                \"docId\": \"1701838553380655106\",\n                \"chunkText\": \"息。\\n对于记名预付卡，发卡机构还应当在预付卡核心业务处理系 统中记载持卡人的有效身份证件信息、预付卡卡号、金额等信息。\\n第十二条单位一次性购买预付卡5000元以上，个人一次性购 买预付卡5万元以上的，应当通过银行转账等非现金结算方式购 买，不得使用现金。\\n购卡人不得使用信用卡购买预付卡。\\n第十三条采用银行转账等非现金结算方式购买预付卡的， 付款人银行账户名称和购卡人名称应当一致。\\n发卡机构应当核对账户信息和身份信息的一致性，在预付卡 核心业务处理系统中记载付款人银行账户名称和账号、收款人银 行账户名称和账号、转账金额等信息。\\n第十四\",\n                \"fileType\": \"pdf\",\n                \"chunkMeta\": {},\n                \"score\": 0.8335201\n            }\n        ],\n        \"vectorChunks\": [\n            {\n                \"libraryId\": \"5rdxr3dxmk\",\n                \"libraryName\": null,\n                \"title\": null,\n                \"chunkId\": \"478245189908103170\",\n                \"docId\": \"1701838553380655106\",\n                \"chunkText\": \"回，本办法另有规定的除外。不记名预付卡有效期不得低于3年。\\n预付卡不得具有透支功能。\\n发卡机构发行销售预付卡时，应向持卡人告知预付卡的有效 期及计算方法。超过有效期尚有资金余额的预付卡，发卡机构应 当提供延期、激活、换卡等服务，保障持卡人继续使用。\\n第九条预付卡卡面应当记载预付卡名称、发卡机构名称、 是否记名、卡号、有效期限或有效期截止日、持卡人注意事项、 客户服务电话等要素。\\n第十条个人或单位购买记名预付卡或一次性购买不记名预 付卡1万元以上的，应当使用实名并提供有效身份证件。\\n发卡机构应当识别购卡人、单位经办人的身份，\",\n                \"fileType\": null,\n                \"chunkMeta\": {},\n                \"score\": 0.85494584\n            },\n            {\n                \"libraryId\": \"5rdxr3dxmk\",\n                \"libraryName\": null,\n                \"title\": null,\n                \"chunkId\": \"478245189908234242\",\n                \"docId\": \"1701838553380655106\",\n                \"chunkText\": \"息。\\n对于记名预付卡，发卡机构还应当在预付卡核心业务处理系 统中记载持卡人的有效身份证件信息、预付卡卡号、金额等信息。\\n第十二条单位一次性购买预付卡5000元以上，个人一次性购 买预付卡5万元以上的，应当通过银行转账等非现金结算方式购 买，不得使用现金。\\n购卡人不得使用信用卡购买预付卡。\\n第十三条采用银行转账等非现金结算方式购买预付卡的， 付款人银行账户名称和购卡人名称应当一致。\\n发卡机构应当核对账户信息和身份信息的一致性，在预付卡 核心业务处理系统中记载付款人银行账户名称和账号、收款人银 行账户名称和账号、转账金额等信息。\\n第十四\",\n                \"fileType\": null,\n                \"chunkMeta\": {},\n                \"score\": 0.6670402\n            }\n        ],\n        \"textChunks\": [],\n        \"chunkParts\": [],\n        \"chunkTextList\": [\n            \"回，本办法另有规定的除外。不记名预付卡有效期不得低于3年。\\n预付卡不得具有透支功能。\\n发卡机构发行销售预付卡时，应向持卡人告知预付卡的有效 期及计算方法。超过有效期尚有资金余额的预付卡，发卡机构应 当提供延期、激活、换卡等服务，保障持卡人继续使用。\\n第九条预付卡卡面应当记载预付卡名称、发卡机构名称、 是否记名、卡号、有效期限或有效期截止日、持卡人注意事项、 客户服务电话等要素。\\n第十条个人或单位购买记名预付卡或一次性购买不记名预 付卡1万元以上的，应当使用实名并提供有效身份证件。\\n发卡机构应当识别购卡人、单位经办人的身份，\",\n            \"息。\\n对于记名预付卡，发卡机构还应当在预付卡核心业务处理系 统中记载持卡人的有效身份证件信息、预付卡卡号、金额等信息。\\n第十二条单位一次性购买预付卡5000元以上，个人一次性购 买预付卡5万元以上的，应当通过银行转账等非现金结算方式购 买，不得使用现金。\\n购卡人不得使用信用卡购买预付卡。\\n第十三条采用银行转账等非现金结算方式购买预付卡的， 付款人银行账户名称和购卡人名称应当一致。\\n发卡机构应当核对账户信息和身份信息的一致性，在预付卡 核心业务处理系统中记载付款人银行账户名称和账号、收款人银 行账户名称和账号、转账金额等信息。\\n第十四\"\n        ],\n        \"documents\": [\n            {\n                \"docId\": \"1701838553380655106\",\n                \"gmtCreate\": \"2023-09-13 14:01:44\",\n                \"libraryId\": null,\n                \"title\": \"《支付机构预付卡业务管理办法》(中国人民银行公告〔2012〕第12号)\",\n                \"url\": null,\n                \"fileType\": \"pdf\"\n            }\n        ]\n    },\n    \"cost\": null\n}\n``` \n### 模型总结的结果\n```json\n{\n    \"success\": true,\n    \"dataType\": \"message\",\n    \"time\": \"2023-09-20 16:36:05\",\n    \"errCode\": \"0\",\n    \"message\": \"ok\",\n    \"data\": {\n        \"message\": \"是的，\",// 增量答案\n        \"text\": \"是的，\", // 累计答案\n        \"finish\": false\n    },\n    \"cost\": null\n}\n```"},"GetHistoryListByBizType":{"summary":"根据业务类型获取对话历史记录","path":"/{workspaceId}/api/history/list","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"业务空间Id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"page","in":"query","schema":{"title":"页码","description":"页码","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"pageSize","in":"query","schema":{"title":"页面大小","description":"页面大小","type":"integer","format":"int32","required":false,"example":"10","default":"10"}},{"name":"bizType","in":"query","schema":{"title":"业务类型，目前支持：模型问答（LlmChat）、文档库问答（LibraryChat）","description":"业务类型，目前支持：模型问答（LlmChat）、文档库问答（LibraryChat）","type":"string","required":true,"enumValueTitles":{"LlmChat":"LlmChat","LibraryChat":"LibraryChat"},"example":"LibraryChat"}},{"name":"bizId","in":"query","schema":{"title":"业务唯一标识，当bizType为LibraryChat时，bizId指的是文档库id","description":"业务唯一标识，当bizType为LibraryChat时，bizId指的是文档库id","type":"string","required":true,"example":"GysYBsxx"}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<LlmHistoryVO>>","description":"ResultCode<PageVO<LlmHistoryVO>>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"object","properties":{"currentPage":{"title":"当前页","description":"当前页","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"每页记录数","description":"每页记录数","type":"integer","format":"int64","example":"10"},"records":{"title":"记录","description":"记录","type":"array","items":{"description":"数据","type":"object","properties":{"bizId":{"title":"业务id","description":"业务id","type":"string","example":"GysYBsxx"},"bizType":{"title":"业务类型","description":"业务类型","type":"string","example":"LibraryChat"},"extraMessage":{"title":"扩展信息","description":"扩展信息","type":"any","example":"null"},"gmtCreate":{"title":"创建时间","description":"创建时间","type":"string","example":"2024-01-01 00:00:00"},"gmtModified":{"title":"修改时间","description":"修改时间","type":"string","example":"2024-01-01 00:00:00\n"},"id":{"title":"历史记录id","description":"历史记录id","type":"integer","format":"int64","example":"210"},"llmAnswer":{"title":"大模型回答","description":"大模型回答","type":"string","example":"你好。"},"llmPrompt":{"title":"大模型提示词","description":"大模型提示词","type":"string","example":"请使用以下上下文来回答最后的问题。\\n以下是上下文内容："},"llmType":{"title":"大模型类型","description":"大模型类型","type":"string","example":"qwen-max"},"sessionId":{"title":"会话id","description":"会话id","type":"string","example":"null"},"userQuery":{"title":"用户问题","description":"用户问题","type":"string","example":"你是谁"}}}},"totalPages":{"title":"总页数","description":"总页数","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"总记录数","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"9DF9B3F3-9FFE-52CB-A8DC-F7BD5F842F0E"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"bizId\\\": \\\"GysYBsxx\\\",\\n        \\\"bizType\\\": \\\"LibraryChat\\\",\\n        \\\"extraMessage\\\": \\\"null\\\",\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\\n\\\",\\n        \\\"id\\\": 210,\\n        \\\"llmAnswer\\\": \\\"你好。\\\",\\n        \\\"llmPrompt\\\": \\\"请使用以下上下文来回答最后的问题。\\\\\\\\n以下是上下文内容：\\\",\\n        \\\"llmType\\\": \\\"qwen-max\\\",\\n        \\\"sessionId\\\": \\\"null\\\",\\n        \\\"userQuery\\\": \\\"你是谁\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"9DF9B3F3-9FFE-52CB-A8DC-F7BD5F842F0E\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]","title":"根据业务类型获取对话历史记录"},"CreateFinReportSummaryTask":{"summary":"创建财报总结接口。","path":"/{workspaceId}/api/task/summary","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"create","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"docId":{"title":"文档id","description":"文档id","type":"string","required":true,"example":"123"},"enableTable":{"title":"是否启用表格","description":"是否启用表格","type":"boolean","required":true,"example":"true"},"endPage":{"title":"结束页","description":"结束页","type":"integer","format":"int32","required":false,"example":"10"},"instruction":{"title":"指令","description":"指令","type":"string","required":false,"example":"请帮我总结一下。"},"libraryId":{"title":"文档库id","description":"文档库id","type":"string","required":true,"example":"3akzl28vap"},"modelId":{"title":"模型id","description":"模型id","type":"string","required":true,"example":"qwen-max"},"startPage":{"title":"起始页","description":"起始页","type":"integer","format":"int32","required":false,"example":"1"},"taskType":{"title":"任务类型","description":"任务类型，可不传，默认为finance_report。\n当传custom时，需要传入instruction","type":"string","required":false,"enumValueTitles":{"custom":"custom","finance_report":"finance_report"},"example":"custom"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据，任务id。用于后续查询任务状态和结果。","type":"string","example":"3284627354"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"3284627354\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"创建财报总结任务","description":"请确保在使用该接口前，已充分了解通义点金产品的收费方式和价格。\n\n\n前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"GetTaskStatus":{"summary":"获取任务状态。","path":"/{workspaceId}/api/task/status","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"业务空间Id","type":"string","required":true,"example":"llm-xxxx"}},{"name":"taskId","in":"query","schema":{"title":"任务Id","description":"任务Id","type":"string","required":true,"example":"17071319"}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据，任务状态。","description":"响应数据，任务状态。","type":"string","enumValueTitles":{"running":"running","pending":"pending","error":"error","evict":"evict"},"example":"running"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"30F6AD44-F078-540D-B5A5-1E519C8E9E6D"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"running\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"30F6AD44-F078-540D-B5A5-1E519C8E9E6D\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"获取任务状态"},"GetSummaryTaskResult":{"summary":"获取财报总结任务结果。","path":"/{workspaceId}/api/task/summary/result","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"业务空间Id","type":"string","required":true,"example":"llm-xxxx"}},{"name":"taskId","in":"query","schema":{"title":"任务Id","description":"任务Id","type":"string","required":true,"example":"17071319"}}],"responses":{"200":{"schema":{"title":"ResultCode<ChatModelResponse>","description":"ResultCode<ChatModelResponse>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"object","properties":{"choices":{"title":"模型生成内容的详情。","description":"模型生成内容的详情。","type":"array","items":{"description":"对话消息","type":"object","properties":{"finishReason":{"title":"模型生成内容结束原因。","description":"模型生成内容结束原因。","type":"string","example":"stop"},"index":{"title":"生成的结果序列编号，默认为0。","description":"生成的结果序列编号，默认为0。","type":"integer","format":"int32","example":"0"},"message":{"title":"模型输出的消息。","description":"模型输出的消息。","type":"object","properties":{"content":{"title":"模型生成的文本。","description":"模型生成的文本。","type":"string","example":"### **报告期经营业绩概述**\\n截至2024年3月31日止三个月的未经审核综合业绩显示强劲增长."},"role":{"title":"模型的角色，固定为assistant。","description":"模型的角色，固定为assistant。","type":"string","example":"assistant"},"toolCalls":{"title":"工具调用","description":"工具调用","type":"array","items":{"description":"工具调用","type":"object","example":"null"}}}}}}},"created":{"title":"创建时间","description":"创建时间","type":"integer","format":"int64","example":"1726285125915"},"id":{"title":"系统生成的标识本次调用的id。","description":"系统生成的标识本次调用的id。","type":"string","example":"1202"},"modelId":{"title":"本次调用的模型名。","description":"本次调用的模型名。","type":"string","example":"qwen-max"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"0bc13a9517168617617186457e401f"},"time":{"title":"时间","description":"时间","type":"string","example":"2024-04-24 11:54:34"},"totalTokens":{"title":"token量","description":"token量","type":"integer","format":"int32","example":"300"},"usage":{"title":"消耗token量","description":"消耗token量","type":"object","properties":{"imageCount":{"title":"图片数量,wanx等模型","description":"图片数量,wanx等模型","type":"integer","format":"int32","example":"0"},"imageTokens":{"title":"图片token量,qwen-vl等模型","description":"图片token量,qwen-vl等模型","type":"integer","format":"int32","example":"0"},"inputTokens":{"title":"输入token量","description":"输入token量","type":"integer","format":"int32","example":"100"},"outputTokens":{"title":"输出token量","description":"输出token量","type":"integer","format":"int32","example":"200"},"totalTokens":{"title":"总token量","description":"总token量","type":"integer","format":"int32","example":"300"}}}}},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"0bc13a9517168617617186457e401f"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"choices\\\": [\\n      {\\n        \\\"finishReason\\\": \\\"stop\\\",\\n        \\\"index\\\": 0,\\n        \\\"message\\\": {\\n          \\\"content\\\": \\\"### **报告期经营业绩概述**\\\\\\\\n截至2024年3月31日止三个月的未经审核综合业绩显示强劲增长.\\\",\\n          \\\"role\\\": \\\"assistant\\\",\\n          \\\"toolCalls\\\": [\\n            null\\n          ]\\n        }\\n      }\\n    ],\\n    \\\"created\\\": 1726285125915,\\n    \\\"id\\\": \\\"1202\\\",\\n    \\\"modelId\\\": \\\"qwen-max\\\",\\n    \\\"requestId\\\": \\\"0bc13a9517168617617186457e401f\\\",\\n    \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n    \\\"totalTokens\\\": 300,\\n    \\\"usage\\\": {\\n      \\\"imageCount\\\": 0,\\n      \\\"imageTokens\\\": 0,\\n      \\\"inputTokens\\\": 100,\\n      \\\"outputTokens\\\": 200,\\n      \\\"totalTokens\\\": 300\\n    }\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0bc13a9517168617617186457e401f\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"获取财报总结任务结果"},"EvictTask":{"summary":"中断任务。","path":"/{workspaceId}/api/task/evict","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"业务空间Id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"taskId","in":"query","schema":{"title":"任务Id","description":"任务Id","type":"string","required":true,"example":"17071319"}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据，返回任务id。","type":"string","example":"17071319"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"返回任务取消的结果，成功/失败。"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"44BD277A-87F9-5310-8D63-3E6645F1DA85"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"17071319\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"返回任务取消的结果，成功/失败。\\\",\\n  \\\"requestId\\\": \\\"44BD277A-87F9-5310-8D63-3E6645F1DA85\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"取消任务"},"RunChatResultGeneration":{"summary":"对话结果生成，可选择模型进行对话，支持流式和非流式。","path":"/{workspaceId}/api/run/chat/generation","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id。","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"inferenceParameters":{"title":"推理使用的超参数","description":"推理使用的超参数","type":"object","required":false,"example":"{\"topP\": 0.8}"},"messages":{"title":"输入模型的消息","description":"输入模型的消息","type":"array","items":{"type":"object","properties":{"content":{"title":"消息的内容","description":"消息的内容","type":"string","required":false,"example":"你是一个信息处理专家"},"role":{"title":"消息的角色","description":"消息的角色","type":"string","required":false,"example":"user"}},"required":false},"required":true},"modelId":{"title":"模型服务种类，请通过/api/app/config接口获取，对应的字段llmHelperTypeList","description":"模型服务种类，请通过/api/app/config接口获取，对应的字段llmHelperTypeList","type":"string","required":true,"example":"qwen-max"},"sessionId":{"title":"sessionId，可用于标记对话","description":"sessionId，可用于标记对话","type":"string","required":false,"example":"237645726354"},"stream":{"title":"是否流式: true，流式返回答案；false，全量返回答案。不填默认为false","description":"是否流式: true，流式返回答案；false，全量返回答案。不填默认为false","type":"boolean","required":false,"example":"false","default":"false"},"tools":{"title":"输入的工具信息.\n用于指定可供模型调用的工具列表。当输入多个工具时，模型会选择其中一个生成结果。","description":"输入的工具信息.\n用于指定可供模型调用的工具列表。当输入多个工具时，模型会选择其中一个生成结果。","type":"array","items":{"title":"用于指定可供模型调用的工具库，一次function call流程模型会从中选择其中一个工具。tools中每一个tool的结构如下：\n\ntype，类型为string，表示tools的类型，当前仅支持function。\n\nfunction，类型为object，键值包括name，description和parameters：\n\nname：类型为string，表示工具函数的名称，必须是字母、数字，可以包含下划线和短划线，最大长度为64。\n\ndescription：类型为string，表示工具函数的描述，供模型选择何时以及如何调用工具函数。\n\nparameters：类型为object，表示工具的参数描述，需要是一个合法的JSON Schema。JSON Schema的描述可以见链接。如果parameters参数为空，表示function没有入参。\n\n在function call流程中，无论是发起function call的轮次，还是向模型提交工具函数的执行结果，均需设置tools参数。当前支持的模型包括qwen-turbo、qwen-plus、qwen-max和qwen-max-longcontext。","description":"工具信息","type":"object","properties":{"function":{"title":"类型为object，键值包括name，description和parameters","description":"类型为object，键值包括name，description和parameters","type":"object","properties":{"description":{"title":"类型为string，表示工具函数的描述，供模型选择何时以及如何调用工具函数","description":"类型为string，表示工具函数的描述，供模型选择何时以及如何调用工具函数","type":"string","required":false,"example":"工具函数的描述"},"name":{"title":"类型为string，表示工具函数的名称，必须是字母、数字，可以包含下划线和短划线，最大长度为64","description":"类型为string，表示工具函数的名称，必须是字母、数字，可以包含下划线和短划线，最大长度为64","type":"string","required":false,"example":"get_time"},"parameters":{"title":"类型为object，表示工具的参数描述，需要是一个合法的JSON Schema。","description":"类型为object，表示工具的参数描述，需要是一个合法的JSON Schema。","type":"object","properties":{"properties":{"description":"属性","type":"object","required":false,"example":"{\n                            \"location\": {\n                                \"type\": \"string\",\n                                \"description\": \"The city and state, e.g. San Francisco, CA\"\n                            },\n                            \"unit\": {\n                                \"type\": \"string\",\n                                \"enum\": [\n                                    \"celsius\",\n                                    \"fahrenheit\"\n                                ]\n                            }\n                        }"},"type":{"description":"类型","type":"string","required":false,"example":"object"}},"required":false},"required":{"description":"必填参数列表","type":"array","items":{"description":"必填参数","type":"string","required":false,"example":"location"},"required":false}},"required":false},"type":{"title":"类型为string，表示tools的类型，当前仅支持function","description":"类型为string，表示tools的类型，当前仅支持function","type":"string","required":false,"example":"function"}},"required":false},"required":false}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"choices":{"title":"模型生成内容的详情。","description":"模型生成内容的详情。","type":"array","items":{"description":"模型生成内容的详情。","type":"object","properties":{"finishReason":{"title":"模型生成内容结束原因。\n          有三种情况：\n           - 正在生成时为null；\n           - 因触发输入参数中的stop条件而结束为stop；\n           - 因生成长度过长而结束为length。","description":"有三种情况：\n\n- 正在生成时为null；\n\n- 因触发输入参数中的stop条件而结束为stop；\n\n- 因生成长度过长而结束为length。","type":"string","example":"null"},"index":{"title":"生成的结果序列编号，默认为0。","description":"生成的结果序列编号，默认为0。","type":"integer","format":"int32","example":"0"},"message":{"title":"模型输出的消息。","description":"对话消息","type":"object","properties":{"content":{"title":"模型生成的文本。","description":"对话内容","type":"string","example":"你是谁"},"role":{"title":"模型的角色，固定为assistant。","description":"角色","type":"string","example":"user"},"toolCalls":{"title":"工具调用","description":"工具调用列表","type":"array","items":{"description":"工具调用","type":"object","example":"{\n            \"type\": \"function\",\n            \"function\": {\n              \"name\": \"get_current_weather\",\n              \"arguments\": \"{\\\"location\\\": \\\"长沙\\\", \\\"unit\\\": \\\"celsius\\\"}\"\n            },\n            \"id\": \"\"\n          }"}}}}}}},"created":{"title":"创建时间戳","description":"创建时间","type":"integer","format":"int64","example":"1720602203"},"id":{"title":"系统生成的标识本次调用的id。","description":"请求标识","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032"},"modelId":{"title":"本次调用的模型名。","description":"大模型ID。","type":"string","example":"qwen-max"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032\n"},"time":{"title":"时间","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"},"totalTokens":{"title":"总token量","description":"tokens总量","type":"integer","format":"int32","example":"500"},"usage":{"title":"消耗量","description":"用量","type":"object","properties":{"imageCount":{"title":"图片数量,wanx等模型","description":"图片数，wanx等模型返回","type":"integer","format":"int32","example":"0"},"imageTokens":{"title":"图片token量,qwen-vl等模型","description":"图片tokens，qwen-vl等模型返回","type":"integer","format":"int32","example":"0"},"inputTokens":{"title":"输入token量","description":"输入tokens","type":"integer","format":"int32","example":"200"},"outputTokens":{"title":"输出token量","description":"输出tokens","type":"integer","format":"int32","example":"300"},"totalTokens":{"title":"总token量","description":"tokens总量","type":"integer","format":"int32","example":"500"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"choices\\\": [\\n    {\\n      \\\"finishReason\\\": \\\"null\\\",\\n      \\\"index\\\": 0,\\n      \\\"message\\\": {\\n        \\\"content\\\": \\\"你是谁\\\",\\n        \\\"role\\\": \\\"user\\\",\\n        \\\"toolCalls\\\": [\\n          {\\n            \\\"type\\\": \\\"function\\\",\\n            \\\"function\\\": {\\n              \\\"name\\\": \\\"get_current_weather\\\",\\n              \\\"arguments\\\": \\\"{\\\\\\\"location\\\\\\\": \\\\\\\"长沙\\\\\\\", \\\\\\\"unit\\\\\\\": \\\\\\\"celsius\\\\\\\"}\\\"\\n            },\\n            \\\"id\\\": \\\"\\\"\\n          }\\n        ]\\n      }\\n    }\\n  ],\\n  \\\"created\\\": 1720602203,\\n  \\\"id\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\",\\n  \\\"modelId\\\": \\\"qwen-max\\\",\\n  \\\"requestId\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\\n\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"totalTokens\\\": 500,\\n  \\\"usage\\\": {\\n    \\\"imageCount\\\": 0,\\n    \\\"imageTokens\\\": 0,\\n    \\\"inputTokens\\\": 200,\\n    \\\"outputTokens\\\": 300,\\n    \\\"totalTokens\\\": 500\\n  }\\n}\",\"type\":\"json\"}]","title":"对话结果生成","description":"请确保在使用该接口前，已充分了解通义点金产品的收费方式和价格。\n\n\n前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"},"InvokePlugin":{"summary":"调用插件，获取插件返回结果。","path":"/{workspaceId}/api/plugin/invoke","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"路径参数，业务空间id","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"params":{"title":"请求参数","description":"请求参数","type":"object","required":false,"example":"{\n        \"query\": \"介绍一下贵金属业务\",\n        \"filters\": [\n            {\n                \"libraryId\": \"9xznrxw\"\n            }\n        ],\n        \"topK\": 1\n    }"},"pluginId":{"title":"插件标识符","description":"插件标识符","type":"string","required":false,"example":"3mj87da7zr"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<JSONObject>","description":"ResultCode<JSONObject>","type":"object","properties":{"cost":{"title":"耗时","description":"耗时","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"响应数据","type":"object","example":"{'jobWaiting': [0, 0], 'timestamps': [1713383820, 1713383880], 'jobUsage': [0, 0], 'quotaUsage': [123, 32]}"},"dataType":{"title":"数据类型","description":"数据类型","type":"string","example":"null"},"errCode":{"title":"错误码","description":"错误码","type":"string","example":"0"},"message":{"title":"错误信息","description":"错误信息","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"请求id","type":"string","example":"915AAAB9-4908-5224-9E53-9E9D7D0AA94B"},"success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"时间戳","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"test\\\": \\\"test\\\",\\n    \\\"test2\\\": 1\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"915AAAB9-4908-5224-9E53-9E9D7D0AA94B\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]","title":"调用插件","description":"前提条件\n\n已开通 百炼服务和通义点金服务。\n\n获取到workspaceId：获取[workspace标识](https://help.aliyun.com/zh/model-studio/developer-reference/get-app-id-and-workspace?spm=openapi-amp.newDocPublishment.0.0.2eb8281foUVd15#2612f896detsz:~:text=%E6%9F%A5%E7%9C%8BAPI%2DKEY%E3%80%82-,%E8%8E%B7%E5%8F%96APP%2DID%E5%92%8CWORKSPACE,-%E8%BF%9B%E5%85%A5%E6%88%91%E7%9A%84%E5%BA%94%E7%94%A8)。"}},"endpoints":[{"regionId":"cn-beijing","endpoint":"dianjin.cn-beijing.aliyuncs.com"}]}