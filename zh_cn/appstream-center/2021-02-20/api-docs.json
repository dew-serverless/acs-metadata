{"version":"1.0","info":{"style":"RPC","product":"appstream-center","version":"2021-02-20"},"directories":["GetLoginToken","RefreshLoginToken","GetStsToken","FindIdpListByLoginIdentifier"],"components":{"schemas":{}},"apis":{"GetLoginToken":{"summary":"通过企业标识符获取登录凭证。","methods":["post","get"],"schemes":["http","https"],"security":[{"Anonymous":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeCode":"125244","abilityTreeNodes":["FEATUREappstreamingV87T4P"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域 ID。","type":"string","required":false,"docRequired":true,"example":"cn-shanghai"}},{"name":"ClientId","in":"query","schema":{"description":"客户端生成的唯一ID。","type":"string","required":true,"docRequired":true,"example":"05967f80-6f51-46cb-a27c-****"}},{"name":"DirectoryId","in":"query","schema":{"description":"办公网络ID，与`OfficeSiteId`含义相同。建议停止使用`DirectoryId`，改为使用`OfficeSiteId`。`DirectoryId`和`OfficeSiteId`只能填写一个，不可同时填写。","type":"string","required":false,"docRequired":false,"example":"cn-beijing+dir-j9dd****"}},{"name":"OfficeSiteId","in":"query","schema":{"description":"办公网络ID。","type":"string","required":false,"docRequired":false,"example":"cn-beijing+dir-j9dd****"}},{"name":"SessionId","in":"query","schema":{"description":"登录的会话ID。\n\n若未绑定虚拟MFA设备或者未开启客户端二次认证，则不需要填写SessionId。\n若已绑定虚拟MFA设备或者已开启客户端二次认证，则ADPassword之后的登录认证阶段需要填写SessionId。可从便捷账号验证（即GetLoginToken请求处于ADPassword阶段）的返回结果中获取SessionId。","type":"string","required":false,"docRequired":false,"example":"c6f3cd91-65fc-4c7b-b189-2a73da0****"}},{"name":"CurrentStage","in":"query","schema":{"description":"当前登录认证阶段，依次为：\n\n1. `ADPassword`：验证用户信息。当使用便捷账号或者AD账号的账密认证时填写此值。\n1. `MFABind`：绑定虚拟MFA设备。\n1.  `MFAVerify`：验证虚拟MFA设备生成的安全码。\n1.  `TokenVerify`：客户端二次认证。\n1.  `ChangePassword`：修改用户密码。\n1.  `KeepAliveVerify`:  KeepAliveToken有效时，可用于换取LoginToken。\n1.  `PhoneVerifyTenantSelect`: 手机号登录场景下，用于选择其中一个企业ID登录。\n1.  `VerifyForRisk`: 识别登录风险后的核身校验。","type":"string","required":false,"docRequired":false,"example":"SsoTokenLogin"}},{"name":"EndUserId","in":"query","schema":{"description":"便捷账号或AD域账号的用户名。当`CurrentStage`为`ADPassword`时必填。","type":"string","required":false,"docRequired":false,"example":"user01"}},{"name":"Password","in":"query","schema":{"description":"便捷账号或AD域账号的密码。当`CurrentStage`为`ADPassword`时必填。","type":"string","required":false,"docRequired":false,"example":"Admin@1234****","maxLength":500,"minLength":1}},{"name":"EncryptedPassword","in":"query","schema":{"description":"已加密密码。","type":"string","required":false,"docRequired":false,"example":"04d7****8e90bb0484fc;gJ1GLca1vQRRqQbRvByU0A==;5kOWZE7AtbQhki+4LAo69A=="}},{"name":"OldPassword","in":"query","schema":{"description":"旧密码。当`CurrentStage`为`ChangePassword`时必填。","type":"string","required":false,"docRequired":false,"example":"Admin@1234****\n"}},{"name":"NewPassword","in":"query","schema":{"description":"新密码。当`CurrentStage`为`ChangePassword`时必填。","type":"string","required":false,"docRequired":false,"example":"Admin@1234****\n"}},{"name":"AuthenticationCode","in":"query","schema":{"description":"虚拟MFA设备生成的安全码。当`CurrentStage`为`MFAVerify`时必填。","type":"string","required":false,"docRequired":false,"example":"182901"}},{"name":"SsoSessionToken","in":"query","schema":{"description":"SSO场景下的登录令牌。","type":"string","required":false,"docRequired":false,"example":"04d707a6-fb23-44a7-aae7-8e90****"}},{"name":"ClientOS","in":"query","schema":{"description":"客户端操作系统。","type":"string","required":false,"example":"windows_\\\"Windows 10 Pro\\\" 10.0 (Build 22631)"}},{"name":"ClientVersion","in":"query","schema":{"description":"客户端版本。","type":"string","required":false,"example":"7.3.0-20240619.143924"}},{"name":"TokenCode","in":"query","schema":{"description":"若已在无影云电脑企业版控制台开启客户端二次认证，且识别到当前登录用户有风险时，会发送该二次认证验证码到终端用户邮箱。当`CurrentStage`为`TokenVerify`时必填。","type":"string","required":false,"docRequired":false,"example":"1234***"}},{"name":"UmidToken","in":"query","schema":{"description":"幂等校验参数。","type":"string","required":false,"docRequired":false,"example":"04d707a6-fb23-44a7-aae7-8e90bb04****"}},{"name":"FingerPrintData","in":"query","schema":{"description":"指纹信息，目前暂时停止支持。","type":"string","required":false,"example":"null"}},{"name":"KeepAlive","in":"query","schema":{"description":"是否保持登录。","type":"boolean","required":false,"example":"true"}},{"name":"KeepAliveToken","in":"query","schema":{"description":"用于保持登录的凭证（Token），在登录成功且用户开启了保持登录选项后，接口会返回KeepAliveToken，在KeepAliveToken有效期内可以调用GetLoginToken接口并将CurrentStage设为KeepAliveVerify来换取登录凭证（LoginToken）。当CurrentStage为KeepAliveVerify时，KeepAliveToken必填。","type":"string","required":false,"example":"00ugamMAoO1+u1MlhmgCeZJ75q094x3H/4kg7ZaTI3f/joVTVPIpJgfv9JFkPLNxnQjblrvsByNas08mc6FtVWvQPOE68fqmt6QMM4UbRtahm8luxEXvicF58qSPXW1hxOtV/Ev6d92VBz2Bck/N4CYyjD0iLocfN8jkBnt231****"}},{"name":"Uuid","in":"query","schema":{"description":"客户端唯一标识。若使用无影客户端，可在客户端登录界面的关于对话框中查看该参数。","type":"string","required":false,"example":"C50973691A6D2BE23F2CDD73B85B****"}},{"name":"ImageUrl","in":"query","schema":{"description":"图片URL。\n\n> 该参数已停用。","type":"string","required":false,"example":"null"}},{"name":"EncryptedFingerPrintData","in":"query","schema":{"description":"指纹信息。\n\n> 该参数已停用。","type":"string","required":false,"example":"null"}},{"name":"EncryptedKey","in":"query","schema":{"description":"加密的密钥ID。","type":"string","required":false,"example":"4d7****8e90bb0484fc"}},{"name":"ClientType","in":"query","schema":{"description":"客户端的类型。","type":"string","required":false,"example":"windows"}},{"name":"SsoExtendsCookies","in":"query","schema":{"description":"SSO 登录的Cookie，应用内免登使用。","type":"string","required":false,"example":"null"}},{"name":"LoginName","in":"query","schema":{"description":"已停用。","type":"string","required":false,"example":"null"}},{"name":"LoginIdentifier","in":"query","schema":{"description":"企业标识符。","type":"string","required":false,"example":"Fe04****"}},{"name":"IdpId","in":"query","schema":{"description":"登录认证服务ID，通过接口[FindIdpListByLoginIdentifier](~~FindIdpListByLoginIdentifier~~)获取。","type":"string","required":false,"example":"idp-iwntrlbb98q7v****"}},{"name":"NetworkType","in":"query","schema":{"description":"客户端的网络连接类型。","type":"string","required":false,"enumValueTitles":{"INTERNET":"互联网","VPC":"企业专网"},"example":"INTERNET"}},{"name":"Phone","in":"query","schema":{"description":"手机号码，手机号登录场景下使用。\n> 国际站账号不支持。","type":"string","required":false,"example":"1822727****"}},{"name":"PhoneVerifyCode","in":"query","schema":{"description":"手机验证码，手机号登录场景下使用。\n> 国际站账号不支持。","type":"string","required":false,"example":"321123"}},{"name":"AvailableFeatures","in":"query","style":"json","schema":{"description":"客户端支持的特性。","type":"object","required":false,"additionalProperties":{"type":"string","enumValueTitles":{"Business":"支持商业版"},"description":"客户端支持的特性。","example":"{\\\"Business\\\":\\\"1\\\"}"}}},{"name":"MfaType","in":"query","schema":{"description":"MFA校验的类型。","type":"string","required":false,"enumValueTitles":{"TOTP":"手机令牌","PHONE":"手机验证码","EMAIL":"邮箱"},"example":"TOTP"}},{"name":"ClientName","in":"query","schema":{"description":"客户端名称。","type":"string","required":false,"example":"HONOR-BRN-HXXB"}},{"name":"ProfileRegion","in":"query","schema":{"description":"租户所属站点。","type":"string","required":false,"enumValueTitles":{"ap_southeast_1":"国际站","cn_hangzhou":"中国站"},"example":"cn_hangzhou"}}],"responses":{"200":{"schema":{"description":"返回信息集合。","type":"object","properties":{"Email":{"description":"用户邮箱。在登录后随LoginToken返回。\n\n- 如果是便捷账号，返回创建便捷账号时设置的邮箱。\n- 如果是AD域账号，返回以下形式：用户名@AD域名。","type":"string","example":"alice***@example.com"},"Secret":{"description":"绑定虚拟MFA设备时的密钥。用于`MFABind`阶段。\n\n> 关于各认证阶段的详细信息，参见本接口请求参数`CurrentStage`的参数说明。","type":"string","example":"4JZNSDHDM3T6AZ4G2O5OWXBLLE4P****"},"RequestId":{"description":"请求ID。","type":"string","example":"EEA72491-B731-53D6-83ED-209769D6****"},"EndUserId":{"description":"便捷账号用户名或AD用户名。","type":"string","example":"alice"},"LoginToken":{"description":"登录凭证。","type":"string","example":"v185fdd7f6d39fa7861981639366085772e150a390a5bb7b43c4e62440d94fc392b945770e1596cebe90085ce0af4d****"},"NextStage":{"description":"预期的下一阶段。例如，若管理员在无影云电脑企业版控制台开启了MFA认证，则当用户名密码认证通过后（即`ADPassword`阶段后），该参数会返回`MFAVerify`，表示此时需要做MFA认证。\n\n> 关于各认证阶段的详细信息，参见本接口请求参数`CurrentStage`的参数说明。","type":"string","example":"MFABind"},"QrCodePng":{"description":"绑定虚拟MFA设备时的密钥二维码。使用Base64编码。可以为空，用于`MFABind`阶段。\n\n> 关于各认证阶段的详细信息，参见本接口请求参数`CurrentStage`的参数说明。","type":"string","example":"5OCLLKKOJU5HPBX66H3QCTWY******\n"},"Label":{"description":"便捷账号属性。如果是AD域账号，则返回空值。","type":"string","example":"test:wuying\n"},"SessionId":{"description":"会话ID。 仅在同一会话第一次调用GetLoginToken时返回。需要多次认证时，后续的阶段需要传入该参数。","type":"string","example":"cc15c91c-821b-4edd-9af2-6df66cc****"},"Phone":{"description":"便捷账号的手机号。如果是AD域账号，则返回空值。","type":"string","example":"1826717****"},"TenantId":{"description":"阿里云账号ID。硬件终端识别使用。","type":"integer","format":"int64","example":"13747924304****"},"KeepAliveToken":{"description":"用于保持登录的凭证（Token），在登录成功且用户开启了保持登录选项后，接口会返回`KeepAliveToken`。若未开启保持登录选项，则返回空值。","type":"string","example":"006YwvYMsesWWsDBZnVB+Wq9AvJDVIqOY3YCktvtb7+KxMb3ClnNlV8+l/knhZYrXUmeP06IzkjF+IgcZ3vZKOyMprDyFHjCy1r27FRE/U7+geWCl8iQ+yF8GaCRHfJEkC2+ROs93HkT4tfHxyY1J8W7O7ZQGUC/cdCvm+cCP6FIy73IUuPuVR6PcKYXIp***"},"Industry":{"description":"> 该参数不对外开放使用。","type":"string","example":"edu"},"Props":{"description":"> 该参数不对外开放使用。","type":"object","additionalProperties":{"type":"string","description":"> 该参数不对外开放使用。","example":"{'environment': 'online', 'sourceClientType': 'WINDOWS"}},"WyId":{"description":"用户全局唯一ID。","type":"string","example":"0aba1403b337a***"},"VpcRegionId":{"description":"VPC地域ID，用于专网登录。","type":"string","example":"cn-beijing"},"WindowDisplayMode":{"description":"> 该参数不对外开放使用。","type":"string","example":"Windowed"},"AccountType":{"description":"账号类型， 便捷账号或者AD域账号。","type":"string","example":"ad"},"TenantInfos":{"description":"企业ID信息，在手机号登录场景下，一个手机号可能开通了多个企业ID的登录能力，此时需要传入CurrentState:PhoneVerifyTenantSelect选择其中一个企业ID进行登录。","type":"array","items":{"description":"企业ID信息。","type":"object","properties":{"TenantAlias":{"description":"企业ID。","type":"string","example":"Up830***"},"AccessType":{"description":"客户端的网络连接类型。","type":"string","enumValueTitles":{"INTERNET":"互联网","VPC":"企业专网","ANY":"都允许"},"example":"INTERNET"}}}},"TenantAlias":{"description":"登录的企业标识符名称。","type":"string","example":"Rq201***"},"AccessType":{"description":"客户端的网络连接类型。","type":"string","example":"INTERNET"},"OfficeSites":{"description":"AD登录后，该AD对应的办公网络信息。","type":"array","items":{"description":"AD登录后，该AD对应的办公网络ID。","type":"string","example":"['cn-beijing+dir-096920***', 'cn-shenzhen+dir-2546908***']"}},"IdpId":{"description":"用户所属身份源配置ID。","type":"string","example":"idp-7ttvs4ove8bo5***"},"AdDomain":{"description":"AD办公网络地址。","type":"string","example":"easthp***.com"},"RiskVerifyInfo":{"description":"登录风险识别相关信息，如检测到风险，需要通过返回的邮箱或者手机号进行核身。\n通过返回的手机号或邮箱，调用`SendVerifyCode`接口发送验证码，然后调用`GetLoginToken`接口指定`CurrentStage`参数为`VerifyForRisk`进行核身。","type":"object","properties":{"Email":{"description":"用于身份验证的邮箱地址。","type":"string","example":"ppas***@aliyun.com"},"LastLockDuration":{"description":"锁定时间。单位：秒。","type":"integer","format":"int64","example":"12000"},"Locked":{"description":"用户是否被锁定。","type":"boolean","example":"true"},"Phone":{"description":"用于核身的手机号。","type":"string","example":"138****1111"}}},"PasswordStrategy":{"description":"密码策略。","type":"object","properties":{"TenantPasswordLength":{"description":"要求的密码长度。","type":"integer","format":"int32","example":"12"},"TenantAlternativeChars":{"description":"要求的密码内容。","type":"array","items":{"description":"要求的密码内容。","type":"string","enumValueTitles":{"NUMBER":"数字","SPECIAL_CHAR":"特殊字符","LOWER_LETTER":"小写字母","UPPER_LETTER":"大写字母"},"example":"UPPER_LETTER"}}}},"Reason":{"description":"登录失败的原因。","type":"string","enumValueTitles":{"ResetPassword":"密码已重置","PasswordExpired":"需要修改密码"},"example":"PasswordExpired"},"MfaTypeList":{"description":"触发MFA校验时，可选的MFA校验类型。","type":"array","items":{"type":"object","properties":{"Name":{"description":"MFA校验类型。","type":"string","enumValueTitles":{"TOTP":"手机令牌","PHONE":"手机验证码","EMAIL":"邮箱"},"example":"PHONE"},"Stage":{"description":"选定MFA类型后，对应CurrentStage参数的值。","type":"string","enumValueTitles":{"MFAVerifyV1":"执行MFA校验","MFABindV1":"绑定MFA设备"},"example":"MFABindV1"}}}},"NickName":{"type":"string"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Email\\\": \\\"alice***@example.com\\\",\\n  \\\"Secret\\\": \\\"4JZNSDHDM3T6AZ4G2O5OWXBLLE4P****\\\",\\n  \\\"RequestId\\\": \\\"EEA72491-B731-53D6-83ED-209769D6****\\\",\\n  \\\"EndUserId\\\": \\\"alice\\\",\\n  \\\"LoginToken\\\": \\\"v185fdd7f6d39fa7861981639366085772e150a390a5bb7b43c4e62440d94fc392b945770e1596cebe90085ce0af4d****\\\",\\n  \\\"NextStage\\\": \\\"MFABind\\\",\\n  \\\"QrCodePng\\\": \\\"5OCLLKKOJU5HPBX66H3QCTWY******\\\\n\\\",\\n  \\\"Label\\\": \\\"test:wuying\\\\n\\\",\\n  \\\"SessionId\\\": \\\"cc15c91c-821b-4edd-9af2-6df66cc****\\\",\\n  \\\"Phone\\\": \\\"1826717****\\\",\\n  \\\"TenantId\\\": 0,\\n  \\\"KeepAliveToken\\\": \\\"006YwvYMsesWWsDBZnVB+Wq9AvJDVIqOY3YCktvtb7+KxMb3ClnNlV8+l/knhZYrXUmeP06IzkjF+IgcZ3vZKOyMprDyFHjCy1r27FRE/U7+geWCl8iQ+yF8GaCRHfJEkC2+ROs93HkT4tfHxyY1J8W7O7ZQGUC/cdCvm+cCP6FIy73IUuPuVR6PcKYXIp***\\\",\\n  \\\"Industry\\\": \\\"edu\\\",\\n  \\\"Props\\\": {\\n    \\\"key\\\": \\\"{'environment': 'online', 'sourceClientType': 'WINDOWS\\\"\\n  },\\n  \\\"WyId\\\": \\\"0aba1403b337a***\\\",\\n  \\\"VpcRegionId\\\": \\\"cn-beijing\\\",\\n  \\\"WindowDisplayMode\\\": \\\"Windowed\\\",\\n  \\\"AccountType\\\": \\\"ad\\\",\\n  \\\"TenantInfos\\\": [\\n    {\\n      \\\"TenantAlias\\\": \\\"Up830***\\\",\\n      \\\"AccessType\\\": \\\"INTERNET\\\"\\n    }\\n  ],\\n  \\\"TenantAlias\\\": \\\"Rq201***\\\",\\n  \\\"AccessType\\\": \\\"INTERNET\\\",\\n  \\\"OfficeSites\\\": [\\n    \\\"['cn-beijing+dir-096920***', 'cn-shenzhen+dir-2546908***']\\\"\\n  ],\\n  \\\"IdpId\\\": \\\"idp-7ttvs4ove8bo5***\\\",\\n  \\\"AdDomain\\\": \\\"easthp***.com\\\",\\n  \\\"RiskVerifyInfo\\\": {\\n    \\\"Email\\\": \\\"ppas***@aliyun.com\\\",\\n    \\\"LastLockDuration\\\": 12000,\\n    \\\"Locked\\\": true,\\n    \\\"Phone\\\": \\\"138****1111\\\"\\n  },\\n  \\\"PasswordStrategy\\\": {\\n    \\\"TenantPasswordLength\\\": 12,\\n    \\\"TenantAlternativeChars\\\": [\\n      \\\"UPPER_LETTER\\\"\\n    ]\\n  },\\n  \\\"Reason\\\": \\\"PasswordExpired\\\",\\n  \\\"MfaTypeList\\\": [\\n    {\\n      \\\"Name\\\": \\\"PHONE\\\",\\n      \\\"Stage\\\": \\\"MFABindV1\\\"\\n    }\\n  ],\\n  \\\"NickName\\\": \\\"\\\"\\n}\",\"type\":\"json\"}]","title":"获取登录凭证"},"RefreshLoginToken":{"methods":["post","get"],"schemes":["http","https"],"security":[{"Anonymous":[]}],"systemTags":{"operationType":"none","abilityTreeCode":"128463","abilityTreeNodes":["FEATUREappstreamingV87T4P"]},"parameters":[{"name":"ClientId","in":"query","schema":{"description":"客户端生成的唯一ID，参考`UUID`。该参数非敏感字段，无需加密。","type":"string","required":true,"docRequired":true,"example":"f4a0dc8e-1702-4728-9a60-95b27a35****\n"}},{"name":"SessionId","in":"query","schema":{"description":"登录的会话ID。","type":"string","required":true,"docRequired":false,"example":"6442b2fd-ed3e-423a-8e6e-352d26a4****"}},{"name":"EndUserId","in":"query","schema":{"description":"用户名。","type":"string","required":false,"docRequired":true,"example":"alice"}},{"name":"LoginToken","in":"query","schema":{"description":"登录凭证。","type":"string","required":true,"docRequired":true,"example":"v1046341d8d4e2f05c4aa168196009613594aaf451499bfc75e54699efa7230bc968e1debb1fa4063b01e5d327b467****"}},{"name":"OfficeSiteId","in":"query","schema":{"description":"办公网络ID。非办公网络登录场景下为空。","type":"string","required":false,"example":"cn-shenzhen+dir-436909****"}},{"name":"LoginIdentifier","in":"query","schema":{"description":"企业标识符。","type":"string","required":false,"example":"Alibaba****"}},{"name":"ClientType","in":"query","schema":{"description":"客户端类型。","type":"string","required":false,"enumValueTitles":{"html5":"Web客户端","android":"Android客户端","windows":"Windows客户端","ios":"iOS客户端","macos":"macOS客户端"},"example":"windows"}},{"name":"Uuid","in":"query","schema":{"description":"登录使用的设备UUID。","type":"string","required":false,"example":"2943802884B27030B6759F9132B2****"}},{"name":"ProfileRegion","in":"query","schema":{"description":"账号所属站点。","type":"string","required":false,"enumValueTitles":{"ap_southeast_1":"国际站","cn_hangzhou":"中国站"},"example":"cn_hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"419F31B9-1FDF-5644-ABA3-D00026FA****"},"LoginToken":{"description":"登录凭证。","type":"string","example":"v12369636c721ba6b3ddb1683341016775c3f63e4d0e78f120f9a0544ed826b7af7daf747c402f0d0730b52f451b70****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"419F31B9-1FDF-5644-ABA3-D00026FA****\\\",\\n  \\\"LoginToken\\\": \\\"v12369636c721ba6b3ddb1683341016775c3f63e4d0e78f120f9a0544ed826b7af7daf747c402f0d0730b52f451b70****\\\"\\n}\",\"type\":\"json\"}]","title":"刷新登录凭证","summary":"刷新登录凭证。","description":"登录凭证（LoginToken）的有效期为8小时。如果在8小时内终端用户没有退出客户端，客户端需要重新刷新登录凭证。"},"GetStsToken":{"summary":"获取无影STS Token（临时身份凭证）。","methods":["post","get"],"schemes":["http","https"],"security":[{"Anonymous":[]}],"deprecated":false,"systemTags":{},"parameters":[{"name":"ClientId","in":"formData","schema":{"description":"客户端生成的唯一ID。","type":"string","required":false,"example":"eac19bef-1e45-4190-a03a-4ea74b69****"}},{"name":"ClientOS","in":"formData","schema":{"description":"客户端操作系统。","type":"string","required":false,"example":"windows_\\\"Windows 10 Enterprise\\\" 10.0 (Build 14393)"}},{"name":"ClientVersion","in":"formData","schema":{"description":"客户端版本号。","type":"string","required":false,"example":"6.3.0-R-20231106.210000"}},{"name":"ClientIp","in":"formData","schema":{"description":"客户端IP地址。","type":"string","required":false,"example":"22.21.2.**"}},{"name":"Uuid","in":"formData","schema":{"description":"设备UUID。","type":"string","required":false,"example":"2943802884B27030B6759F9132B2****"}},{"name":"AuthCode","in":"formData","schema":{"description":"授权码。该授权码有效期为3分钟，且无论校验成功或失败，只能被使用一次。当为一个用户生成多个授权码时，只有最后一次生成的有效。","type":"string","required":true,"example":"e4e169bea1cc48e8afac53**********"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回数据集合。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"CCF92035-6231-5ABB-930E-1E003C32****"},"StsTokenModel":{"description":"临时身份凭证的详细信息。","type":"object","properties":{"SessionId":{"description":"登录的会话ID。","type":"string","example":"be4be09e-cd00-4b4c-add7-11b4d8****"},"StsToken":{"description":"临时身份凭证。","type":"string","example":"sts****"},"TenantId":{"description":"租户ID（阿里云账号UID）。","type":"integer","format":"int64","example":"105552640689****"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CCF92035-6231-5ABB-930E-1E003C32****\\\",\\n  \\\"StsTokenModel\\\": {\\n    \\\"SessionId\\\": \\\"be4be09e-cd00-4b4c-add7-11b4d8****\\\",\\n    \\\"StsToken\\\": \\\"sts****\\\",\\n    \\\"TenantId\\\": 0\\n  }\\n}\",\"type\":\"json\"}]","title":"获取临时身份凭证"},"FindIdpListByLoginIdentifier":{"summary":"用于客户端查询办公网络或企业标识符的登录配置信息。","methods":["get","post"],"schemes":["http","https"],"security":[{"Anonymous":[]}],"deprecated":false,"systemTags":{"operationType":"none","abilityTreeCode":"140090","abilityTreeNodes":["FEATUREappstreamingV87T4P"]},"parameters":[{"name":"ClientId","in":"formData","schema":{"description":"自定义的客户端唯一ID。","type":"string","required":false,"example":"370b56f8-2812-4b6c-bfa6-2560791c****"}},{"name":"ClientOS","in":"formData","schema":{"description":"客户端操作系统。","type":"string","required":false,"example":"windows_\\\"Windows 10 Enterprise\\\" 10.0 (Build 14393)"}},{"name":"ClientVersion","in":"formData","schema":{"description":"应用的客户端版本号。","type":"string","required":false,"example":"2.0.1-D-20211008.101607"}},{"name":"ClientChannel","in":"formData","schema":{"description":"自定义的客户端标识，用于区分不同的应用。","type":"string","required":false,"example":"pc"}},{"name":"Uuid","in":"formData","schema":{"description":"客户端唯一标识。若使用无影客户端，可在客户端登录界面的关于对话框中查看该参数。","type":"string","required":false,"example":"2943802884B27030B6759F9132B2****"}},{"name":"LoginIdentifier","in":"formData","schema":{"description":"企业标识符。","type":"string","required":true,"example":"Aliyun123***"}},{"name":"SupportTypes","in":"formData","style":"repeatList","schema":{"description":"支持的登录类型。","type":"array","items":{"description":"支持的登录类型。","type":"string","required":false,"enumValueTitles":{"ad":"AD域账号","simple":"便捷账号"},"example":"ad"},"required":false,"maxItems":100}},{"name":"AvailableFeatures","in":"query","style":"json","schema":{"description":"客户端支持的特性。","type":"object","required":false,"additionalProperties":{"type":"string","description":"客户端支持的特性。","enumValueTitles":{"Business":"支持商业版"},"example":"{\\\"Business\\\":\\\"1\\\"}"}}},{"name":"ClientIp","in":"query","schema":{"description":"客户端IP。","type":"string","required":false,"example":"22.21.XX.XX"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"AD2D0761-1FE5-549D-B169-D3F8D19C****"},"IdpInfos":{"description":"身份源信息。","type":"array","items":{"type":"object","properties":{"IdpId":{"description":"用户所属身份源配置ID。","type":"string","example":"idp-hlyexfvwert9m8****"},"IdpName":{"description":"用户身份源名称。","type":"string","example":"钉钉"},"SsoProtocol":{"description":"SSO协议类型。","type":"string","enumValueTitles":{"OAuth2":"OAuth2协议","SAML":"SAML协议","OIDC":"OIDC协议"},"example":"SAML"},"IdpProvider":{"description":"应用所属的资源提供者。","type":"string","example":"钉钉"},"SsoServiceUrl":{"description":"SSO服务地址。","type":"string","example":"https://e1iwdlcn.aliyunidaas.com/login/app/app_****/saml2/sso"},"Cookies":{"description":"用于使用Cookie方式实现应用内免登时告知客户端需要写入哪些Cookie到应用内。","type":"string","example":"null"},"AccountType":{"description":"账号类型。","type":"string","enumValueTitles":{"ad":"AD域账号","simple":"便捷账号"},"example":"simple"},"JumpSwitch":{"description":"是否跳转到浏览器登录。","type":"string","example":"true"},"IdpNameEN":{"description":"英文名称。","type":"string","example":"wy-simple"}}}},"OfficeSiteInfo":{"description":"查询到的办公网络信息。","type":"object","properties":{"OfficeSiteId":{"description":"办公网络ID。","type":"string","example":"cn-shanghai+dir-448204****"},"SsoServiceUrl":{"description":"SSO服务地址。","type":"string","example":"https://e1iwdlcn.aliyunidaas.com/login/app/app_****/saml2/sso"},"RegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"AccessType":{"description":"允许的客户端网络连接方式。","type":"string","enumValueTitles":{"INTERNET":"互联网访问","VPC":"专网访问","ANY":"都允许"},"example":"INTERNET"},"ProviderId":{"description":"所属账号的BID。","type":"string","example":"26842"}}},"TenantAliasInfo":{"description":"企业标识符信息。","type":"object","properties":{"TenantAlias":{"description":"企业标识符。","type":"string","example":"Or09****"},"AccessType":{"description":"允许的客户端网络连接方式。","type":"string","enumValueTitles":{"INTERNET":"互联网访问","VPC":"专网访问","ANY":"都允许"},"example":"INTERNET"}}},"ProfileRegion":{"description":"账号所属站点。","type":"string","enumValueTitles":{"ap_southeast_1":"国际站","cn_hangzhou":"中国站"},"example":"cn_hangzhou"},"PopRegionConfig":{"description":"中心服务请求地址，用于服务高可用场景。","type":"object","additionalProperties":{"type":"string","description":"登录服务地址。","example":"cn-shanghai"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"AD2D0761-1FE5-549D-B169-D3F8D19C****\\\",\\n  \\\"IdpInfos\\\": [\\n    {\\n      \\\"IdpId\\\": \\\"idp-hlyexfvwert9m8****\\\",\\n      \\\"IdpName\\\": \\\"钉钉\\\",\\n      \\\"SsoProtocol\\\": \\\"SAML\\\",\\n      \\\"IdpProvider\\\": \\\"钉钉\\\",\\n      \\\"SsoServiceUrl\\\": \\\"https://e1iwdlcn.aliyunidaas.com/login/app/app_****/saml2/sso\\\",\\n      \\\"Cookies\\\": \\\"null\\\",\\n      \\\"AccountType\\\": \\\"simple\\\",\\n      \\\"JumpSwitch\\\": \\\"true\\\",\\n      \\\"IdpNameEN\\\": \\\"wy-simple\\\"\\n    }\\n  ],\\n  \\\"OfficeSiteInfo\\\": {\\n    \\\"OfficeSiteId\\\": \\\"cn-shanghai+dir-448204****\\\",\\n    \\\"SsoServiceUrl\\\": \\\"https://e1iwdlcn.aliyunidaas.com/login/app/app_****/saml2/sso\\\",\\n    \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n    \\\"AccessType\\\": \\\"INTERNET\\\",\\n    \\\"ProviderId\\\": \\\"26842\\\"\\n  },\\n  \\\"TenantAliasInfo\\\": {\\n    \\\"TenantAlias\\\": \\\"Or09****\\\",\\n    \\\"AccessType\\\": \\\"INTERNET\\\"\\n  },\\n  \\\"ProfileRegion\\\": \\\"cn_hangzhou\\\",\\n  \\\"PopRegionConfig\\\": {\\n    \\\"key\\\": \\\"cn-shanghai\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询登录配置"}},"endpoints":[{"regionId":"cn-shanghai","endpoint":"appstream-center.cn-shanghai.aliyuncs.com"},{"regionId":"ap-southeast-1","endpoint":"appstream-center.ap-southeast-1.aliyuncs.com"}]}