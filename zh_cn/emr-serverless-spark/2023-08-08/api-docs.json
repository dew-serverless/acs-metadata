{"version":"1.0","info":{"style":"ROA","product":"emr-serverless-spark","version":"2023-08-08"},"directories":[{"id":198560,"title":"会话管理","type":"directory","children":["GetSessionCluster","StopSessionCluster","StartSessionCluster","ListSessionClusters"]},{"id":192452,"title":"数据开发","type":"directory","children":["TerminateSqlStatement","CreateSqlStatement","GetSqlStatement"]},{"id":192431,"title":"工作空间管理","type":"directory","children":["ListWorkspaces","ListWorkspaceQueues"]},{"id":192428,"title":"Spark版本管理","type":"directory","children":["ListReleaseVersions"]},{"id":192430,"title":"Spark任务管理","type":"directory","children":["CancelJobRun","ListJobRuns","GetJobRun","StartJobRun"]},{"id":200189,"title":"任务编排","type":"directory","children":["StartProcessInstance","UpdateProcessDefinitionWithSchedule","CreateProcessDefinitionWithSchedule"]},{"id":192589,"title":"其他","type":"directory","children":["GrantRoleToUsers","AddMembers","ListLogContents","GetTemplate"]}],"components":{"schemas":{"Artifact":{"type":"object","properties":{"fullPath":{"title":"资源文件目录全路径","type":"array","items":{"type":"string","example":"目录名称"}},"gmtModified":{"title":"创建时间","type":"string","required":true},"creator":{"title":"创建者uid","type":"integer","format":"int64","required":true},"credential":{"title":"资源文件访问密钥","$ref":"#/components/schemas/Credential"},"gmtCreated":{"title":"最后更新时间","type":"string","required":true},"modifier":{"title":"最后更新者uid","type":"integer","format":"int64","required":true},"bizId":{"title":"资源文件业务id","type":"string","required":true},"name":{"title":"资源文件名称","type":"string","required":true},"location":{"title":"资源文件地址","type":"string","required":true},"catagoryBizId":{"title":"资源文件所属目录","type":"string"}}},"Category":{"type":"object","properties":{"type":{"title":"目录类型","type":"string","required":true,"default":"TASK","enum":["TASK","ARTIFACT"]},"gmtModified":{"title":"最后更新时间","type":"string","required":true},"creator":{"title":"创建者uid","type":"integer","format":"int64","required":true},"gmtCreated":{"title":"创建时间","type":"string","required":true},"modifier":{"title":"最后更新者uid","type":"integer","format":"int64","required":true},"bizId":{"title":"目录业务id","type":"string","required":true},"name":{"title":"目录名臣","type":"string","required":true,"maxLength":64,"minLength":1},"parentBizId":{"title":"父目录业务id","type":"string"}}},"Configuration":{"title":"A short description of struct","type":"object","properties":{"configFileName":{"title":"配置文件名称","type":"string"},"configItemKey":{"title":"配置项名称","type":"string"},"configItemValue":{"title":"配置项值","type":"string"}}},"ConfigurationOverrides":{"title":"A short description of struct","type":"object","properties":{"configurations":{"title":"configurations","type":"array","items":{"type":"object","properties":{"configFileName":{"title":"configFileName","type":"string"},"configItemKey":{"title":"configItemKey","type":"string"},"configItemValue":{"title":"configItemValue","type":"string"}}}}}},"Credential":{"type":"object","properties":{"securityToken":{"title":"sts token","type":"string","required":true},"accessId":{"title":"sts ak","type":"string","required":true},"signature":{"title":"oss访问签名","type":"string","required":true},"expire":{"title":"超时时间","type":"string","required":true},"host":{"title":"oss域名","type":"string","required":true},"dir":{"title":"oss路径","type":"string","required":true},"policy":{"title":"oss访问策略","type":"string","required":true}}},"JobDriver":{"title":"A short description of struct","description":"jobDriver","type":"object","properties":{"sparkSubmit":{"title":"sparkSubmit","type":"object","properties":{"entryPoint":{"title":"entryPoint","type":"string"},"entryPointArguments":{"title":"entryPointArguments","type":"array","items":{"type":"string"}},"sparkSubmitParameters":{"title":"sparkSubmitParameters","type":"string"}}}}},"KerberosConf":{"type":"object","properties":{"gmtModified":{"type":"string"},"creator":{"type":"string"},"krb5Conf":{"type":"string"},"gmtCreated":{"type":"string"},"networkServiceId":{"type":"string"},"name":{"type":"string"},"kerberosConfId":{"type":"string"},"keytabs":{"type":"array","items":{"type":"string"}},"enabled":{"type":"boolean"},"workspaceId":{"type":"string"}}},"PrincipalAction":{"title":"A short description of struct","description":"PrincipalAction","type":"object","properties":{"principalArn":{"title":"主体Arn","type":"string","example":"acs:emr::workspaceId:user/237593691541622267"},"actionArn":{"title":"行为Arn","type":"string","example":"acs:emr::workspaceId:action/create_queue"}}},"ReleaseVersionImage":{"title":"A short description of struct","description":"主版本镜像","type":"object","properties":{"runtimeEngineType":{"title":"runtimeEngineType","type":"string"},"cpuArchitecture":{"title":"cpuArchitecture","type":"string"},"imageId":{"title":"imageId","type":"string"}}},"RunLog":{"title":"A short description of struct","description":"runLog","type":"object","properties":{"driverStdOut":{"title":"driverStdOut","type":"string"},"driverStdError":{"title":"driverStdError","type":"string"},"driverSyslog":{"title":"driverSyslog","type":"string"},"driverStartup":{"title":"driverStartup","type":"string"}}},"SparkConf":{"type":"object","properties":{"value":{"title":"spark conf value","type":"string","required":true},"key":{"title":"spark conf key","type":"string","required":true}}},"SqlOutput":{"title":"结果集","type":"object","properties":{"schema":{"title":"结果集结构","type":"object","properties":{"fields":{"title":"结果集","type":"array","items":{"type":"object","properties":{"name":{"title":"名称","type":"string"},"type":{"title":"类型","type":"string"},"nullable":{"title":"是否可空","type":"boolean"}}}}}},"rows":{"title":"行","type":"array","items":{"type":"object","properties":{"values":{"title":"值列表","type":"array","items":{"type":"string"},"example":"null"}}}}}},"Tag":{"type":"object","properties":{"key":{"title":"标签key值。","description":"标签key值。","type":"string","example":"workflowId"},"value":{"title":"标签key值。","description":"标签key值。","type":"string","example":"wf-123test"}}},"Task":{"type":"object","properties":{"gmtModified":{"title":"最后创建时间","type":"string","required":true},"defaultSqlComputeId":{"title":"默认sql session id","type":"string"},"archives":{"title":"--archives参数","type":"array","items":{"type":"string"}},"lastRunResourceQueueId":{"title":"最后一次运行的资源队列id","type":"string"},"sparkLogLevel":{"title":"spark日志级别","type":"string","required":true},"gmtCreated":{"title":"创建时间","type":"string","required":true},"sparkDriverMemory":{"title":"spark driver内存","type":"integer","format":"int64","required":true},"modifier":{"title":"最后一次更新者uid","type":"integer","format":"int64","required":true},"jars":{"title":"--jars参数","type":"array","items":{"type":"string"}},"sparkExecutorCores":{"title":"spark executor核数","type":"integer","format":"int32","required":true},"extraArtifactIds":{"title":"spark额外资源id","type":"array","items":{"type":"string"},"required":false},"type":{"title":"task类型","type":"string","required":true},"content":{"title":"spark作业内容","type":"string","required":false},"timeout":{"title":"任务超时时间","type":"integer","format":"int32"},"sparkVersion":{"title":"spark版本","type":"string","required":true},"sparkEntrypoint":{"title":"spark主类入口","type":"string","required":false},"sparkArgs":{"title":"spark参数","type":"string","example":"100"},"environmentId":{"title":"环境id","type":"string"},"credential":{"title":"直传oss信息","type":"object","properties":{"accessId":{"title":"access id","type":"string"},"securityToken":{"title":"security token","type":"string"},"path":{"title":"路径","type":"string"},"signature":{"title":"签名","type":"string"},"accessUrl":{"title":"访问链接","type":"string"},"expire":{"title":"过期时间","type":"integer","format":"int64"},"host":{"title":"域名","type":"string"},"policy":{"title":"policy","type":"string"}}},"hasChanged":{"title":"最后一次提交后是否变更","type":"boolean"},"extraSparkSubmitParams":{"title":"自定义spark submit配置参数","type":"string"},"deploymentId":{"title":"streaming任务部署id","type":"string"},"bizId":{"title":"业务id","type":"string","required":true},"artifactUrl":{"title":"资源文件访问临时url","type":"string"},"defaultResourceQueueId":{"title":"task默认队列id","type":"string"},"defaultDatabase":{"title":"默认数据库","type":"string"},"creator":{"title":"创建者uid","type":"integer","format":"int64","required":true},"categoryBizId":{"title":"目录业务id","type":"string"},"sparkSubmitClause":{"title":"spark submit任务提交语句","type":"string"},"sparkConf":{"title":"spark配置列表","type":"array","items":{"$ref":"#/components/schemas/SparkConf"}},"pyFiles":{"title":"spark pyspark依赖pyfiles","type":"array","items":{"type":"string"},"required":false},"tags":{"title":"任务标签","type":"object","required":false,"additionalProperties":{"type":"string","example":"标签键"}},"defaultCatalogId":{"title":"默认catalog id","type":"string"},"sparkExecutorMemory":{"title":"spark executor内存","type":"integer","format":"int64","required":true},"fusion":{"title":"是否开启fusion开关","type":"boolean"},"isStreaming":{"title":"是否是streaming任务","type":"boolean"},"sparkDriverCores":{"title":"spark driver核数","type":"integer","format":"int32","required":true},"sparkLogPath":{"title":"spark日志","type":"string","required":true},"name":{"title":"task名称","type":"string","required":true},"files":{"title":"--files参数","type":"array","items":{"type":"string"}},"hasCommited":{"title":"是否已提交","type":"boolean","required":true}}},"TaskInstance":{"type":"object","properties":{"taskInfo":{"title":"任务详细信息","required":false,"$ref":"#/components/schemas/Task"},"workspaceBizId":{"title":"工作空间id","type":"string"},"taskBizId":{"title":"任务业务id","type":"string"},"taskStatus":{"title":"任务实例状态","type":"string"},"bizId":{"title":"任务实例业务id","type":"string"},"fenixRunId":{"title":"fenix run id","type":"string"},"gmtCreated":{"title":"创建时间","type":"string"},"creator":{"title":"创建者uid","type":"integer","format":"int64"}}},"TaskSnapshot":{"type":"object","properties":{"commiter":{"title":"提交者uid","type":"integer","format":"int64"},"item":{"title":"任务信息","$ref":"#/components/schemas/Task"},"taskBizId":{"title":"任务业务id","type":"string"},"message":{"title":"提交信息","type":"string"},"version":{"title":"提交版本","type":"string"},"gmtCreated":{"title":"创建时间","type":"string"},"bizId":{"title":"业务id","type":"string"}}},"Template":{"type":"object","properties":{"sparkDriverCores":{"title":"spark driver核数","type":"integer","format":"int32","required":true},"sparkDriverMemory":{"title":"spark driver内存","type":"integer","format":"int64","required":true},"sparkExecutorMemory":{"title":"spark executor内存","type":"integer","format":"int64","required":true},"sparkVersion":{"title":"spark内部release版本","type":"string","required":true},"sparkLogLevel":{"title":"spark日志级别","type":"string","required":true},"sparkExecutorCores":{"title":"spark executor核数","type":"integer","format":"int32","required":true},"gmtModified":{"title":"最后更新时间","type":"string","required":true},"sparkLogPath":{"title":"spark日志路径","type":"string","required":true},"creator":{"title":"创建者uid","type":"integer","format":"int64","required":true},"gmtCreated":{"title":"创建时间","type":"string","required":true},"modifier":{"title":"最后更新者uid","type":"integer","format":"int64","required":true},"sparkConf":{"title":"spark conf","type":"array","items":{"$ref":"#/components/schemas/SparkConf"}},"templateType":{"title":"模板类型","type":"string"},"fusion":{"title":"是否开启fusion开关","type":"boolean"},"displaySparkVersion":{"title":"SparkVersion展示名","type":"string"}}},"TimeRange":{"title":"时间范围","type":"object","properties":{"startTime":{"title":"时间范围开始时间。","description":"时间范围开始时间。","type":"integer","format":"int64","example":"1688370894339"},"endTime":{"title":"时间范围结束时间。","description":"时间范围结束时间。","type":"integer","format":"int64","example":"1688370894339"}}}}},"apis":{"GetSessionCluster":{"summary":"获取会话详情。","path":"/api/v1/workspaces/{workspaceId}/sessionClusters/{sessionClusterId}","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"203510","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"workspaceId","in":"path","allowEmptyValue":false,"schema":{"title":"工作空间id。","description":"工作空间ID。","type":"string","required":false,"example":"w-1234abcd"}},{"name":"sessionClusterId","in":"path","allowEmptyValue":false,"schema":{"title":"作业名称。","description":"作业名称。","type":"string","required":false,"example":"emr-spark-demo-job"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据。","type":"object","properties":{"sessionCluster":{"description":"会话对象。","type":"object","properties":{"workspaceId":{"title":"工作空间id。","description":"工作空间ID。","type":"string","example":"w-1234abcd"},"sessionClusterId":{"title":"交互式作业会话id。","description":"交互式作业会话ID。","type":"string","example":"1234abcd-12ab-34cd-56ef-1234567890ab"},"userId":{"title":"任务实例ID。","description":"用户ID。","type":"string","example":"123xxxxxxxx"},"queueName":{"title":"作业实例名称。","description":"队列名称。","type":"string","example":"dev_queue"},"state":{"title":"作业状态。","description":"作业状态。\n- Starting：启动中。\n- Running：运行中。\n- Stopping：正在停止。\n- Stopped：已停止。\n- Error：已失败。","type":"string","enumValueTitles":{},"example":"Running"},"stateChangeReason":{"description":"状态变化原因。","type":"object","properties":{"code":{"description":"状态变化编码。","type":"string","example":"1000000"},"message":{"description":"状态变化消息。","type":"string","example":"ok"}}},"autoStartConfiguration":{"description":"是否开启自动启动。","type":"object","properties":{"enable":{"description":"是否开启自动启动。\n- true：是。\n- false：否。","type":"boolean","enumValueTitles":{},"example":"false"}}},"autoStopConfiguration":{"description":"是否允许自动终止。","type":"object","properties":{"enable":{"description":"是否允许自动终止。\n- true：是。\n- false：否。","type":"boolean","enumValueTitles":{},"example":"false"},"idleTimeoutMinutes":{"description":"会话空闲指定分钟数后自动终止。","type":"integer","format":"int32","example":"60"}}},"applicationConfigs":{"description":"Spark应用配置列表。","type":"array","items":{"description":"Spark应用配置。","type":"object","properties":{"configFileName":{"description":"配置文件名。","type":"string","example":"spark-defaults.conf"},"configItemKey":{"description":"配置键。","type":"string","example":"spark.app.name"},"configItemValue":{"description":"配置值。","type":"string","example":"test"}}}},"releaseVersion":{"description":"Serverless Spark版本。","type":"string","example":"esr-4.0.0 (Spark 3.5.2, Scala 2.12)"},"name":{"description":"会话名称。","type":"string","example":"test"},"userName":{"description":"会话创建者名称。","type":"string","example":"user1"},"kind":{"description":"生效作业类型，必填，创建后无法修改。\n- SQLSCRIPT：SQL作业。\n- JAR：JAR作业。\n- PYTHON：Python作业。","type":"string","example":"SQL"},"webUI":{"description":"会话Spark UI链接地址。","type":"string","example":"https://spark-ui/link"},"draftId":{"description":"会话绑定的开发作业ID。","type":"string","example":"TSK-xxxxxxxx"},"domain":{"description":"会话Spark UI所属域。","type":"string","example":"your.domain.com"},"displayReleaseVersion":{"description":"控制台实际展示的版本。","type":"string","example":"esr-4.0.0 (Spark 3.5.2, Scala 2.12)"},"fusion":{"description":"是否开启Fusion引擎加速。","type":"boolean","example":"false"},"envId":{"description":"环境ID。","type":"string","example":"env-cpv569tlhtgndjl8****"},"gmtCreate":{"description":"创建时间。","type":"integer","format":"int64","example":"2024-09-01 06:23:01\n"},"startTime":{"description":"开始时间。","type":"integer","format":"int64","example":"2024-09-01 06:23:01"},"domainInner":{"description":"内网域名。","type":"string","example":"emr-spark-gateway-cn-hangzhou-internal.data.aliyuncs.com"}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"sessionCluster\\\": {\\n    \\\"workspaceId\\\": \\\"w-1234abcd\\\",\\n    \\\"sessionClusterId\\\": \\\"1234abcd-12ab-34cd-56ef-1234567890ab\\\",\\n    \\\"userId\\\": \\\"123xxxxxxxx\\\",\\n    \\\"queueName\\\": \\\"dev_queue\\\",\\n    \\\"state\\\": \\\"Running\\\",\\n    \\\"stateChangeReason\\\": {\\n      \\\"code\\\": \\\"1000000\\\",\\n      \\\"message\\\": \\\"ok\\\"\\n    },\\n    \\\"autoStartConfiguration\\\": {\\n      \\\"enable\\\": false\\n    },\\n    \\\"autoStopConfiguration\\\": {\\n      \\\"enable\\\": false,\\n      \\\"idleTimeoutMinutes\\\": 60\\n    },\\n    \\\"applicationConfigs\\\": [\\n      {\\n        \\\"configFileName\\\": \\\"spark-defaults.conf\\\",\\n        \\\"configItemKey\\\": \\\"spark.app.name\\\",\\n        \\\"configItemValue\\\": \\\"test\\\"\\n      }\\n    ],\\n    \\\"releaseVersion\\\": \\\"esr-4.0.0 (Spark 3.5.2, Scala 2.12)\\\",\\n    \\\"name\\\": \\\"test\\\",\\n    \\\"userName\\\": \\\"user1\\\",\\n    \\\"kind\\\": \\\"SQL\\\",\\n    \\\"webUI\\\": \\\"https://spark-ui/link\\\",\\n    \\\"draftId\\\": \\\"TSK-xxxxxxxx\\\",\\n    \\\"domain\\\": \\\"your.domain.com\\\",\\n    \\\"displayReleaseVersion\\\": \\\"esr-4.0.0 (Spark 3.5.2, Scala 2.12)\\\",\\n    \\\"fusion\\\": false,\\n    \\\"envId\\\": \\\"env-cpv569tlhtgndjl8****\\\",\\n    \\\"gmtCreate\\\": 0,\\n    \\\"startTime\\\": 0,\\n    \\\"domainInner\\\": \\\"emr-spark-gateway-cn-hangzhou-internal.data.aliyuncs.com\\\"\\n  },\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"获取会话详情"},"StopSessionCluster":{"summary":"终止session集群。","path":"/api/v1/workspaces/{workspaceId}/sessionClusters/action/stopSessionCluster","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{},"parameters":[{"name":"body","in":"body","allowEmptyValue":false,"style":"json","schema":{"description":"请求结构体","type":"object","properties":{"queueName":{"description":"队列名称","type":"string","required":false,"example":"root_queue"},"sessionClusterId":{"description":"会话ID","type":"string","required":false,"example":"sc-xxxxxxxxxxxx"}},"required":false}},{"name":"workspaceId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":false,"example":"w-d2d82aa09155****"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"sessionClusterId":{"title":"Workspace Id。","description":"Workspace Id。","type":"string","example":"w-******"},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"sessionClusterId\\\": \\\"w-******\\\",\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"终止会话"},"StartSessionCluster":{"summary":"启动session集群。","path":"/api/v1/workspaces/{workspaceId}/sessionClusters/action/startSessionCluster","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{},"parameters":[{"name":"body","in":"body","allowEmptyValue":false,"style":"json","schema":{"description":"请求结构体","type":"object","properties":{"queueName":{"description":"队列名称","type":"string","required":false,"example":"root_queue"},"sessionClusterId":{"description":"会话ID","type":"string","required":false,"example":"sc-xxxxxxxxxxx"}},"required":false}},{"name":"workspaceId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":false,"example":"w-d2d82aa09155****"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"sessionClusterId":{"title":"Workspace Id。","description":"Workspace Id。","type":"string","example":"w-******"},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"sessionClusterId\\\": \\\"w-******\\\",\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"启动会话"},"ListSessionClusters":{"summary":"获取会话列表。","path":"/api/v1/workspaces/{workspaceId}/sessionClusters","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"202905","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"nextToken","in":"query","allowEmptyValue":false,"schema":{"title":"标记当前开始读取的位置。","description":"标记当前开始读取的位置。","type":"string","required":false,"example":"1"}},{"name":"maxResults","in":"query","allowEmptyValue":false,"schema":{"title":"一次获取的最大记录数。","description":"一次获取的最大记录数。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"workspaceId","in":"path","allowEmptyValue":false,"schema":{"title":"工作空间id。","description":"工作空间ID。","type":"string","required":false,"example":"w-1234abcd"}},{"name":"sessionClusterId","in":"query","allowEmptyValue":false,"schema":{"title":"作业名称。","description":"作业名称。","type":"string","required":false,"example":"emr-spark-demo-job"}},{"name":"queueName","in":"query","schema":{"description":"队列名称。","type":"string","required":false,"example":"root"}},{"name":"kind","in":"query","schema":{"description":"会话类型。","type":"string","required":false,"enumValueTitles":{"NOTEBOOK":"NOTEBOOK","THRIFT":"THRIFT","SQL":"SQL"},"example":"SQL","default":"SQL"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据。","type":"object","properties":{"sessionClusters":{"description":"会话列表。","type":"array","items":{"description":"会话详情。","type":"object","properties":{"workspaceId":{"title":"工作空间id。","description":"工作空间ID。","type":"string","example":"w-1234abcd"},"sessionClusterId":{"title":"交互式作业会话id。","description":"会话ID。","type":"string","example":"sc-123131"},"userId":{"title":"任务实例ID。","description":"用户ID。","type":"string","example":"123131"},"queueName":{"title":"作业实例名称。","description":"会话运行队列名称。","type":"string","example":"dev_queue"},"state":{"title":"作业状态。","description":"会话状态。\n- Starting：启动中。\n- Running：运行中。\n- Stopping：正在停止。\n- Stopped：已停止。\n- Error：已失败。","type":"string","example":"Running"},"stateChangeReason":{"description":"会话最近一次状态变化详情。","type":"object","properties":{"code":{"description":"状态变化编码。","type":"string","example":"200"},"message":{"description":"状态变化消息。","type":"string","example":"ok"}}},"autoStartConfiguration":{"description":"自动启动配置。","type":"object","properties":{"enable":{"description":"是否开启自动启动。","type":"boolean","example":"true"}}},"autoStopConfiguration":{"description":"自动终止配置。","type":"object","properties":{"enable":{"description":"是否允许自动终止。","type":"boolean","example":"false"},"idleTimeoutMinutes":{"description":"会话空闲指定分钟数后自动终止。","type":"integer","format":"int32","example":"45"}}},"applicationConfigs":{"description":"会话配置，等价于背后运行的Spark作业的配置。","type":"array","items":{"description":"SQL Compute配置，等价于背后运行的spark job的配置。","type":"object","properties":{"configFileName":{"description":"配置文件名。","type":"string","example":"spark-default.conf"},"configItemKey":{"description":"配置键。","type":"string","example":"spark.app.name"},"configItemValue":{"description":"配置值。","type":"string","example":"test_application"}}}},"name":{"description":"会话名称。","type":"string","example":"adhoc_query"},"userName":{"description":"用户名。","type":"string","example":"test_user"},"kind":{"description":"会话类型。","type":"string","enumValueTitles":{"NOTEBOOK":"NOTEBOOK","THRIFT":"THRIFT","SQL":"SQL"},"example":"SQL"},"webUI":{"description":"会话SparkUI链接地址。","type":"string","example":"http://spark-ui-xxxx"},"releaseVersion":{"description":"Serverless Spark版本。","type":"string","example":"esr-4.0.0 (Spark 3.5.2, Scala 2.12)"},"draftId":{"description":"会话绑定的开发作业ID。","type":"string","example":"TSK-xxxxxxxxx\n"},"domain":{"description":"Thrift server的外网域名。","type":"string","example":"emr-spark-gateway-cn-hangzhou.data.aliyun.com"},"displayReleaseVersion":{"description":"控制台实际展示的版本。","type":"string","example":"esr-4.0.0 (Spark 3.5.2, Scala 2.12)"},"fusion":{"description":"是否开启Fusion引擎加速。","type":"boolean","example":"false"},"gmtCreate":{"description":"创建时间。","type":"integer","format":"int64","example":"1732267598000"},"startTime":{"description":"启动时间。","type":"integer","format":"int64","example":"1732267598000"},"domainInner":{"description":"Thrift server的内网域名。","type":"string","example":"emr-spark-gateway-cn-hangzhou-internal.data.aliyuncs.com"}}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"nextToken":{"title":"返回读取到的数据位置。","description":"返回读取到的数据位置。","type":"string","example":"1"},"maxResults":{"title":"本次请求所返回的最大记录条数。","description":"本次请求所返回的最大记录条数。","type":"integer","format":"int32","example":"20"},"totalCount":{"title":"本次请求条件下的数据总量。","description":"本次请求条件下的数据总量。","type":"integer","format":"int32","example":"200"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"sessionClusters\\\": [\\n    {\\n      \\\"workspaceId\\\": \\\"w-1234abcd\\\",\\n      \\\"sessionClusterId\\\": \\\"sc-123131\\\",\\n      \\\"userId\\\": \\\"123131\\\",\\n      \\\"queueName\\\": \\\"dev_queue\\\",\\n      \\\"state\\\": \\\"Running\\\",\\n      \\\"stateChangeReason\\\": {\\n        \\\"code\\\": \\\"200\\\",\\n        \\\"message\\\": \\\"ok\\\"\\n      },\\n      \\\"autoStartConfiguration\\\": {\\n        \\\"enable\\\": true\\n      },\\n      \\\"autoStopConfiguration\\\": {\\n        \\\"enable\\\": false,\\n        \\\"idleTimeoutMinutes\\\": 45\\n      },\\n      \\\"applicationConfigs\\\": [\\n        {\\n          \\\"configFileName\\\": \\\"spark-default.conf\\\",\\n          \\\"configItemKey\\\": \\\"spark.app.name\\\",\\n          \\\"configItemValue\\\": \\\"test_application\\\"\\n        }\\n      ],\\n      \\\"name\\\": \\\"adhoc_query\\\",\\n      \\\"userName\\\": \\\"test_user\\\",\\n      \\\"kind\\\": \\\"SQL\\\",\\n      \\\"webUI\\\": \\\"http://spark-ui-xxxx\\\",\\n      \\\"releaseVersion\\\": \\\"esr-4.0.0 (Spark 3.5.2, Scala 2.12)\\\",\\n      \\\"draftId\\\": \\\"TSK-xxxxxxxxx\\\\n\\\",\\n      \\\"domain\\\": \\\"emr-spark-gateway-cn-hangzhou.data.aliyun.com\\\",\\n      \\\"displayReleaseVersion\\\": \\\"esr-4.0.0 (Spark 3.5.2, Scala 2.12)\\\",\\n      \\\"fusion\\\": false,\\n      \\\"gmtCreate\\\": 1732267598000,\\n      \\\"startTime\\\": 1732267598000,\\n      \\\"domainInner\\\": \\\"emr-spark-gateway-cn-hangzhou-internal.data.aliyuncs.com\\\"\\n    }\\n  ],\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"nextToken\\\": \\\"1\\\",\\n  \\\"maxResults\\\": 20,\\n  \\\"totalCount\\\": 200\\n}\",\"type\":\"json\"}]","title":"获取会话列表"},"TerminateSqlStatement":{"summary":"终止正在执行的SQL查询。","path":"/api/interactive/v1/workspace/{workspaceId}/statement/{statementId}/terminate","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"224753","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":false,"example":"w-d2d82aa09155****"}},{"name":"statementId","in":"path","schema":{"description":"交互式查询ID。","type":"string","required":false,"example":"st-abcadfadf12****"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"终止SQL查询"},"CreateSqlStatement":{"summary":"创建SQL查询。","path":"/api/interactive/v1/workspace/{workspaceId}/statement","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"224750","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"A short description of struct","description":"工作空间ID。","type":"string","required":false,"example":"w-26ca1703f6d****"}},{"name":"body","in":"body","style":"flat","schema":{"description":"创建SQL查询请求体。","type":"object","properties":{"codeContent":{"description":"SQL代码。允许传入一条或多条SQL语句进行执行。","type":"string","required":false,"example":"SHOW TABLES"},"defaultDatabase":{"description":"默认数据库名。","type":"string","required":false,"example":"default"},"limit":{"description":"limit值，取值范围：1~10000。","type":"integer","format":"int32","required":false,"example":"1000","default":"1000"},"defaultCatalog":{"description":"默认DLF Catalog ID。","type":"string","required":false,"example":"default_catalog"},"sqlComputeId":{"description":"SQL Compute ID。需要在EMR Serverless Spark工作空间的Compute模块内创建。","type":"string","required":false,"example":"sc-dfahdfjafhajd****"}},"required":false}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"data":{"description":"返回结果。","type":"object","properties":{"statementId":{"description":"SQL查询ID。","type":"string","example":"st-1231dfafadfa***"}}},"requestId":{"description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": {\\n    \\\"statementId\\\": \\\"st-1231dfafadfa***\\\"\\n  },\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"创建SQL查询"},"GetSqlStatement":{"summary":"获取SQL查询详情。","path":"/api/interactive/v1/workspace/{workspaceId}/statement/{statementId}","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","abilityTreeCode":"224752","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":false,"example":"w-d2d82aa09155****"}},{"name":"statementId","in":"path","schema":{"description":"交互式查询ID。","type":"string","required":false,"example":"st-2dadfhajk11cv****"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"data":{"description":"返回数据。","type":"object","properties":{"statementId":{"description":"查询ID。","type":"string","example":"st-1231311abadfaa"},"state":{"description":"查询状态。","type":"string","enumValueTitles":{"running":"running","available":"available","cancelled":"cancelled","error":"error","cancelling":"cancelling"},"example":"running","enum":["running","error","waiting","cancelling","cancelled","available","success"]},"sqlOutputs":{"description":"SQL查询结果列表","type":"array","items":{"description":"单个SQL查询结果","type":"object","properties":{"rows":{"description":"查询数据，格式为经过JSON序列化的字符串。","type":"string","example":"[{\\\"values\\\":[\\\"test_db\\\",\\\"test_table\\\",false]}"},"schema":{"description":"Schema的详细信息，格式为经过JSON序列化的字符串。","type":"string","example":"{\\\"type\\\":\\\"struct\\\",\\\"fields\\\":[{\\\"name\\\":\\\"namespace\\\",\\\"type\\\":\\\"string\\\",\\\"nullable\\\":false,\\\"metadata\\\":{}},{\\\"name\\\":\\\"tableName\\\",\\\"type\\\":\\\"string\\\",\\\"nullable\\\":false,\\\"metadata\\\":{}},{\\\"name\\\":\\\"isTemporary\\\",\\\"type\\\":\\\"boolean\\\",\\\"nullable\\\":false,\\\"metadata\\\":{}}]}"}}}},"sqlErrorCode":{"description":"SQL查询错误码。","type":"string","example":"ERROR-102"},"sqlErrorMessage":{"description":"SQL查询错误信息。","type":"string","example":"error message"},"executionTime":{"description":"SQL查询耗时列表。","type":"array","items":{"description":"每个SQL查询消耗时间，单位毫秒。","type":"integer","format":"int64","example":"1717138731701"}}}},"requestId":{"description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": {\\n    \\\"statementId\\\": \\\"st-1231311abadfaa\\\",\\n    \\\"state\\\": \\\"running\\\",\\n    \\\"sqlOutputs\\\": [\\n      {\\n        \\\"rows\\\": \\\"[{\\\\\\\\\\\\\\\"values\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"test_db\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"test_table\\\\\\\\\\\\\\\",false]}\\\",\\n        \\\"schema\\\": \\\"{\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"struct\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"fields\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"namespace\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"string\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"nullable\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"metadata\\\\\\\\\\\\\\\":{}},{\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"tableName\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"string\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"nullable\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"metadata\\\\\\\\\\\\\\\":{}},{\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"isTemporary\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"boolean\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"nullable\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"metadata\\\\\\\\\\\\\\\":{}}]}\\\"\\n      }\\n    ],\\n    \\\"sqlErrorCode\\\": \\\"ERROR-102\\\",\\n    \\\"sqlErrorMessage\\\": \\\"error message\\\",\\n    \\\"executionTime\\\": [\\n      1717138731701\\n    ]\\n  },\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"获取SQL查询详情"},"ListWorkspaces":{"summary":"调用ListWorkspaces获取工作空间列表。","path":"/api/v1/workspaces","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"list","abilityTreeCode":"192019","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"nextToken","in":"query","allowEmptyValue":false,"schema":{"title":"标记当前开始读取的位置。","description":"标记当前开始读取的位置。","type":"string","required":false,"example":"1"}},{"name":"maxResults","in":"query","allowEmptyValue":false,"schema":{"title":"一次获取的最大记录数。","description":"一次获取的最大记录数。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"name","in":"query","schema":{"description":"根据工作空间名称模糊搜索。","type":"string","required":false,"example":"test_workspace"}},{"name":"state","in":"query","schema":{"description":"工作空间状态","type":"string","required":false,"example":"running"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据。","type":"object","properties":{"workspaces":{"description":"工作空间列表。","type":"array","items":{"description":"工作空间详情。","type":"object","properties":{"workspaceId":{"title":"Workspace Id。","description":"Workspace ID。","type":"string","example":"w-******"},"workspaceName":{"title":"工作空间名称。","description":"工作空间名称。","type":"string","example":"spark批作业空间-1"},"resourceSpec":{"title":"资源规格。","description":"资源规格。","type":"string","example":"100cu"},"storage":{"title":"oss 路径。","description":"OSS路径。","type":"string","example":"spark-result"},"dlfCatalogId":{"title":"dlf catalog 信息。","description":"DLF Catalog信息。","type":"string","example":"default"},"paymentType":{"title":"付费类型。","description":"付费类型。","type":"string","example":"PayAsYouGo or Subscription"},"paymentDurationUnit":{"title":"订购周期(pre付费类型必须)。","description":"订购周期（pre付费类型必填）。","type":"string","example":"YEAR, MONTH, WEEK, DAY, HOUR, MINUTE"},"duration":{"title":"订购周期数量(pre付费类型必须)。","description":"订购周期数量（pre付费类型必填）。","type":"integer","format":"int32","example":"1"},"autoRenew":{"title":"是否自动续费(pre付费类型必须)。","description":"是否自动续费（pre付费类型必填）。","type":"boolean","example":"true"},"autoRenewPeriod":{"title":"自动续费时长(pre付费类型必须)。","description":"自动续费时长（pre付费类型必填）。","type":"integer","format":"int32","example":"1"},"autoRenewPeriodUnit":{"title":"自动续费周期(pre付费类型必须)。","description":"自动续费周期（pre付费类型必填）。","type":"string","example":"YEAR, MONTH, WEEK, DAY, HOUR, MINUTE"},"workspaceStatus":{"title":"工作空间状态。","description":"工作空间状态。","type":"string","example":"STARTING,RUNNING,TERMINATED"},"failReason":{"title":"失败原因。","description":"失败原因。","type":"string","example":"out of stock"},"paymentStatus":{"title":"支付状态。","description":"支付状态。","type":"string","example":"PAID/UNPAID"},"regionId":{"description":"地域ID。","type":"string","example":"cn-shanghai"},"createTime":{"description":"工作空间创建时间。","type":"integer","format":"int64","example":"1684115879955"},"endTime":{"description":"工作空间释放时间。","type":"integer","format":"int64","example":"1687103999999"},"stateChangeReason":{"description":"工作空间状态的变更信息。","type":"object","properties":{"code":{"description":"错误码。","type":"string","example":"0"},"message":{"description":"错误信息。","type":"string","example":"Success"}}},"releaseType":{"description":"工作空间释放原因。","type":"string","example":"SERVICE_RELEASE"},"dlfType":{"type":"string"}}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"nextToken":{"title":"下一页TOKEN。","description":"下一页TOKEN。","type":"string","example":"1"},"maxResults":{"title":"一次获取的最大记录数。","description":"一次获取的最大记录数。","type":"integer","format":"int32","example":"20"},"totalCount":{"title":"记录总数。","description":"记录总数。","type":"integer","format":"int32","example":"200"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"workspaces\\\": [\\n    {\\n      \\\"workspaceId\\\": \\\"w-******\\\",\\n      \\\"workspaceName\\\": \\\"spark批作业空间-1\\\",\\n      \\\"resourceSpec\\\": \\\"100cu\\\",\\n      \\\"storage\\\": \\\"spark-result\\\",\\n      \\\"dlfCatalogId\\\": \\\"default\\\",\\n      \\\"paymentType\\\": \\\"PayAsYouGo or Subscription\\\",\\n      \\\"paymentDurationUnit\\\": \\\"YEAR, MONTH, WEEK, DAY, HOUR, MINUTE\\\",\\n      \\\"duration\\\": 1,\\n      \\\"autoRenew\\\": true,\\n      \\\"autoRenewPeriod\\\": 1,\\n      \\\"autoRenewPeriodUnit\\\": \\\"YEAR, MONTH, WEEK, DAY, HOUR, MINUTE\\\",\\n      \\\"workspaceStatus\\\": \\\"STARTING,RUNNING,TERMINATED\\\",\\n      \\\"failReason\\\": \\\"out of stock\\\",\\n      \\\"paymentStatus\\\": \\\"PAID/UNPAID\\\",\\n      \\\"regionId\\\": \\\"cn-shanghai\\\",\\n      \\\"createTime\\\": 1684115879955,\\n      \\\"endTime\\\": 1687103999999,\\n      \\\"stateChangeReason\\\": {\\n        \\\"code\\\": \\\"0\\\",\\n        \\\"message\\\": \\\"Success\\\"\\n      },\\n      \\\"releaseType\\\": \\\"SERVICE_RELEASE\\\",\\n      \\\"dlfType\\\": \\\"\\\"\\n    }\\n  ],\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"nextToken\\\": \\\"1\\\",\\n  \\\"maxResults\\\": 20,\\n  \\\"totalCount\\\": 200\\n}\",\"type\":\"json\"}]","title":"获取工作空间列表"},"ListWorkspaceQueues":{"summary":"查看工作空间的队列列表。","path":"/api/v1/workspaces/{workspaceId}/queues","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"abilityTreeCode":"192786","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"workspaceId","in":"path","allowEmptyValue":false,"schema":{"description":"工作空间ID","type":"string","required":false,"example":"w-26ca1703f6d71e6e"}},{"name":"environment","in":"query","schema":{"description":"环境类型","type":"string","required":false,"enumValueTitles":{"dev":"dev","production":"production"},"example":"production"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"queues":{"description":"队列列表","type":"array","items":{"description":"队列详情","type":"object","properties":{"regionId":{"title":"regionId。","description":"regionId。","type":"string","example":"cn-hangzhou"},"queueName":{"title":"队列名称。","description":"队列名称。","type":"string","example":"dev_queue"},"workspaceId":{"title":"工作空间id。","description":"工作空间id。","type":"string","example":"w-1234abcd"},"queueType":{"title":"队列类型","description":"队列类型","type":"string","example":"instance, instanceChildren"},"properties":{"title":"队列Label","description":"队列Label","type":"string","example":"dev_queue"},"queueScope":{"title":"队列架构","description":"队列架构","type":"string","example":"{\"arch\": \"x86\"}"},"maxResource":{"title":"队列资源最大容量","description":"队列资源最大容量","type":"string","example":"{\"cpu\": \"2\",\"memory\": \"2Gi\"}"},"minResource":{"title":"队列资源最小容量","description":"队列资源最小容量","type":"string","example":"{\"cpu\": \"2\",\"memory\": \"2Gi\"}"},"usedResource":{"title":"队列资源使用容量","description":"队列资源使用容量","type":"string","example":"{\"cpu\": \"2\",\"memory\": \"2Gi\"}"},"queueStatus":{"description":"队列状态","type":"string","example":"RUNNING"},"creator":{"description":"创建用户UID。","type":"string","example":"237109"},"allowActions":{"title":"队列允许的操作","description":"队列允许的操作列表","type":"array","items":{"description":"队列允许的操作","type":"object","properties":{"actionArn":{"title":"行为 arn。","description":"行为 arn。","type":"string","example":"acs:emr::workspaceId:action/create_queue"},"actionName":{"title":"权限名称。","description":"权限名称。","type":"string","example":"view"},"displayName":{"title":"权限展示名称。","description":"权限展示名称。","type":"string","example":"文件目录遍历、文件浏览"},"description":{"title":"action 描述。","description":"action 描述。","type":"string","example":"文件目录遍历、文件浏览"},"dependencies":{"title":"action 依赖列表。","description":"action 依赖列表。","type":"array","items":{"description":"action依赖","type":"string","example":"view"},"example":"[\"view\"]"}}}},"environments":{"description":"队列环境类型列表","type":"array","items":{"description":"队列环境类型","type":"string","example":"production"}}}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"nextToken":{"title":"下一页TOKEN。","description":"下一页TOKEN。","type":"string","example":"1"},"maxResults":{"title":"一次获取的最大记录数。","description":"一次获取的最大记录数。","type":"integer","format":"int32","example":"20"},"totalCount":{"title":"记录总数。","description":"记录总数。","type":"integer","format":"int32","example":"200"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"queues\\\": [\\n    {\\n      \\\"regionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"queueName\\\": \\\"dev_queue\\\",\\n      \\\"workspaceId\\\": \\\"w-1234abcd\\\",\\n      \\\"queueType\\\": \\\"instance, instanceChildren\\\",\\n      \\\"properties\\\": \\\"dev_queue\\\",\\n      \\\"queueScope\\\": \\\"{\\\\\\\"arch\\\\\\\": \\\\\\\"x86\\\\\\\"}\\\",\\n      \\\"maxResource\\\": \\\"{\\\\\\\"cpu\\\\\\\": \\\\\\\"2\\\\\\\",\\\\\\\"memory\\\\\\\": \\\\\\\"2Gi\\\\\\\"}\\\",\\n      \\\"minResource\\\": \\\"{\\\\\\\"cpu\\\\\\\": \\\\\\\"2\\\\\\\",\\\\\\\"memory\\\\\\\": \\\\\\\"2Gi\\\\\\\"}\\\",\\n      \\\"usedResource\\\": \\\"{\\\\\\\"cpu\\\\\\\": \\\\\\\"2\\\\\\\",\\\\\\\"memory\\\\\\\": \\\\\\\"2Gi\\\\\\\"}\\\",\\n      \\\"queueStatus\\\": \\\"RUNNING\\\",\\n      \\\"creator\\\": \\\"237109\\\",\\n      \\\"allowActions\\\": [\\n        {\\n          \\\"actionArn\\\": \\\"acs:emr::workspaceId:action/create_queue\\\",\\n          \\\"actionName\\\": \\\"view\\\",\\n          \\\"displayName\\\": \\\"文件目录遍历、文件浏览\\\",\\n          \\\"description\\\": \\\"文件目录遍历、文件浏览\\\",\\n          \\\"dependencies\\\": [\\n            \\\"view\\\"\\n          ]\\n        }\\n      ],\\n      \\\"environments\\\": [\\n        \\\"production\\\"\\n      ]\\n    }\\n  ],\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"nextToken\\\": \\\"1\\\",\\n  \\\"maxResults\\\": 20,\\n  \\\"totalCount\\\": 200\\n}\",\"type\":\"json\"}]","title":"获取工作空间队列列表"},"ListReleaseVersions":{"summary":"获取发布版本列表。","path":"/api/v1/releaseVersions","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"list","abilityTreeCode":"192442","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"releaseVersion","in":"query","schema":{"description":"Serverless Spark版本。","type":"string","required":false,"example":"esr-2.1 (Spark 3.3.1, Scala 2.12, Java Runtime)"}},{"name":"releaseVersionStatus","in":"query","schema":{"description":"版本状态。","type":"string","required":false,"enumValueTitles":{"ONLINE":"在线","OFFLINE":"离线"},"example":"ONLINE"}},{"name":"releaseType","in":"query","schema":{"description":"版本类型。","type":"string","required":false,"enumValueTitles":{"stable":"稳定版","beta":"测试版"},"example":"stable"}},{"name":"workspaceId","in":"query","schema":{"description":"工作空间ID。","type":"string","required":false,"example":"w-d2d82aa09155****"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据。","type":"object","properties":{"releaseVersions":{"description":"版本列表。","type":"array","items":{"description":"版本详情。","type":"object","properties":{"releaseVersion":{"description":"版本号。","type":"string","example":"esr-2.1 (Spark 3.3.1, Scala 2.12, Java Runtime)"},"state":{"description":"版本状态。","type":"string","example":"ONLINE"},"type":{"description":"版本类型。","type":"string","example":"stable"},"iaasType":{"description":"IaaS层类型。","type":"string","example":"ASI"},"gmtCreate":{"description":"创建时间。","type":"integer","format":"int64","example":"1716215854101"},"scalaVersion":{"description":"Scala版本。","type":"string","example":"2.12"},"communityVersion":{"description":"社区Spark版本号。","type":"string","example":"Spark 3.3.1"},"cpuArchitectures":{"description":"CPU架构列表。","type":"array","items":{"description":"CPU架构。","type":"string","example":"x86"}},"displayReleaseVersion":{"description":"版本号。","type":"string","example":"esr-2.1 (Spark 3.3.1, Scala 2.12)"},"fusion":{"description":"是否开启Fusion引擎加速。","type":"boolean","enumValueTitles":{"true":"是","false":"否"},"example":"true"}}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"nextToken":{"title":"下一页TOKEN。","description":"下一页TOKEN。","type":"string","example":"1"},"maxResults":{"title":"一次获取的最大记录数。","description":"一次获取的最大记录数。","type":"integer","format":"int32","example":"20"},"totalCount":{"title":"记录总数。","description":"记录总数。","type":"integer","format":"int32","example":"200"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"releaseVersions\\\": [\\n    {\\n      \\\"releaseVersion\\\": \\\"esr-2.1 (Spark 3.3.1, Scala 2.12, Java Runtime)\\\",\\n      \\\"state\\\": \\\"ONLINE\\\",\\n      \\\"type\\\": \\\"stable\\\",\\n      \\\"iaasType\\\": \\\"ASI\\\",\\n      \\\"gmtCreate\\\": 1716215854101,\\n      \\\"scalaVersion\\\": \\\"2.12\\\",\\n      \\\"communityVersion\\\": \\\"Spark 3.3.1\\\",\\n      \\\"cpuArchitectures\\\": [\\n        \\\"x86\\\"\\n      ],\\n      \\\"displayReleaseVersion\\\": \\\"esr-2.1 (Spark 3.3.1, Scala 2.12)\\\",\\n      \\\"fusion\\\": true\\n    }\\n  ],\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"nextToken\\\": \\\"1\\\",\\n  \\\"maxResults\\\": 20,\\n  \\\"totalCount\\\": 200\\n}\",\"type\":\"json\"}]","title":"获取spark版本列表"},"CancelJobRun":{"summary":"调用CancelJobRun终止正在运行的Spark任务。","path":"/api/v1/workspaces/{workspaceId}/jobRuns/{jobRunId}","methods":["delete"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"delete","abilityTreeCode":"215798","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"workspaceId","in":"path","allowEmptyValue":false,"schema":{"title":"工作空间id。","description":"工作空间ID。","type":"string","required":true,"example":"w-d2d82aa09155****"}},{"name":"jobRunId","in":"path","allowEmptyValue":false,"schema":{"title":"任务实例ID。","description":"任务运行ID。","type":"string","required":true,"example":"jr-f09a8fda2396****"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"jobRunId":{"description":"任务运行ID。","type":"string","example":"jr-f09a8fda2396****"},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"jobRunId\\\": \\\"jr-f09a8fda2396****\\\",\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"终止Spark任务"},"ListJobRuns":{"summary":"调用ListJobRuns获取Spark任务列表。","path":"/api/v1/workspaces/{workspaceId}/jobRuns","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"215800","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"nextToken","in":"query","allowEmptyValue":false,"schema":{"title":"标记当前开始读取的位置。","description":"标记当前开始读取的位置。","type":"string","required":false,"example":"DD6B1B2A-5837-5237-ABE4-FF0C89568980"}},{"name":"maxResults","in":"query","allowEmptyValue":false,"schema":{"title":"一次获取的最大记录数。","description":"一次获取的最大记录数。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"workspaceId","in":"path","allowEmptyValue":false,"schema":{"title":"工作空间id。","description":"工作空间ID。","type":"string","required":true,"example":"w-d2d82aa09155****"}},{"name":"name","in":"query","allowEmptyValue":false,"schema":{"title":"作业名称。","description":"任务名称。","type":"string","required":false,"example":"emr-spark-demo-job"}},{"name":"creator","in":"query","allowEmptyValue":false,"schema":{"title":"创建用户Uid。","description":"创建用户UID。","type":"string","required":false,"example":"150978934701****"}},{"name":"jobRunId","in":"query","allowEmptyValue":false,"schema":{"title":"作业id。","description":"任务ID。","type":"string","required":false,"example":"j-xxx"}},{"name":"tags","in":"query","allowEmptyValue":false,"style":"json","schema":{"title":"标签。","description":"标签列表。","type":"array","items":{"description":"标签对象。","type":"object","properties":{"key":{"description":"标签键。","type":"string","required":false,"example":"tag_key"},"value":{"description":"标签值。","type":"string","required":false,"example":"value"}},"required":false},"required":false}},{"name":"states","in":"query","allowEmptyValue":false,"style":"json","schema":{"title":"作业状态。","description":"任务状态。","type":"array","items":{"description":"任务状态。取值范围：\n- Submitted：已提交。\n- Pending：待处理。\n- Running：运行中。\n- Success：成功。\n- Failed：失败。\n- Cancelling：取消中。\n- Cancelled：已取消。\n- CancelFailed：取消失败。","type":"string","required":false,"example":"Running"},"required":false,"example":"[\"Running\",\"Submitted\"]"}},{"name":"startTime","in":"query","style":"json","schema":{"description":"任务开始时间范围。","type":"object","properties":{"startTime":{"description":"任务开始时间范围的起点。","type":"integer","format":"int64","required":false,"example":"1709740800000"},"endTime":{"description":"任务开始时间范围的终点。","type":"integer","format":"int64","required":false,"example":"1710432000000"}},"required":false}},{"name":"endTime","in":"query","style":"json","schema":{"description":"任务结束时间范围。","type":"object","properties":{"startTime":{"description":"任务结束时间范围的起点。","type":"integer","format":"int64","required":false,"example":"1709740800000"},"endTime":{"description":"任务结束时间范围的终点。","type":"integer","format":"int64","required":false,"example":"1710432000000"}},"required":false}},{"name":"resourceQueueId","in":"query","schema":{"description":"Spark任务运行的资源队列名称。","type":"string","required":false,"example":"dev_queue"}},{"name":"jobRunDeploymentId","in":"query","schema":{"type":"string","required":false}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"jobRuns":{"description":"Spark任务列表。","type":"array","items":{"description":"Spark任务对象。","type":"object","properties":{"workspaceId":{"title":"工作空间id。","description":"工作空间ID。","type":"string","example":"w-d2d82aa09155****"},"jobRunId":{"title":"任务实例ID。","description":"任务ID。","type":"string","example":"jr-231231"},"name":{"title":"作业实例名称。","description":"任务名称。","type":"string","example":"jobName"},"state":{"title":"作业状态。","description":"任务状态。","type":"string","example":"Running"},"stateChangeReason":{"description":"状态变化原因。","type":"object","properties":{"code":{"description":"错误码。","type":"string","example":"0"},"message":{"description":"错误信息。","type":"string","example":"connection refused\n"}}},"submitTime":{"title":"作业提交时间。","description":"任务提交时间。","type":"integer","format":"int64","example":"1684119314000"},"endTime":{"title":"作业结束时间。","description":"任务结束时间。","type":"integer","format":"int64","example":"1684119314000"},"codeType":{"title":"作业代码类型。","description":"任务代码类型。取值范围：\n\nSQL\n\nJAR\n\nPYTHON","type":"string","example":"SQL"},"webUI":{"title":"作业web ui。","description":"作业Web UI。","type":"string","example":"http://spark-ui"},"executionTimeoutSeconds":{"title":"运行超时时间。","description":"运行超时时间。","type":"integer","format":"int32","example":"3600"},"creator":{"title":"创建用户Uid。","description":"创建用户UID。","type":"string","example":"150978934701****"},"tags":{"title":"标签。","description":"标签。","type":"array","items":{"description":"任务标签.","$ref":"#/components/schemas/Tag"}},"log":{"description":"运行日志路径。","$ref":"#/components/schemas/RunLog"},"releaseVersion":{"description":"运行任务的Spark引擎版本。","type":"string","example":"esr-3.0.0 (Spark 3.4.3, Scala 2.12, Native Runtime)"},"jobDriver":{"description":"Spark Driver相关信息。","$ref":"#/components/schemas/JobDriver"},"configurationOverrides":{"description":"Spark高级配置。","type":"object","properties":{"configurations":{"description":"Spark Conf列表。","type":"array","items":{"description":"Spark Conf对象。","$ref":"#/components/schemas/Configuration"}}}},"displayReleaseVersion":{"description":"运行任务的Spark引擎版本。","type":"string","example":"esr-3.0.0 (Spark 3.4.3, Scala 2.12)"},"fusion":{"description":"是否开启Fusion引擎加速。","type":"boolean","example":"true"},"vcoreSeconds":{"description":"任务已分配的 vcore 总量乘以任务已运行的秒数。","type":"integer","format":"int64","example":"8236"},"mbSeconds":{"description":"任务已分配的内存总量乘以任务已运行的秒数。","type":"integer","format":"int64","example":"33030784"},"cuHours":{"description":"任务运行周期内所消耗的 CU 数量（该值为预估值，最终以账单为准）。","type":"integer","format":"int64","example":"2.059"}}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"nextToken":{"title":"返回读取到的数据位置。","description":"返回读取到的数据位置。","type":"string","example":"1"},"maxResults":{"title":"本次请求所返回的最大记录条数。","description":"本次请求所返回的最大记录条数。","type":"integer","format":"int32","example":"20"},"totalCount":{"title":"本次请求条件下的数据总量。","description":"本次请求条件下的数据总量。","type":"integer","format":"int32","example":"200"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"jobRuns\\\": [\\n    {\\n      \\\"workspaceId\\\": \\\"w-d2d82aa09155****\\\",\\n      \\\"jobRunId\\\": \\\"jr-231231\\\",\\n      \\\"name\\\": \\\"jobName\\\",\\n      \\\"state\\\": \\\"Running\\\",\\n      \\\"stateChangeReason\\\": {\\n        \\\"code\\\": \\\"0\\\",\\n        \\\"message\\\": \\\"connection refused\\\\n\\\"\\n      },\\n      \\\"submitTime\\\": 1684119314000,\\n      \\\"endTime\\\": 1684119314000,\\n      \\\"codeType\\\": \\\"SQL\\\",\\n      \\\"webUI\\\": \\\"http://spark-ui\\\",\\n      \\\"executionTimeoutSeconds\\\": 3600,\\n      \\\"creator\\\": \\\"150978934701****\\\",\\n      \\\"tags\\\": [\\n        {\\n          \\\"key\\\": \\\"workflowId\\\",\\n          \\\"value\\\": \\\"wf-123test\\\"\\n        }\\n      ],\\n      \\\"log\\\": {\\n        \\\"driverStdOut\\\": \\\"\\\",\\n        \\\"driverStdError\\\": \\\"\\\",\\n        \\\"driverSyslog\\\": \\\"\\\",\\n        \\\"driverStartup\\\": \\\"\\\"\\n      },\\n      \\\"releaseVersion\\\": \\\"esr-3.0.0 (Spark 3.4.3, Scala 2.12, Native Runtime)\\\",\\n      \\\"jobDriver\\\": {\\n        \\\"sparkSubmit\\\": {\\n          \\\"entryPoint\\\": \\\"\\\",\\n          \\\"entryPointArguments\\\": [\\n            \\\"\\\"\\n          ],\\n          \\\"sparkSubmitParameters\\\": \\\"\\\"\\n        }\\n      },\\n      \\\"configurationOverrides\\\": {\\n        \\\"configurations\\\": [\\n          {\\n            \\\"configFileName\\\": \\\"\\\",\\n            \\\"configItemKey\\\": \\\"\\\",\\n            \\\"configItemValue\\\": \\\"\\\"\\n          }\\n        ]\\n      },\\n      \\\"displayReleaseVersion\\\": \\\"esr-3.0.0 (Spark 3.4.3, Scala 2.12)\\\",\\n      \\\"fusion\\\": true,\\n      \\\"vcoreSeconds\\\": 8236,\\n      \\\"mbSeconds\\\": 33030784,\\n      \\\"cuHours\\\": 2.059\\n    }\\n  ],\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"nextToken\\\": \\\"1\\\",\\n  \\\"maxResults\\\": 20,\\n  \\\"totalCount\\\": 200\\n}\",\"type\":\"json\"}]","title":"获取Spark任务列表"},"GetJobRun":{"summary":"调用GetJobRun获取任务详情。","path":"/api/v1/workspaces/{workspaceId}/jobRuns/{jobRunId}","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"215794","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"workspaceId","in":"path","allowEmptyValue":false,"schema":{"title":"工作空间id。","description":"工作空间ID。","type":"string","required":true,"example":"w-d2d82aa09155****"}},{"name":"jobRunId","in":"path","allowEmptyValue":false,"schema":{"title":"任务实例ID。","description":"任务运行ID。","type":"string","required":true,"example":"jr-93d98d2f7061****"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"jobRun":{"description":"任务详情。","type":"object","properties":{"workspaceId":{"title":"工作空间id。","description":"工作空间ID。","type":"string","example":"w-d2d82aa09155****"},"jobRunId":{"title":"任务实例ID。","description":"任务运行ID。","type":"string","example":"jr-93d98d2f7061****"},"name":{"title":"作业实例名称。","description":"任务名称。","type":"string","example":"jobName"},"state":{"title":"作业状态。","description":"任务状态。","type":"string","example":"Running"},"stateChangeReason":{"description":"状态变化原因。","type":"object","properties":{"code":{"description":"错误码。","type":"string","example":"ERR-100000"},"message":{"description":"错误信息。","type":"string","example":"connection refused"}}},"submitTime":{"title":"作业提交时间。","description":"任务提交时间。","type":"integer","format":"int64","example":"1684119314000"},"endTime":{"title":"作业结束时间。","description":"任务结束时间。","type":"integer","format":"int64","example":"1684122914000"},"codeType":{"title":"作业代码类型。","description":"任务代码类型。可能值：\n\n- SQL\n\n- JAR\n\n- PYTHON","type":"string","example":"SQL"},"webUI":{"title":"作业web ui。","description":"作业Web UI。","type":"string","example":"http://spark-ui"},"executionTimeoutSeconds":{"title":"运行超时时间。","description":"运行超时时间。","type":"integer","format":"int32","example":"3600"},"resourceOwnerId":{"title":"创建用户Uid。","description":"创建用户UID。","type":"string","example":"150978934701****"},"tags":{"title":"标签。","description":"标签列表。","type":"array","items":{"description":"标签。","$ref":"#/components/schemas/Tag"}},"log":{"description":"运行日志路径。","$ref":"#/components/schemas/RunLog"},"releaseVersion":{"description":"运行任务的Spark引擎版本。","type":"string","example":"esr-3.3.1"},"resourceQueueId":{"description":"运行任务的队列名称。","type":"string","example":"root_queue"},"jobDriver":{"description":"Spark Driver相关信息。","$ref":"#/components/schemas/JobDriver"},"configurationOverrides":{"description":"Spark任务配置。","type":"object","properties":{"configurations":{"description":"配置列表。","type":"array","items":{"description":"配置信息。","$ref":"#/components/schemas/Configuration"}}}},"displayReleaseVersion":{"type":"string"},"fusion":{"type":"boolean"},"environmentId":{"type":"string"}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"jobRun\\\": {\\n    \\\"workspaceId\\\": \\\"w-d2d82aa09155****\\\",\\n    \\\"jobRunId\\\": \\\"jr-93d98d2f7061****\\\",\\n    \\\"name\\\": \\\"jobName\\\",\\n    \\\"state\\\": \\\"Running\\\",\\n    \\\"stateChangeReason\\\": {\\n      \\\"code\\\": \\\"ERR-100000\\\",\\n      \\\"message\\\": \\\"connection refused\\\"\\n    },\\n    \\\"submitTime\\\": 1684119314000,\\n    \\\"endTime\\\": 1684122914000,\\n    \\\"codeType\\\": \\\"SQL\\\",\\n    \\\"webUI\\\": \\\"http://spark-ui\\\",\\n    \\\"executionTimeoutSeconds\\\": 3600,\\n    \\\"resourceOwnerId\\\": \\\"150978934701****\\\",\\n    \\\"tags\\\": [\\n      {\\n        \\\"key\\\": \\\"workflowId\\\",\\n        \\\"value\\\": \\\"wf-123test\\\"\\n      }\\n    ],\\n    \\\"log\\\": {\\n      \\\"driverStdOut\\\": \\\"\\\",\\n      \\\"driverStdError\\\": \\\"\\\",\\n      \\\"driverSyslog\\\": \\\"\\\",\\n      \\\"driverStartup\\\": \\\"\\\"\\n    },\\n    \\\"releaseVersion\\\": \\\"esr-3.3.1\\\",\\n    \\\"resourceQueueId\\\": \\\"root_queue\\\",\\n    \\\"jobDriver\\\": {\\n      \\\"sparkSubmit\\\": {\\n        \\\"entryPoint\\\": \\\"\\\",\\n        \\\"entryPointArguments\\\": [\\n          \\\"\\\"\\n        ],\\n        \\\"sparkSubmitParameters\\\": \\\"\\\"\\n      }\\n    },\\n    \\\"configurationOverrides\\\": {\\n      \\\"configurations\\\": [\\n        {\\n          \\\"configFileName\\\": \\\"\\\",\\n          \\\"configItemKey\\\": \\\"\\\",\\n          \\\"configItemValue\\\": \\\"\\\"\\n        }\\n      ]\\n    },\\n    \\\"displayReleaseVersion\\\": \\\"\\\",\\n    \\\"fusion\\\": true,\\n    \\\"environmentId\\\": \\\"\\\"\\n  },\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"获取Spark任务详情"},"StartJobRun":{"summary":"调用StartJobRun启动Spark任务。","path":"/api/v1/workspaces/{workspaceId}/jobRuns","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"create","abilityTreeCode":"215792","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"Spark任务请求体。","type":"object","properties":{"releaseVersion":{"description":"Spark引擎版本号。","type":"string","required":false,"example":"esr-3.3.1"},"jobId":{"description":"任务ID。","type":"string","required":false,"example":"jr-12345"},"name":{"description":"任务名称。","type":"string","required":false,"example":"spark_job_name"},"resourceQueueId":{"description":"Spark任务运行的资源队列。","type":"string","required":false,"example":"dev_queue"},"codeType":{"description":"任务类型。取值范围：\n\n- SQL\n\n- JAR\n\n- PYTHON","type":"string","required":false,"example":"SQL"},"executionTimeoutSeconds":{"description":"任务超时时间。","type":"integer","format":"int32","required":false,"example":"100"},"configurationOverrides":{"description":"Spark高级配置。","type":"object","properties":{"configurations":{"description":"Spark Conf列表。","type":"array","items":{"description":"Spark Conf对象。","type":"object","properties":{"configFileName":{"description":"Spark Conf所属配置文件。","type":"string","required":false,"example":"spark-default.conf"},"configItemKey":{"description":"Spark Conf键。","type":"string","required":false,"example":"spark.app.name"},"configItemValue":{"description":"Spark Conf值。","type":"string","required":false,"example":"test_app"}},"required":false},"required":false}},"required":false},"tags":{"description":"任务标签列表。","type":"array","items":{"description":"标签对象。","required":false,"$ref":"#/components/schemas/Tag"},"required":false},"clientToken":{"description":"幂等校验TOKEN。","type":"string","required":false,"example":"8e6aae2810c8f67229ca70bb31cd****"},"jobDriver":{"description":"Spark Driver相关信息。","required":false,"$ref":"#/components/schemas/JobDriver"},"displayReleaseVersion":{"type":"string","required":false},"fusion":{"type":"boolean","required":false}},"required":false}},{"name":"workspaceId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":true,"example":"w-d2d82aa09155****"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"jobRunId":{"description":"任务运行ID。","type":"string","example":"jr-f09a8fda2396****"},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"jobRunId\\\": \\\"jr-f09a8fda2396****\\\",\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"启动Spark任务"},"StartProcessInstance":{"summary":"启动工作流实例。","path":"/dolphinscheduler/projects/{bizId}/executors/start-process-instance","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","abilityTreeCode":"192046","abilityTreeNodes":["FEATUREemapreduceT8XN05"]},"parameters":[{"name":"productNamespace","in":"query","schema":{"description":"产品编码。","type":"string","required":true,"example":"SS"}},{"name":"bizId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":true,"example":"w-d8********"}},{"name":"processDefinitionCode","in":"query","schema":{"description":"工作流定义ID。","type":"integer","format":"int64","required":true,"example":"12***********"}},{"name":"versionNumber","in":"query","schema":{"description":"工作流定义版本号。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"isProd","in":"query","schema":{"description":"工作流是否在生产环境运行。","type":"boolean","required":false,"example":"false"}},{"name":"runtimeQueue","in":"query","schema":{"description":"运行时队列。","type":"string","required":false,"example":"root_queue"}},{"name":"versionHashCode","in":"query","schema":{"description":"版本哈希编码。","type":"string","required":false,"example":"dh*********"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"code":{"description":"API请求后端返回码。","type":"integer","format":"int32","example":"1400009"},"msg":{"description":"请求 code 对应的详细描述信息。","type":"string","example":"No permission for resource action"},"data":{"description":"返回数据。","type":"any","example":"{'sessionBizId': 'sc-dc85644dba1c8c63', 'bizId': 'st-aeed3b0d4f87418a9a9dcbd757477658', 'gmtCreated': 'Thu Sep 12 02:28:45 UTC 2024'}"},"success":{"description":"请求是否成功。","type":"boolean","example":"true"},"failed":{"description":"失败个数。","type":"boolean","example":"false"},"httpStatusCode":{"description":"HTTP状态编码","type":"integer","format":"int32","example":"200"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"code\\\": 1400009,\\n  \\\"msg\\\": \\\"No permission for resource action\\\",\\n  \\\"data\\\": \\\"{'sessionBizId': 'sc-dc85644dba1c8c63', 'bizId': 'st-aeed3b0d4f87418a9a9dcbd757477658', 'gmtCreated': 'Thu Sep 12 02:28:45 UTC 2024'}\\\",\\n  \\\"success\\\": true,\\n  \\\"failed\\\": false,\\n  \\\"httpStatusCode\\\": 200\\n}\",\"type\":\"json\"}]","title":"运行工作流实例"},"UpdateProcessDefinitionWithSchedule":{"summary":"更新工作流定义和定时调度。","path":"/dolphinscheduler/projects/{bizId}/process-definition/{code}","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeCode":"191361","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"productNamespace","in":"query","schema":{"description":"产品编码。","type":"string","required":true,"example":"SS"}},{"name":"bizId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":true,"example":"w-d8********\n"}},{"name":"name","in":"query","schema":{"description":"工作流名称。","type":"string","required":true,"example":"ods_batch_workflow\n"}},{"name":"code","in":"path","schema":{"description":"任务定义ID。","type":"integer","format":"int64","required":true,"example":"12************"}},{"name":"description","in":"query","schema":{"description":"工作流描述。","type":"string","required":false,"example":"ods batch workflow"}},{"name":"timeout","in":"query","schema":{"description":"工作流运行默认timeout。","type":"integer","format":"int32","required":false,"example":"300"}},{"name":"taskDefinitionJson","in":"query","style":"json","schema":{"description":"任务定义JSON数组，包含工作流所有任务的描述信息。","type":"array","items":{"description":"任务定义JSON，包含工作流所有任务的描述信息。","type":"object","properties":{"code":{"description":"任务定义ID。","type":"integer","format":"int64","required":true,"example":"23************"},"description":{"description":"任务定义描述。","type":"string","required":false,"example":"ods transform task\n"},"alertEmailAddress":{"description":"告警邮箱地址。","type":"string","required":false,"example":"foo_bar@spark.alert.invalid.com\n"},"startAlertEnable":{"description":"任务启动告警开启。","type":"boolean","required":false,"example":"true"},"failAlertEnable":{"description":"任务失败告警开启。","type":"boolean","required":false,"example":"true"},"failRetryTimes":{"description":"任务失败重试次数。","type":"integer","format":"int32","required":false,"example":"1"},"name":{"description":"任务名称。","type":"string","required":true,"example":"ods_transform_task\n"},"taskParams":{"description":"任务定义参数。","type":"object","properties":{"workspaceBizId":{"description":"工作空间ID。","type":"string","required":true,"example":"w-d8********\n"},"taskBizId":{"description":"数据开发任务ID。","type":"string","required":true,"example":"TSK-d87******************\n"},"resourceQueueId":{"description":"运行任务的队列名称。","type":"string","required":true,"example":"root_queue"},"sparkDriverCores":{"description":"Spark任务Driver核数。","type":"integer","format":"int32","required":false,"example":"1"},"sparkExecutorCores":{"description":"Spark任务Executor核数。","type":"integer","format":"int32","required":false,"example":"1"},"sparkDriverMemory":{"description":"Spark任务Driver内存。","type":"integer","format":"int64","required":false,"example":"4g"},"sparkExecutorMemory":{"description":"Spark任务Executor内存。","type":"integer","format":"int64","required":false,"example":"4g"},"sparkConf":{"description":"Spark任务配置。","type":"array","items":{"description":"Spark任务配置。","type":"object","properties":{"key":{"description":"Spark Conf配置key。","type":"string","required":false,"example":"spark.dynamicAllocation.enabled\n"},"value":{"description":"Spark Conf配置value。","type":"string","required":false,"example":"true"}},"required":false},"required":false},"sparkVersion":{"description":"Spark引擎版本。","type":"string","required":false,"example":"esr-4.0.0 (Spark 3.5.2, Scala 2.12)\n"},"sparkLogLevel":{"description":"Spark日志级别。","type":"string","required":false,"example":"INFO"},"sparkLogPath":{"description":"Spark任务日志路径。","type":"string","required":false,"example":"\t\noss://data***/spark/logs\n"},"displaySparkVersion":{"description":"Spark引擎显示版本。","type":"string","required":false,"example":"esr-4.0.0 (Spark 3.5.2, Scala 2.12)"},"fusion":{"description":"是否开启Fusion引擎加速。","type":"boolean","required":false,"example":"false"},"environmentId":{"description":"环境id。","type":"string","required":false,"example":"ev-h*************"},"type":{"description":"Spark作业类型。","type":"string","required":false,"example":"SQL"}},"required":true},"taskType":{"description":"调度任务类型。","type":"string","required":true,"example":"EMR-SERVERLESS-SPARK"},"timeout":{"description":"任务运行默认timeout。","type":"integer","format":"int32","required":false,"example":"30"},"tags":{"description":"标签。","type":"object","required":false,"additionalProperties":{"type":"string","example":"\t\n“{\\\"tagkey\\\":\\\"tagvalue\\\"}”\n","description":"标签对JSON字符串。"}}},"required":true},"required":true}},{"name":"taskRelationJson","in":"query","style":"json","schema":{"description":"任务依赖关系JSON数组，包含工作流所有任务之间的依赖关系，preTaskCode为上游任务ID，postTaskCode为下游任务ID，每一个任务需有唯一的ID。如果任务节点没有上游任务，也需要增加一个preTaskCode为0的依赖关系。","type":"array","items":{"description":"任务依赖关系JSON，包含工作流所有任务之间的依赖关系，preTaskCode为上游任务ID，postTaskCode为下游任务ID，每一个任务需有唯一的ID。如果任务节点没有上游任务，也需要增加一个preTaskCode为0的依赖关系。","type":"object","properties":{"name":{"description":"任务拓扑关系名称，填工作流名称即可。","type":"string","required":true,"example":"ods batch workflow\n"},"preTaskCode":{"description":"上游任务ID。","type":"integer","format":"int64","required":true,"example":"16************\n"},"preTaskVersion":{"description":"上游任务版本。","type":"integer","format":"int32","required":true,"example":"1"},"postTaskCode":{"description":"下游任务ID。","type":"integer","format":"int64","required":true,"example":"19************\n"},"postTaskVersion":{"description":"下游任务版本。","type":"integer","format":"int32","required":true,"example":"1"}},"required":true},"required":true}},{"name":"executionType","in":"query","schema":{"description":"执行策略","type":"string","required":true,"example":"PARALLEL"}},{"name":"alertEmailAddress","in":"query","schema":{"description":"告警邮箱地址。","type":"string","required":false,"example":"foo_bar@spark.alert.invalid.com"}},{"name":"schedule","in":"query","style":"json","schema":{"description":"调度结构","type":"object","properties":{"startTime":{"description":"开始时间。","type":"string","required":false,"example":"2024-12-23 16:13:27\n"},"endTime":{"description":"调度结束时间。","type":"string","required":false,"example":"2025-12-23 16:13:27\n"},"crontab":{"description":"调度cron表达式。","type":"string","required":false,"example":"\t\n0 0 0 * * ?\n"},"timezoneId":{"description":"时区ID。","type":"string","required":false,"example":"Asia/Shanghai\n"}},"required":false}},{"name":"retryTimes","in":"query","schema":{"description":"重试次数。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"taskParallelism","in":"query","schema":{"description":"任务并发度。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"tags","in":"query","style":"json","schema":{"description":"标签。","type":"object","required":false,"additionalProperties":{"type":"string","example":"\t\n“{\\\"tagkey\\\":\\\"tagvalue\\\"}”\n","description":"标签对JSON字符串。"}}},{"name":"resourceQueue","in":"query","schema":{"description":"资源队列。","type":"string","required":false,"example":"root_queue"}},{"name":"releaseState","in":"query","schema":{"description":"工作流上线状态。","type":"string","required":false,"example":"ONLINE"}},{"name":"runAs","in":"query","schema":{"description":"执行用户。","type":"string","required":false,"example":"113***************\n"}},{"name":"publish","in":"query","schema":{"description":"是否发布。","type":"boolean","required":false,"example":"true"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"code":{"description":"API后端返回码。","type":"integer","format":"int32","example":"1400009"},"msg":{"description":"请求 code 对应的详细描述信息。","type":"string","example":"No permission for resource action"},"success":{"description":"请求是否成功。","type":"string","example":"true"},"failed":{"description":"失败个数。","type":"string","example":"false"},"data":{"description":"返回数据。","type":"object","properties":{"id":{"description":"工作流定义编号。","type":"string","example":"123223"},"code":{"description":"工作流定义ID。","type":"string","example":"12***********"},"name":{"description":"工作流定义名称。","type":"string","example":"ods_batch_workflow"},"version":{"description":"版本号。","type":"integer","format":"int32","example":"1"},"releaseState":{"description":"工作流上线状态","type":"string","example":"ONLINE"},"bizId":{"description":"工作空间ID。","type":"string","example":"alicloud_ack_one_cluster"},"description":{"description":"任务定义描述。","type":"string","example":"1"},"createTime":{"description":"工作空间创建时间。","type":"string","example":"2024-09-05T02:03:19Z"},"updateTime":{"description":"组织最近更新时间，Unix时间戳格式，单位为毫秒。\n\n","type":"string","example":"2024-03-05T06:24:27Z"},"userId":{"description":"调度用户ID。","type":"string","example":"113*********"},"userName":{"description":"调度用户名称。","type":"string","example":"w-********"},"projectName":{"description":"环境所属的项目名称，只读","type":"string","example":"w-********"},"executionType":{"description":"执行策略","type":"string","example":"SERIAL"},"alertEmailAddress":{"description":"告警邮件地址。","type":"string","example":"foo_bar@spark.alert.invalid.com\n"},"startTime":{"description":"调度开始时间。","type":"string","example":"0"},"endTime":{"description":"任务结束时间范围的终点。","type":"string","example":"1710432000000"},"timezoneId":{"description":"时区ID。","type":"string","example":"Asia/Shanghai\n"},"crontab":{"description":"调度cron表达式。","type":"string","example":"0 0 0 * * ?\n"},"versionHashCode":{"description":"版本哈希编码。","type":"string","example":"dwerf*********"}}},"httpStatusCode":{"description":"HTTP状态编码","type":"integer","format":"int32","example":"200"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"code\\\": 1400009,\\n  \\\"msg\\\": \\\"No permission for resource action\\\",\\n  \\\"success\\\": \\\"true\\\",\\n  \\\"failed\\\": \\\"false\\\",\\n  \\\"data\\\": {\\n    \\\"id\\\": \\\"123223\\\",\\n    \\\"code\\\": \\\"12***********\\\",\\n    \\\"name\\\": \\\"ods_batch_workflow\\\",\\n    \\\"version\\\": 1,\\n    \\\"releaseState\\\": \\\"ONLINE\\\",\\n    \\\"bizId\\\": \\\"alicloud_ack_one_cluster\\\",\\n    \\\"description\\\": \\\"1\\\",\\n    \\\"createTime\\\": \\\"2024-09-05T02:03:19Z\\\",\\n    \\\"updateTime\\\": \\\"2024-03-05T06:24:27Z\\\",\\n    \\\"userId\\\": \\\"113*********\\\",\\n    \\\"userName\\\": \\\"w-********\\\",\\n    \\\"projectName\\\": \\\"w-********\\\",\\n    \\\"executionType\\\": \\\"SERIAL\\\",\\n    \\\"alertEmailAddress\\\": \\\"foo_bar@spark.alert.invalid.com\\\\n\\\",\\n    \\\"startTime\\\": \\\"0\\\",\\n    \\\"endTime\\\": \\\"1710432000000\\\",\\n    \\\"timezoneId\\\": \\\"Asia/Shanghai\\\\n\\\",\\n    \\\"crontab\\\": \\\"0 0 0 * * ?\\\\n\\\",\\n    \\\"versionHashCode\\\": \\\"dwerf*********\\\"\\n  },\\n  \\\"httpStatusCode\\\": 200\\n}\",\"type\":\"json\"}]","title":"更新工作流定义和调度"},"CreateProcessDefinitionWithSchedule":{"summary":"创建工作流定义。","path":"/dolphinscheduler/projects/{bizId}/process-definition","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeCode":"191322","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"productNamespace","in":"query","schema":{"description":"产品编码。","type":"string","required":true,"example":"SS"}},{"name":"bizId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":true,"example":"w-d8********"}},{"name":"name","in":"query","schema":{"description":"工作流名称。","type":"string","required":true,"example":"ods_batch_workflow"}},{"name":"description","in":"query","schema":{"description":"工作流描述。","type":"string","required":true,"example":"ods batch workflow"}},{"name":"timeout","in":"query","schema":{"description":"工作流运行默认timeout。","type":"integer","format":"int32","required":false,"example":"60"}},{"name":"taskRelationJson","in":"query","style":"json","schema":{"description":"任务依赖关系JSON数组，包含工作流所有任务之间的依赖关系，preTaskCode为上游任务ID，postTaskCode为下游任务ID，每一个任务需有唯一的ID。如果任务节点没有上游任务，也需要增加一个preTaskCode为0的依赖关系。","type":"array","items":{"description":"任务依赖关系JSON，包含工作流所有任务之间的依赖关系，preTaskCode为上游任务ID，postTaskCode为下游任务，每一个任务需有唯一的ID。如果任务节点没有上游任务，也需要增加一个preTaskCode为0的依赖关系。","type":"object","properties":{"name":{"description":"任务拓扑关系名称，填工作流名称即可。","type":"string","required":true,"example":"ods batch workflow"},"preTaskCode":{"description":"上游任务ID。","type":"integer","format":"int64","required":true,"example":"16************"},"preTaskVersion":{"description":"上游任务版本。","type":"integer","format":"int32","required":true,"example":"1"},"postTaskCode":{"description":"下游任务ID。","type":"integer","format":"int64","required":true,"example":"28************"},"postTaskVersion":{"description":"下游任务版本。","type":"integer","format":"int32","required":true,"example":"1"}},"required":true},"required":true}},{"name":"taskDefinitionJson","in":"query","style":"json","schema":{"description":"任务定义JSON数组，包含工作流所有任务的描述信息。","type":"array","items":{"description":"任务定义JSON，包含工作流所有任务的描述信息。","type":"object","properties":{"code":{"description":"任务定义ID。","type":"integer","format":"int64","required":true,"example":"36************"},"description":{"description":"任务定义描述。","type":"string","required":false,"example":"ods transform task"},"alertEmailAddress":{"description":"告警邮箱地址。","type":"string","required":false,"example":"foo_bar@spark.alert.invalid.com"},"startAlertEnable":{"description":"任务启动告警开启。","type":"boolean","required":false,"example":"false"},"failAlertEnable":{"description":"任务失败告警开启。","type":"boolean","required":false,"example":"false"},"failRetryTimes":{"description":"任务失败重试次数。","type":"integer","format":"int32","required":false,"example":"1"},"name":{"description":"任务名称。","type":"string","required":true,"enumValueTitles":{},"example":"ods_transform_task"},"taskParams":{"description":"任务定义参数。","type":"object","properties":{"workspaceBizId":{"description":"工作空间ID。","type":"string","required":true,"example":"w-d8********"},"taskBizId":{"description":"数据开发任务ID。","type":"string","required":true,"example":"TSK-d87******************"},"resourceQueueId":{"description":"Spark任务运行的资源队列。","type":"string","required":true,"example":"root_queue"},"sparkDriverCores":{"description":"Spark任务Driver核数。","type":"integer","format":"int32","required":false,"example":"1"},"sparkExecutorCores":{"description":"Spark任务Executor核数。","type":"integer","format":"int32","required":false,"example":"1"},"sparkDriverMemory":{"description":"Spark任务Driver内存。","type":"integer","format":"int64","required":false,"example":"4g"},"sparkExecutorMemory":{"description":"Spark任务Executor内存。","type":"integer","format":"int64","required":false,"example":"4g"},"sparkConf":{"description":"Spark任务配置。","type":"array","items":{"type":"object","properties":{"key":{"description":"Spark Conf配置key。","type":"string","required":false,"example":"spark.dynamicAllocation.enabled"},"value":{"description":"Spark Conf配置value。","type":"string","required":false,"example":"true"}},"required":false},"required":false},"sparkVersion":{"description":"Spark引擎版本。","type":"string","required":false,"example":"esr-4.0.0 (Spark 3.5.2, Scala 2.12)"},"sparkLogLevel":{"description":"Spark日志级别。","type":"string","required":false,"example":"INFO"},"sparkLogPath":{"description":"Spark任务日志路径。","type":"string","required":false,"example":"oss://data***/spark/logs"},"displaySparkVersion":{"description":"Spark引擎显示版本。","type":"string","required":false,"example":"esr-4.0.0 (Spark 3.5.2, Scala 2.12)"},"fusion":{"description":"是否开启Fusion引擎加速。","type":"boolean","required":false,"example":"false"},"environmentId":{"description":"环境id。","type":"string","required":false,"example":"env-crhq2h5lhtgju93buhkg"},"type":{"description":"版本类型。","type":"string","required":false,"example":"VPC"}},"required":true},"taskType":{"description":"任务类型   audio -语音文件 ，text - 文本","type":"string","required":true,"example":"MigrateData"},"timeout":{"description":"回调方法的超时时间，单位为秒。","type":"integer","format":"int32","required":false,"example":"1200"},"tags":{"description":"标签。","type":"object","required":false,"additionalProperties":{"type":"string","example":"“{\\\"tagkey\\\":\\\"tagvalue\\\"}”","description":"标签对JSON字符串。"}}},"required":true},"required":true}},{"name":"executionType","in":"query","schema":{"description":"执行策略","type":"string","required":true,"example":"PARALLEL"}},{"name":"alertEmailAddress","in":"query","schema":{"description":"告警邮箱地址。","type":"string","required":false,"example":"foo_bar@spark.alert.invalid.com"}},{"name":"schedule","in":"query","style":"json","schema":{"description":"调度结构","type":"object","properties":{"startTime":{"description":"调度开始时间。","type":"string","required":false,"example":"2024-12-23 16:13:27"},"endTime":{"description":"调度结束时间。","type":"string","required":false,"example":"2025-12-23 16:13:27"},"crontab":{"description":"调度cron表达式。","type":"string","required":false,"example":"0 0 0 * * ?"},"timezoneId":{"description":"时区ID。","type":"string","required":false,"example":"Asia/Shanghai"}},"required":false}},{"name":"retryTimes","in":"query","schema":{"description":"重试次数。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"taskParallelism","in":"query","schema":{"description":"任务并发度。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"resourceQueue","in":"query","schema":{"description":"资源队列。","type":"string","required":false,"example":"root_queue"}},{"name":"tags","in":"query","style":"json","schema":{"description":"标签。","type":"object","required":false,"additionalProperties":{"type":"string","example":"“{\\\"tagkey\\\":\\\"tagvalue\\\"}”","description":"标签对JSON字符串。"}}},{"name":"publish","in":"query","schema":{"description":"是否发布。","type":"boolean","required":false,"example":"true"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"runAs","in":"query","schema":{"description":"执行用户阿里云UID。","type":"string","required":false,"example":"113***************"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"code":{"description":"API返回编码。","type":"integer","format":"int32","example":"1400009"},"msg":{"description":"请求 code 对应的详细描述信息。","type":"string","example":"No permission for resource action"},"success":{"description":"请求是否成功。","type":"string","example":"true"},"failed":{"description":"请求是否失败。","type":"string","example":"false"},"data":{"description":"返回结果。","type":"object","properties":{"id":{"description":"工作流定义编号。","type":"integer","format":"int32","example":"12342"},"code":{"description":"工作流定义ID。","type":"integer","format":"int64","example":"160************"}}},"httpStatusCode":{"description":"HTTP状态编码。","type":"integer","format":"int32","example":"200"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"code\\\": 1400009,\\n  \\\"msg\\\": \\\"No permission for resource action\\\",\\n  \\\"success\\\": \\\"true\\\",\\n  \\\"failed\\\": \\\"false\\\",\\n  \\\"data\\\": {\\n    \\\"id\\\": 12342,\\n    \\\"code\\\": 0\\n  },\\n  \\\"httpStatusCode\\\": 200\\n}\",\"type\":\"json\"}]","title":"创建工作流定义和调度"},"GrantRoleToUsers":{"summary":"调用GrantRoleToUsers为用户授予指定角色权限。","path":"/api/v1/auth/roles/grant","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"update","abilityTreeCode":"193394","abilityTreeNodes":["FEATUREemapreduce8QU4HW"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"roleArn":{"description":"角色ARN。","type":"string","required":false,"example":"acs:emr::w-975bcfda9625****:role/Owner"},"userArns":{"description":"用户ARN列表。","type":"array","items":{"description":"用户ARN。","type":"string","required":false,"example":"acs:emr::w-975bcfda96258dd7:member/20468369839086****"},"required":false}},"required":false}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求返回体。","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"赋予用户角色"},"AddMembers":{"summary":"调用AddMembers将RAM用户或RAM角色添加到工作空间作为新成员。","path":"/api/v1/auth/members","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"abilityTreeCode":"193369","abilityTreeNodes":["FEATUREemapreduce8QU4HW"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"workspaceId":{"description":"工作空间ID。","type":"string","required":true,"example":"w-975bcfda9625****"},"memberArns":{"type":"array","items":{"type":"string","required":false,"example":"Ram User示例值：acs:ram::113545727984****:user/20468369839086****\n\nRam Role示例值：acs:ram::113545727984****:role/aliyunemrsparkjobrundefaultrole"},"required":true}},"required":false}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求返回体。","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"添加成员"},"ListLogContents":{"summary":"获取日志内容。","path":"/api/v1/workspaces/{workspaceId}/action/listLogContents","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"abilityTreeCode":"194779","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"fileName","in":"query","allowEmptyValue":false,"schema":{"description":"文件全路径名称。","type":"string","required":false,"example":"oss://datadev******.cn-hangzhou.oss-dls.aliyuncs.com/w-72704d9fb0******/spark/logs/jr-af51aa63cc******/driver/stdout.log"}},{"name":"offset","in":"query","allowEmptyValue":false,"schema":{"description":"查询开始行。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"length","in":"query","allowEmptyValue":false,"schema":{"description":"日志长度。","type":"integer","format":"int32","required":false,"example":"9999"}},{"name":"workspaceId","in":"path","allowEmptyValue":false,"schema":{"description":"工作空间ID。","type":"string","required":false,"example":"w-72704d9fb0******"}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"listLogContent":{"description":"日志内容。","type":"object","properties":{"contents":{"description":"日志行内容列表。","type":"array","items":{"type":"object","properties":{"LineContent":{"description":"日志行内容。","type":"string","example":"spark pi is 3.14\\n"}}}},"totalLength":{"description":"日志总行数。","type":"integer","format":"int64","example":"10"}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"listLogContent\\\": {\\n    \\\"contents\\\": [\\n      {\\n        \\\"LineContent\\\": \\\"spark pi is 3.14\\\\\\\\n\\\"\\n      }\\n    ],\\n    \\\"totalLength\\\": 10\\n  },\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"查询日志内容"},"GetTemplate":{"summary":"获取任务模板。","path":"/api/interactive/v1/workspace/{workspaceBizId}/template","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"191100","abilityTreeNodes":["FEATUREemapreduceUECZZL"]},"parameters":[{"name":"workspaceBizId","in":"path","schema":{"description":"工作空间ID。","type":"string","required":false,"example":"w-8adde60aa809701f"}},{"name":"templateType","in":"query","schema":{"description":"模板类型。","type":"string","required":false,"example":"TASK","default":"TASK","enum":["TASK","SESSION"]}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"区域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"httpStatusCode":{"title":"Id of the request","description":"Id of the request","type":"string","example":"200"},"errorCode":{"description":"- 当success为false，返回业务错误码。\n \n- 当success为true，返回空值。","type":"string","example":"040003"},"errorMessage":{"description":"- 当success为false，返回业务错误信息；\n\n- 当success为true，返回空值。","type":"string","example":"InvalidUser.NotFound"},"data":{"description":"返回数据。","$ref":"#/components/schemas/Template"},"success":{"description":"请求是否成功。","type":"boolean","example":"True"},"requestId":{"description":"请求ID。","type":"string","example":"484D9DDA-300D-525E-AF7A-0CCCA5C64A7A"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"httpStatusCode\\\": \\\"200\\\",\\n  \\\"errorCode\\\": \\\"040003\\\",\\n  \\\"errorMessage\\\": \\\"InvalidUser.NotFound\\\",\\n  \\\"data\\\": {\\n    \\\"sparkDriverCores\\\": 0,\\n    \\\"sparkDriverMemory\\\": 0,\\n    \\\"sparkExecutorMemory\\\": 0,\\n    \\\"sparkVersion\\\": \\\"\\\",\\n    \\\"sparkLogLevel\\\": \\\"\\\",\\n    \\\"sparkExecutorCores\\\": 0,\\n    \\\"gmtModified\\\": \\\"\\\",\\n    \\\"sparkLogPath\\\": \\\"\\\",\\n    \\\"creator\\\": 0,\\n    \\\"gmtCreated\\\": \\\"\\\",\\n    \\\"modifier\\\": 0,\\n    \\\"sparkConf\\\": [\\n      {\\n        \\\"value\\\": \\\"\\\",\\n        \\\"key\\\": \\\"\\\"\\n      }\\n    ],\\n    \\\"templateType\\\": \\\"\\\",\\n    \\\"fusion\\\": true,\\n    \\\"displaySparkVersion\\\": \\\"\\\"\\n  },\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"484D9DDA-300D-525E-AF7A-0CCCA5C64A7A\\\"\\n}\",\"type\":\"json\"}]","title":"获取EMR Serverless Spark任务模板信息"}},"endpoints":[{"regionId":"cn-zhangjiakou","endpoint":"emr-serverless-spark.cn-zhangjiakou.aliyuncs.com"},{"regionId":"cn-beijing","endpoint":"emr-serverless-spark.cn-beijing.aliyuncs.com"},{"regionId":"cn-hangzhou","endpoint":"emr-serverless-spark.cn-hangzhou.aliyuncs.com"},{"regionId":"cn-shanghai","endpoint":"emr-serverless-spark.cn-shanghai.aliyuncs.com"},{"regionId":"cn-shenzhen","endpoint":"emr-serverless-spark.cn-shenzhen.aliyuncs.com"},{"regionId":"cn-wulanchabu","endpoint":"emr-serverless-spark.cn-wulanchabu.aliyuncs.com"},{"regionId":"ap-southeast-1","endpoint":"emr-serverless-spark.ap-southeast-1.aliyuncs.com"},{"regionId":"ap-southeast-5","endpoint":"emr-serverless-spark.ap-southeast-5.aliyuncs.com"},{"regionId":"us-east-1","endpoint":"emr-serverless-spark.us-east-1.aliyuncs.com"},{"regionId":"eu-central-1","endpoint":"emr-serverless-spark.eu-central-1.aliyuncs.com"}]}