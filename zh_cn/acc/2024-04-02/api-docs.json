{"version":"1.0","info":{"style":"RPC","product":"acc","version":"2024-04-02"},"directories":[{"id":263459,"title":"镜像缓存","type":"directory","children":["CreateImageCache","DeleteImageCache","ListImageCaches","GetImageCache"]}],"components":{"schemas":{"CapacityResource":{"title":"CapacityResource","type":"object","properties":{"Memory":{"title":"Memory","type":"string"},"CPU":{"title":"CPU","type":"string"},"GPU":{"title":"GPU","type":"string"}}}}},"apis":{"CreateImageCache":{"summary":"用于创建一个镜像缓存，在创建ACS Pod时加速容器镜像的拉取。","path":"","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"high","chargeType":"paid","abilityTreeNodes":["FEATUREacsLAMYBV","FEATUREacs7TVY7Q"],"tenantRelevance":"publicInformation"},"parameters":[{"name":"ClientToken","in":"query","allowEmptyValue":false,"schema":{"title":"幂等参数","description":"幂等Token。","type":"string","required":false,"example":"*****"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ImageCacheName","in":"query","schema":{"description":"镜像缓存名称。","type":"string","required":true,"example":"my-imc"}},{"name":"Images","in":"query","style":"repeatList","schema":{"description":"用于制作镜像缓存的容器镜像，目前仅支持一个。","type":"array","items":{"description":"容器镜像名称。","type":"string","required":false,"example":"registry-vpc.cn-hangzhou.aliyuncs.com/*****/*****:v1"},"required":true,"maxItems":1,"minItems":1}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-aekzh43v*****"}},{"name":"Tags","in":"query","style":"repeatList","schema":{"description":"镜像缓存标签信息，最多 20 个。","type":"array","items":{"description":"镜像缓存标签对象。","type":"object","properties":{"Key":{"description":"镜像缓存标签键。","type":"string","required":false,"example":"imc"},"Value":{"description":"镜像缓存标签值。","type":"string","required":false,"example":"test"}},"required":false},"required":false,"maxItems":20}},{"name":"NetworkConfig","in":"query","style":"json","schema":{"description":"创建镜像缓存拉取镜像的网络配置。","type":"object","properties":{"VSwitchIds":{"description":"交换机ID信息，最多 10 个，会选择其中一个进行镜像拉取。","type":"array","items":{"description":"交换机ID。","type":"string","required":false,"example":"vsw-0jlqxyfxgdw4tzqy*****"},"required":true,"maxItems":10,"minItems":1},"SecurityGroupId":{"description":"安全组ID。","type":"string","required":true,"example":"sg-0jlgektkddwa42n*****"},"EipInstance":{"description":"弹性公网IP实例配置。","type":"object","properties":{"InstanceId":{"description":"弹性公网 IP，优先使用该参数，填写则其他参数失效。","type":"string","required":false,"example":"eip-0jl0bx3fnpnjc9i4*****"},"AutoCreate":{"description":"是否自动创建EIP。","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"true"},"Bandwidth":{"description":"自动创建EIP的带宽，单位：Mbps。","type":"integer","format":"int32","required":false,"example":"100"}},"required":false}},"required":true}},{"name":"ImageRegistryCredentials","in":"query","style":"repeatList","schema":{"description":"镜像仓库秘钥信息。","type":"array","items":{"description":"镜像仓库秘钥对象。","type":"object","properties":{"Server":{"description":"不带 http:// 或 https:// 前缀的镜像仓库地址。","type":"string","required":false,"example":"registry-vpc.cn-hangzhou.aliyuncs.com"},"UserName":{"description":"镜像仓库用户名。","type":"string","required":false,"example":"myusername"},"Password":{"description":"镜像仓库密码。\n\n","type":"string","required":false,"example":"mypassword"},"UsePlainHttp":{"description":"服务使用 HTTP 协议拉取镜像，避免因协议不同而导致镜像拉取失败。\n默认值：`false`。","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"false"},"SkipCertVerification":{"description":"使用自签发证书的自建镜像仓库中的镜像创建镜像缓存时，需配置该参数来跳过证书认证，避免因证书认证失败而导致镜像拉取失败。\n默认值：`false`。","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"false"}},"required":false},"required":false,"maxItems":20}},{"name":"AcrRegistryInfos","in":"query","style":"repeatList","schema":{"description":"ACR 企业版实例信息。","type":"array","items":{"description":"ACR 企业版实例对象。","type":"object","properties":{"InstanceId":{"description":"ACR 企业版实例 ID。","type":"string","required":false,"example":"cri-nwj395hgf6f*****"},"RegionId":{"description":"ACR 企业版实例所属地域。","type":"string","required":false,"example":"cn-hangzhou"}},"required":false},"required":false,"maxItems":20}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回参数对象。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求 ID。","type":"string","example":"0E234675-3465-4CC3-9D0F-9A864BC*****"},"ImageCacheId":{"description":"镜像缓存 ID。","type":"string","example":"imc-bp1dj*****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"%s."},{"errorCode":"InvalidParameter.LengthExceeded","errorMessage":"%s."},{"errorCode":"MissingParameter","errorMessage":"%s."},{"errorCode":"Idempotence.Failed","errorMessage":"An error occurred while processing your request. Use the new Token and try again."},{"errorCode":"Idempotence.Processing","errorMessage":"The request is being processed. Please try again."},{"errorCode":"Idempotence.SignatureMismatch","errorMessage":"The idempotence signature of the specified request does not match the previous request."},{"errorCode":"InvalidParameter.NotFound","errorMessage":"%s."}],"403":[{"errorCode":"CreateServiceLinkedRoleDenied","errorMessage":"Please make sure the account has ram:CreateServiceLinkedRole permission."},{"errorCode":"Forbidden","errorMessage":"User not authorized to operate on the specified resource."},{"errorCode":"Ram.NoPermission","errorMessage":"%s."},{"errorCode":"EntityNotExist.ResourceId","errorMessage":"The resource does not exist."},{"errorCode":"EntityNotExist.ResourceGroup","errorMessage":"The resource group does not exist."},{"errorCode":"Acr.UserNotExist","errorMessage":"ACR user is not exist."},{"errorCode":"Acr.AuthenticationFailed","errorMessage":"ACR user is not authorized to perform this action."},{"errorCode":"ImageCache.NotSupport","errorMessage":"Image cache is not available for all users. If you want to enable this function, please contact us."},{"errorCode":"IncorrectOperation","errorMessage":"%s."},{"errorCode":"IncorrectStatus","errorMessage":"%s."},{"errorCode":"QuotaExceeded","errorMessage":"Your current account quota is insufficient."},{"errorCode":"RegionNotSupport","errorMessage":"The specified Region is not supported."},{"errorCode":"NoResourceAvailable","errorMessage":"%s."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0E234675-3465-4CC3-9D0F-9A864BC*****\\\",\\n  \\\"ImageCacheId\\\": \\\"imc-bp1dj*****\\\"\\n}\",\"type\":\"json\"}]","title":"创建镜像缓存"},"DeleteImageCache":{"summary":"用于删除一个镜像缓存。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"delete","riskType":"high","chargeType":"paid","abilityTreeNodes":["FEATUREacsLAMYBV","FEATUREacs7TVY7Q"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ImageCacheId","in":"query","schema":{"description":"镜像缓存ID。","type":"string","required":true,"example":"imc-bp1dj*****"}},{"name":"Force","in":"query","schema":{"description":"是否强制删除镜像缓存。默认值：`false`。","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"false"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回参数对象。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"0E234675-3465-4CC3-9D0F-9A864BC*****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"%s."},{"errorCode":"MissingParameter","errorMessage":"%s."}],"403":[{"errorCode":"ImageCache.NotExist","errorMessage":"The specified image cache does not exist."},{"errorCode":"RegionNotSupport","errorMessage":"The specified Region is not supported."},{"errorCode":"IncorrectStatus","errorMessage":"%s."},{"errorCode":"IncorrectOperation","errorMessage":"%s."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0E234675-3465-4CC3-9D0F-9A864BC*****\\\"\\n}\",\"type\":\"json\"}]","title":"删除镜像缓存"},"ListImageCaches":{"summary":"用于查询镜像缓存信息。","methods":["get","post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREacsLAMYBV","FEATUREacs7TVY7Q"],"tenantRelevance":"publicInformation"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ImageCacheName","in":"query","schema":{"description":"镜像缓存名称。","type":"string","required":false,"example":"my-imc"}},{"name":"Status","in":"query","schema":{"description":"镜像缓存状态。","type":"string","required":false,"enumValueTitles":{"Ready":"Ready","Failed":"Failed","Pending":"Pending"},"example":"Ready"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-aekzh43v*****"}},{"name":"Tags","in":"query","style":"repeatList","schema":{"description":"镜像缓存标签信息，最多 20 个。","type":"array","items":{"description":"镜像缓存标签对象。","type":"object","properties":{"Key":{"description":"镜像缓存标签键。","type":"string","required":false,"example":"imc"},"Value":{"description":"镜像缓存标签值。","type":"string","required":false,"example":"test"}},"required":false},"required":false,"maxItems":20}},{"name":"NextToken","in":"query","schema":{"description":"查询凭证（Token），取值为上一次 API 调用返回的 NextToken 参数值。","type":"string","required":false,"example":"AAAAAdDWBF*****"}},{"name":"MaxResults","in":"query","schema":{"description":"单次查询结果条数上限。","type":"integer","format":"int32","required":false,"example":"30"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回参数对象。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"0E234675-3465-4CC3-9D0F-9A864BC*****"},"ImageCaches":{"description":"镜像缓存信息。","type":"array","items":{"description":"镜像缓存对象。","type":"object","properties":{"ImageCacheId":{"description":"镜像缓存ID。\n","type":"string","example":"imc-bp1dj*****"},"ImageCacheName":{"description":"镜像缓存名称。","type":"string","example":"my-imc"},"Status":{"description":"镜像缓存状态。","type":"string","example":"Ready"},"Images":{"description":"镜像缓存中的容器镜像信息。","type":"array","items":{"description":"容器镜像名称。","type":"string","example":"registry-vpc.cn-hangzhou.aliyuncs.com/*****/*****:v1"}},"Size":{"description":"镜像缓存大小，单位Gi，最小1Gi。","type":"integer","format":"int32","example":"8"},"CreateTime":{"description":"镜像缓存创建时间。","type":"string","example":"2025-**-**T07:55:25Z"},"ReadyTime":{"description":"镜像缓存可用时间。","type":"string","example":"2025-**-**T07:58:25Z"},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-aekzh43v*****"}}}},"NextToken":{"description":"本次调用返回的查询凭证值。","type":"string","example":"AAAAAdDWBF*****"},"TotalCount":{"description":"查询结果总条数。","type":"integer","format":"int32","example":"20"},"MaxResults":{"description":"单次查询结果条数上限。","type":"integer","format":"int32","example":"30"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"%s."},{"errorCode":"InvalidParameter.LengthExceeded","errorMessage":"%s."},{"errorCode":"InvalidParameter.ValueExceeded","errorMessage":"%s."},{"errorCode":"MissingParameter","errorMessage":"%s."},{"errorCode":"InvalidParameter.NotFound","errorMessage":"%s."}],"403":[{"errorCode":"EntityNotExist.ResourceId","errorMessage":"The resource does not exist."},{"errorCode":"EntityNotExist.ResourceGroup","errorMessage":"The resource group does not exist."},{"errorCode":"RegionNotSupport","errorMessage":"The specified Region is not supported."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0E234675-3465-4CC3-9D0F-9A864BC*****\\\",\\n  \\\"ImageCaches\\\": [\\n    {\\n      \\\"ImageCacheId\\\": \\\"imc-bp1dj*****\\\",\\n      \\\"ImageCacheName\\\": \\\"my-imc\\\",\\n      \\\"Status\\\": \\\"Ready\\\",\\n      \\\"Images\\\": [\\n        \\\"registry-vpc.cn-hangzhou.aliyuncs.com/*****/*****:v1\\\"\\n      ],\\n      \\\"Size\\\": 8,\\n      \\\"CreateTime\\\": \\\"2025-**-**T07:55:25Z\\\",\\n      \\\"ReadyTime\\\": \\\"2025-**-**T07:58:25Z\\\",\\n      \\\"ResourceGroupId\\\": \\\"rg-aekzh43v*****\\\"\\n    }\\n  ],\\n  \\\"NextToken\\\": \\\"AAAAAdDWBF*****\\\",\\n  \\\"TotalCount\\\": 20,\\n  \\\"MaxResults\\\": 30\\n}\",\"type\":\"json\"}]","title":"查询镜像缓存"},"GetImageCache":{"summary":"用于查询一个镜像缓存的详细信息。","methods":["get","post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREacsLAMYBV","FEATUREacs7TVY7Q"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ImageCacheId","in":"query","schema":{"description":"镜像缓存ID。","type":"string","required":true,"example":"imc-bp1dj*****"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回参数对象。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"0E234675-3465-4CC3-9D0F-9A864BC*****"},"RegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"ImageCacheId":{"description":"镜像缓存 ID。","type":"string","example":"imc-bp1dj*****"},"ImageCacheName":{"description":"镜像缓存名称。","type":"string","example":"my-imc"},"Status":{"description":"镜像缓存状态。","type":"string","example":"Ready"},"Images":{"description":"镜像缓存中的容器镜像名称。","type":"array","items":{"description":"容器镜像名称。","type":"string","example":"registry-vpc.cn-hangzhou.aliyuncs.com/*****/*****:v1"}},"Size":{"description":"镜像缓存大小，单位Gi，最小1Gi。","type":"integer","format":"int32","example":"8"},"CreateTime":{"description":"镜像缓存创建时间。","type":"string","example":"2025-**-**T07:55:25Z"},"ReadyTime":{"description":"镜像缓存可用时间。","type":"string","example":"2025-**-**T07:58:25Z"},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-aekzh43v*****"},"Tags":{"description":"镜像缓存标签信息，最多 20 个。","type":"array","items":{"description":"镜像缓存标签对象。","type":"object","properties":{"Key":{"description":"镜像缓存标签键。","type":"string","example":"imc"},"Value":{"description":"镜像缓存标签值。","type":"string","example":"test"}}}},"Events":{"description":"镜像缓存事件信息。","type":"array","items":{"description":"镜像缓存事件对象。","type":"object","properties":{"Count":{"description":"事件触发次数。","type":"integer","format":"int32","example":"1"},"Type":{"description":"事件类型。","type":"string","example":"Normal"},"Name":{"description":"事件名称。","type":"string","example":"imagetest.1661f31f851*****"},"Reason":{"description":"事件原因。","type":"string","example":"ImageCacheCreated"},"Message":{"description":"事件信息。","type":"string","example":"Image cache [my-imc] has been created successfully"},"FirstTimestamp":{"description":"首次发生时间。","type":"string","example":"2025-**-**T02:24:48Z"},"LastTimestamp":{"description":"最近发生时间。","type":"string","example":"2025-**-**T02:24:48Z"}}}},"PaymentType":{"description":"付费类型。","type":"string","example":"PayAsYouGo"},"NetworkConfig":{"description":"创建镜像缓存拉取镜像的网络配置。","type":"object","properties":{"VSwitchIds":{"description":"交换机ID信息。","type":"array","items":{"description":"交换机ID。","type":"string","example":"vsw-0jlqxyfxgdw4tzqy*****"}},"SecurityGroupId":{"description":"安全组ID。","type":"string","example":"sg-0jlgektkddwa42n*****"},"EipInstance":{"description":"弹性公网IP实例配置。","type":"object","properties":{"InstanceId":{"description":"弹性公网IP。","type":"string","example":"eip-0jl0bx3fnpnjc9i4*****"},"AutoCreate":{"description":"是否自动创建EIP。","type":"boolean","example":"true"},"Bandwidth":{"description":"自动创建EIP的带宽，单位：Mbps。","type":"integer","format":"int32","example":"100"}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"%s."},{"errorCode":"InvalidParameter.LengthExceeded","errorMessage":"%s."},{"errorCode":"InvalidParameter.ValueExceeded","errorMessage":"%s."},{"errorCode":"MissingParameter","errorMessage":"%s."},{"errorCode":"InvalidParameter.NotFound","errorMessage":"%s."}],"403":[{"errorCode":"EntityNotExist.ResourceId","errorMessage":"The resource does not exist."},{"errorCode":"EntityNotExist.ResourceGroup","errorMessage":"The resource group does not exist."},{"errorCode":"RegionNotSupport","errorMessage":"The specified Region is not supported."},{"errorCode":"ImageCache.NotExist","errorMessage":"The specified image cache does not exist."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0E234675-3465-4CC3-9D0F-9A864BC*****\\\",\\n  \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n  \\\"ImageCacheId\\\": \\\"imc-bp1dj*****\\\",\\n  \\\"ImageCacheName\\\": \\\"my-imc\\\",\\n  \\\"Status\\\": \\\"Ready\\\",\\n  \\\"Images\\\": [\\n    \\\"registry-vpc.cn-hangzhou.aliyuncs.com/*****/*****:v1\\\"\\n  ],\\n  \\\"Size\\\": 8,\\n  \\\"CreateTime\\\": \\\"2025-**-**T07:55:25Z\\\",\\n  \\\"ReadyTime\\\": \\\"2025-**-**T07:58:25Z\\\",\\n  \\\"ResourceGroupId\\\": \\\"rg-aekzh43v*****\\\",\\n  \\\"Tags\\\": [\\n    {\\n      \\\"Key\\\": \\\"imc\\\",\\n      \\\"Value\\\": \\\"test\\\"\\n    }\\n  ],\\n  \\\"Events\\\": [\\n    {\\n      \\\"Count\\\": 1,\\n      \\\"Type\\\": \\\"Normal\\\",\\n      \\\"Name\\\": \\\"imagetest.1661f31f851*****\\\",\\n      \\\"Reason\\\": \\\"ImageCacheCreated\\\",\\n      \\\"Message\\\": \\\"Image cache [my-imc] has been created successfully\\\",\\n      \\\"FirstTimestamp\\\": \\\"2025-**-**T02:24:48Z\\\",\\n      \\\"LastTimestamp\\\": \\\"2025-**-**T02:24:48Z\\\"\\n    }\\n  ],\\n  \\\"PaymentType\\\": \\\"PayAsYouGo\\\",\\n  \\\"NetworkConfig\\\": {\\n    \\\"VSwitchIds\\\": [\\n      \\\"vsw-0jlqxyfxgdw4tzqy*****\\\"\\n    ],\\n    \\\"SecurityGroupId\\\": \\\"sg-0jlgektkddwa42n*****\\\",\\n    \\\"EipInstance\\\": {\\n      \\\"InstanceId\\\": \\\"eip-0jl0bx3fnpnjc9i4*****\\\",\\n      \\\"AutoCreate\\\": true,\\n      \\\"Bandwidth\\\": 100\\n    }\\n  }\\n}\",\"type\":\"json\"}]","title":"查询镜像缓存详细信息"}},"endpoints":[{"regionId":"cn-beijing","endpoint":"acc.cn-beijing.aliyuncs.com"}]}