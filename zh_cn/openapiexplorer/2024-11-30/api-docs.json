{"version":"1.0","info":{"style":"ROA","product":"OpenAPIExplorer","version":"2024-11-30"},"directories":["GetOwnRequestLog","GetErrorCodeSolutions","GetRequestLog"],"components":{"schemas":{}},"apis":{"GetErrorCodeSolutions":{"summary":"根据提供的错误码获取对应的错误诊断解决方案。","description":"该接口查询的是公开信息，不涉及账号特殊归属等信息，故不支持授权。","path":"/getErrorCodeSolutions","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREopenapiexplorerFS9SI4"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"errorCode","in":"query","schema":{"title":"发生错误时收到的错误码Code。\n以如下报错信息为例，请传入NoPermission作为errorCode参数值：\n\"Code\": \"NoPermission\",\n\"Message\": \"You are not authorized to perform this action.\",\n\"AccessDeniedDetail\": {***},\n\"Recommend\": \"https://api.aliyun.com/troubleshoot?q=NoPermission&product=***&requestId=***\",\n\"RequestId\": \"***\",\n\"HostId\": \"***.aliyuncs.com\"","description":"需要查询诊断方案的错误码。","type":"string","required":true,"example":"IncorrectStatus.TransitRouter"}},{"name":"errorMessage","in":"query","schema":{"title":"收到报错的错误信息Message字段。\n\nCode与Message为一个完整的二元组，匹配诊断方案首先以errorCode必填参数匹配，返回匹配同一Code下的所有诊断解决方案（solutions）。如传入errorMessage参数，则通过errorCode+errorMessage作为一个独立的二元组匹配对应解决方案。\n\n以如下错误消息为例，传入NoPermission作为errorCode参数值，传入You are not authorized to perform this action作为errorMessage参数值：\n\"Code\": \"NoPermission\",\n\"Message\": \"You are not authorized to perform this action.\",\n\"AccessDeniedDetail\": {***},\n\"Recommend\": \"https://api.aliyun.com/troubleshoot?q=NoPermission&product=***&requestId=***\",\n\"RequestId\": \"***\",\n\"HostId\": \"***.aliyuncs.com\"","description":"需查询诊断方案的错误消息，必须搭配错误码（errorCode）参数共同使用。","type":"string","required":false,"example":"The resource is not in a valid state for the operation."}},{"name":"product","in":"query","schema":{"title":"筛选特定产品。\n\n当errorCode匹配到solutions存在于多个产品下时，通过product参数指定特定的产品solution。如指定的产品的code没有solution，则会抛出报错，详见错误码列表。","description":"产品CODE。\n\n- 调用GetRequestLog接口，从返回结果中获取产品CODE。\n\n- 通过OpenAPI门户的URL，找到对应的产品CODE。例如，<props=\"china\">短信服务的OpenAPI门户URL为https://api.aliyun.com/product/Dysmsapi，根据该URL获取短信服务的产品CODE为Dysmsapi。</props>\n<props=\"intl\">短信服务的OpenAPI门户URL为https://api.alibabacloud.com/product/Dysmsapi，根据该URL获取短信服务的产品CODE为Dysmsapi。</props>","type":"string","required":false,"example":"Ecs"}},{"name":"acceptLanguage","in":"query","schema":{"title":"限定solutions的语言，目前支持中文（zh-CN）与英文（en-US），并非所有solutions具备英文内容。","description":"查询对应语言的诊断方案，支持中文（zh-CN）与英文（en-US）。需要注意的是并非所有诊断方案具备英文内容，如诊断方案无英文内容，则返回为空。\n<props=\"china\">zh-CN</props>\n\n<props=\"intl\">en-US</props>","type":"string","required":false,"enumValueTitles":{"en-US":"en-US","zh-CN":"zh-CN"},"example":"zh-CN"}}],"responses":{"200":{"description":"查询成功","schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"solutions":{"title":"解决方案列表，并非每个报错都具备诊断方案，如有需求可以通过提交工单或者通过API门户反馈给我们。\n每个元素包含以下属性：\n","description":"解决方案列表，并非所有报错都有对应的诊断方案，且解决方案可能因业务逻辑的调整而发生变化。如有需求，您可以通过提交工单或访问 API 门户向我们反馈。","type":"array","items":{"description":"诊断方案列表。每个元素包含以下属性：","type":"object","properties":{"content":{"title":"**解决方案内容**：主要内容，统一以markdown格式返回。一般可能包含“标题”、“触发条件”、“解决步骤”等段落信息。","description":"错误码诊断方案，以markdown格式返回。","type":"string","example":"当前TR的状态不支持该操作，请稍后重试\\n====\\n\\n触发条件\\n----\\n\\nTR处于非稳态时，操作设置云服务\\n\\n* * *\\n\\n解决步骤\\n----\\n\\n等待TR处于稳定状态后在进行操作，可依照示例判断TR是否为可操作的稳定状态\\n\\n正确使用示例\\n------\\n\\n在操作设置云服务前请确保TR为可操作的稳定状态，确定方式有两种\\n\\n1、在控制台【转发路由器】列表中查看转发路由器状态为可用代表为稳态\\n\\n2、调用接口ListTransitRouters查看转发路由器Status字段是为Active代表为稳态"},"solutionId":{"title":"本次查询的解决方案的唯一 ID。","description":"解决方案 ID\n","type":"string","example":"0017-00000502"},"product":{"title":"本次查询的错误码所属的产品code。","description":"诊断方案所属的产品CODE。","type":"string","example":"Ecs"},"productName":{"title":"本条错误码所属的产品名称，为OpenAPI门户所显示的产品名称。","description":"诊断方案所属的产品服务名称。","type":"string","example":"云服务器 Ecs"},"errorCode":{"title":"本次查询的解决方案对应的错误码。\n","description":"诊断方案所对应的错误码。","type":"string","example":"IncorrectStatus.TransitRouter"},"errorMessage":{"title":"本次查询的解决方案对应的错误消息。","description":"诊断方案所对应的错误消息。","type":"string","example":"The resource is not in a valid state for the operation."}}}},"requestId":{"title":"本次请求的requestId。","description":"本次请求的Request ID。","type":"string","example":"A707AFA8-1A4C-5B2A-A165-8436C1EA38DB"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParam.AcceptLanguage","errorMessage":"Accepted language should only be zh-CN or en-US.","description":"参数无效，接受的语言只能是zh-CN或en-US。"},{"errorCode":"InvalidParam.ErrorCode","errorMessage":"The errorCode should be a string and cannot be empty.","description":"ErrorCode参数无效，应该是字符串，不能为空。"},{"errorCode":"InvalidParam.ErrorMessage","errorMessage":"The errorMessage should be a string or null.","description":"参数 errorMessage 无效。ErrorMessage应该是字符串或null。"},{"errorCode":"InvalidParam.Product","errorMessage":"The product should be a string or null.","description":"参数 product 无效，应该是字符串或null。"}],"404":[{"errorCode":"NotFound.Product","errorMessage":"The provided product does not exist.","description":"您提供的产品名称不存在。"}]},"staticInfo":{"returnType":"synchronous"},"title":"查询报错诊断方案","changeSet":[],"flowControl":{"flowControlList":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"solutions\\\": [\\n    {\\n      \\\"content\\\": \\\"当前TR的状态不支持该操作，请稍后重试\\\\\\\\n====\\\\\\\\n\\\\\\\\n触发条件\\\\\\\\n----\\\\\\\\n\\\\\\\\nTR处于非稳态时，操作设置云服务\\\\\\\\n\\\\\\\\n* * *\\\\\\\\n\\\\\\\\n解决步骤\\\\\\\\n----\\\\\\\\n\\\\\\\\n等待TR处于稳定状态后在进行操作，可依照示例判断TR是否为可操作的稳定状态\\\\\\\\n\\\\\\\\n正确使用示例\\\\\\\\n------\\\\\\\\n\\\\\\\\n在操作设置云服务前请确保TR为可操作的稳定状态，确定方式有两种\\\\\\\\n\\\\\\\\n1、在控制台【转发路由器】列表中查看转发路由器状态为可用代表为稳态\\\\\\\\n\\\\\\\\n2、调用接口ListTransitRouters查看转发路由器Status字段是为Active代表为稳态\\\",\\n      \\\"solutionId\\\": \\\"0017-00000502\\\",\\n      \\\"product\\\": \\\"Ecs\\\",\\n      \\\"productName\\\": \\\"云服务器 Ecs\\\",\\n      \\\"errorCode\\\": \\\"IncorrectStatus.TransitRouter\\\",\\n      \\\"errorMessage\\\": \\\"The resource is not in a valid state for the operation.\\\"\\n    }\\n  ],\\n  \\\"requestId\\\": \\\"A707AFA8-1A4C-5B2A-A165-8436C1EA38DB\\\"\\n}\",\"type\":\"json\"}]"},"GetOwnRequestLog":{"path":"/getOwnRequestLog","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json","application/x-www-form-urlencoded"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREopenapiexplorer64CEGV"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"logRequestId","in":"query","schema":{"title":"需要查询日志的requestId。\nAPI 请求的唯一标识符（UUID格式，且必须为大写）。\n","description":"需要查询日志的RequestId。\nAPI 请求的唯一标识符（UUID格式，且必须为大写）。","type":"string","required":true,"example":"123E4567-E89B-12D3-A456-426614174000"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"logInfo":{"title":"包含API请求日志的详细信息。","description":"包含API请求日志的详细信息。","type":"object","properties":{"basicInfo":{"title":"包含API请求的基本信息。","description":"包含API请求的基本信息。","type":"object","properties":{"api":{"title":"所查日志内的API名称。","description":"所查日志内的API名称。","type":"string","example":"RunInstances\n"},"apiDoc":{"title":"API文档信息。","description":"API文档信息。","type":"object","properties":{"aliyunSite":{"title":"中国站文档链接。","description":"中国站文档链接。","type":"string","example":"https://api.aliyun.com/document/Ecs/2014-05-26/RunInstances"},"alibabacloudSite":{"title":"国际站文档链接。","description":"国际站文档链接。","type":"string","example":"https://api.alibabacloud.com/document/Ecs/2014-05-26/RunInstances"}}},"apiVersion":{"title":"API版本信息。","description":"API版本信息。","type":"string","example":"2014-05-26"},"product":{"title":"产品名称。","description":"产品CODE。","type":"string","example":"Ecs\n"},"productName":{"title":"产品名称信息，包含中文名和英文名。","description":"产品名称信息，包含中文名和英文名。","type":"object","properties":{"cnName":{"title":"产品中文名。","description":"产品中文名。","type":"string","example":"云服务器 ECS\n"},"enName":{"title":"产品英文名。","description":"产品英文名。","type":"string","example":"\t\nElastic Compute Service\n"}}},"apiStyle":{"title":"API风格，可能为ROA或RPC风格类型。","description":"API风格，可能为ROA或RPC风格类型。","type":"string","example":"rpc"},"logRequestId":{"title":"本次查询日志的requestId，并非本次请求的requestId。","description":"传入的RequestId。","type":"string","example":"123E4567-E89B-12D3-A456-426614174000"},"httpStatusCode":{"title":"所查日志内的Http状态码信息。","description":"所查日志内的HTTP状态码信息。","type":"string","example":"400"},"errorCode":{"title":"所查日志内的错误码。如查询的请求并未报错，该字段为空。","description":"所查日志内的错误码。如查询的请求并未报错，该字段为空。","type":"string","example":"IncorrectStatus.TransitRouter\n"},"errorMessage":{"title":"所查日志内的错误消息。如查询的请求并未报错，该字段为空。","description":"所查日志内的错误消息。如查询的请求并未报错，该字段为空。","type":"string","example":"The resource is not in a valid state for the operation.\n"},"accessDeniedDetail":{"title":"无权限报错详细信息","description":"无权限报错详细信息","type":"object","properties":{"policyType":{"title":"无权限的策略类型","description":"无权限的策略类型","type":"string","example":"\t\nAccountLevelIdentityBasedPolicy\n"},"authPrincipalOwnerId":{"title":"当前身份所属的阿里云账号UID信息","description":"当前身份所属的阿里云账号UID信息","type":"string","example":"1001234561234567\n"},"authPrincipalType":{"title":"操作者的身份类型","description":"操作者的身份类型","type":"string","example":"SubUser\n"},"authPrincipalDisplayName":{"title":"身份标识","description":"身份标识","type":"string","example":"205618123456123456\n"},"noPermissionType":{"title":"无权限原因","description":"无权限原因","type":"string","example":"ImplicitDeny\n"},"authAction":{"title":"导致无权限的具体操作","description":"导致无权限的具体操作","type":"string","example":"openapiexplorer:GetRequestLog\n"},"encodedDiagnosticMessage":{"title":"用于诊断的编码后信息。可调用 Ram 产品的 DecodeDiagnosticMessage OpenAPI 进一步诊断获得更多诊断信息。","description":"用于诊断的编码后信息。可调用 Ram 产品的 DecodeDiagnosticMessage OpenAPI 进一步诊断获得更多诊断信息。","type":"string","example":"-\n"}}},"httpMethod":{"title":"Http请求方式。","description":"HTTP请求方式。","type":"string","example":"GET\n"},"requestDuration":{"title":"网关从收到请求到返回响应的时间。单位毫秒（ms）。","description":"网关从收到请求到返回响应的时间。单位毫秒（ms）。","type":"string","example":"188"},"sdkRequestTime":{"title":"SDK请求时间。\n日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ","description":"发起请求时间。\n日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ","type":"string","example":"2025-01-21T07:43:06Z\n"},"gatewayProcessTime":{"title":"网关处理时间。\n日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ","description":"网关接收到请求的时间。\n日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ","type":"string","example":"2025-01-21T07:43:06Z\n\n"},"regionId":{"title":"服务区域ID。","description":"服务区域ID。","type":"string","example":"cn-hangzhou\n"},"endpoint":{"title":"服务区域对应的服务地址（Endpoint）。","description":"服务区域对应的服务地址（Endpoint）。","type":"string","example":"ecs.cn-hangzhou.aliyuncs.com\n"},"throttlingResult":{"title":"流控校验结果。FC.PASS：未被流控检查拦截；FC.DENY：被流控检查拦截。","description":"流控校验结果。FC.PASS：未被流控检查拦截；FC.DENY：被流控检查拦截。","type":"string","example":"FC.PASS\n","enum":["FC.PASS","FC.DENY"]}}},"callerInfo":{"title":"调用者信息。","description":"调用者信息。","type":"object","properties":{"callerType":{"title":"调用者类型。\n1. customer：云账号；\n2. sub：RAM子用户；\n3. AssumedRoleUser：STS Token临时身份；","description":"调用者类型。\n1. customer：云账号；\n2. sub：RAM子用户；\n3. AssumedRoleUser：STS Token临时身份；","type":"string","example":"sub\n","enum":["customer","sub","AssumedRoleUser"]},"callerIp":{"title":"调用者的IP地址","description":"调用者的IP地址","type":"string","example":"100.68.xxx.xxx\n"},"masterAccountId":{"title":"主账号ID","description":"主账号ID","type":"string","example":"1973374733454118\n"},"callerAccountId":{"title":"调用者账号ID","description":"调用者账号ID","type":"string","example":"241009849925897811\n"},"userAgent":{"title":"用户代理信息","description":"用户代理信息","type":"string","example":"AlibabaCloud API Workbench\n"}}},"authenticationInfo":{"title":"认证信息","description":"认证信息","type":"object","properties":{"signatureVersion":{"title":"签名版本","description":"签名版本","type":"string","example":"unknown\n"},"signatureMethod":{"title":"签名方法。\n * HMAC-SHA1: 使用HMAC-SHA1算法进行签名\n * HMAC-SHA256: 使用HMAC-SHA256算法进行签名","description":"签名方法。\n * HMAC-SHA1: 使用HMAC-SHA1算法进行签名\n * HMAC-SHA256: 使用HMAC-SHA256算法进行签名","type":"string","example":"HMAC-SHA256","enum":[]},"authenticationType":{"title":"认证类型。\n * AK: 包括永久AK、临时AK、STS TOKEN等。\n * PRIVATEKEY：一种非对称加密类型的AK。\n * BEARERTOKEN：一种身份验证机制，广泛应用于 OAuth 2.0 框架和云服务中。\n * CUSTOM_SPI：一种高效且安全的认证方式，适用于云市场中 SaaS 类商品的交付和管理。\n * Anonymous：匿名访问。\n * DPS：类似于AK，但是签名算法不同于阿里云官方，个别产品专属。","description":"认证类型。\n * AK: 包括永久AK、临时AK、STS TOKEN等。\n * PRIVATEKEY：一种非对称加密类型的AK。\n * BEARERTOKEN：一种身份验证机制，广泛应用于 OAuth 2.0 框架和云服务中。\n * CUSTOM_SPI：一种高效且安全的认证方式，适用于云市场中 SaaS 类商品的交付和管理。\n * Anonymous：匿名访问。\n * DPS：类似于AK，但是签名算法不同于阿里云官方，个别产品专属。","type":"string","example":"AK","enum":[]}}},"parameters":{"title":"请求参数信息。","description":"请求参数信息。","type":"array","items":{"type":"object","properties":{"name":{"title":"请求参数名。","description":"请求参数名。","type":"string","example":"InstanceType\n"},"value":{"title":"请求参数值。","description":"请求参数值。","type":"any","example":"ecs.g6.large\n"},"required":{"title":"该请求参数是否必填。","description":"该请求参数是否必填。","type":"boolean","example":"false\n"},"type":{"title":"该请求参数类型。","description":"该请求参数类型。","type":"string","example":"string\n"}}}},"responses":{"title":"对应该请求的返回信息。","description":"对应该请求的返回信息。","type":"object","properties":{"responseBody":{"title":"返回信息。","description":"返回信息。","type":"string","example":"-\n"},"responseBodyFormat":{"title":"响应体类型。\nJSON、XML、HTML。","description":"响应体类型。\nJSON、XML、HTML。","type":"string","example":"JSON\n"}}}}},"requestId":{"title":"本次请求ID，与logRequestId非同一个参数。","description":"本次请求ID。","type":"string","example":"\t\n9BFC4AC1-6BE4-5405-BDEC-CA288D404812\n"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParam.LogRequestId","errorMessage":"Please ensure that the request ID you provided originates from a request you made to a certain OpenAPI.","description":""}],"404":[{"errorCode":"NotFound.RequestLog","errorMessage":"The log related to this logRequestId does not exist, has expired, or you do not have permission to view it.","description":""}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"logInfo\\\": {\\n    \\\"basicInfo\\\": {\\n      \\\"api\\\": \\\"RunInstances\\\\n\\\",\\n      \\\"apiDoc\\\": {\\n        \\\"aliyunSite\\\": \\\"https://api.aliyun.com/document/Ecs/2014-05-26/RunInstances\\\",\\n        \\\"alibabacloudSite\\\": \\\"https://api.alibabacloud.com/document/Ecs/2014-05-26/RunInstances\\\"\\n      },\\n      \\\"apiVersion\\\": \\\"2014-05-26\\\",\\n      \\\"product\\\": \\\"Ecs\\\\n\\\",\\n      \\\"productName\\\": {\\n        \\\"cnName\\\": \\\"云服务器 ECS\\\\n\\\",\\n        \\\"enName\\\": \\\"\\\\t\\\\nElastic Compute Service\\\\n\\\"\\n      },\\n      \\\"apiStyle\\\": \\\"rpc\\\",\\n      \\\"logRequestId\\\": \\\"123E4567-E89B-12D3-A456-426614174000\\\",\\n      \\\"httpStatusCode\\\": \\\"400\\\",\\n      \\\"errorCode\\\": \\\"IncorrectStatus.TransitRouter\\\\n\\\",\\n      \\\"errorMessage\\\": \\\"The resource is not in a valid state for the operation.\\\\n\\\",\\n      \\\"accessDeniedDetail\\\": {\\n        \\\"policyType\\\": \\\"\\\\t\\\\nAccountLevelIdentityBasedPolicy\\\\n\\\",\\n        \\\"authPrincipalOwnerId\\\": \\\"1001234561234567\\\\n\\\",\\n        \\\"authPrincipalType\\\": \\\"SubUser\\\\n\\\",\\n        \\\"authPrincipalDisplayName\\\": \\\"205618123456123456\\\\n\\\",\\n        \\\"noPermissionType\\\": \\\"ImplicitDeny\\\\n\\\",\\n        \\\"authAction\\\": \\\"openapiexplorer:GetRequestLog\\\\n\\\",\\n        \\\"encodedDiagnosticMessage\\\": \\\"-\\\\n\\\"\\n      },\\n      \\\"httpMethod\\\": \\\"GET\\\\n\\\",\\n      \\\"requestDuration\\\": \\\"188\\\",\\n      \\\"sdkRequestTime\\\": \\\"2025-01-21T07:43:06Z\\\\n\\\",\\n      \\\"gatewayProcessTime\\\": \\\"2025-01-21T07:43:06Z\\\\n\\\\n\\\",\\n      \\\"regionId\\\": \\\"cn-hangzhou\\\\n\\\",\\n      \\\"endpoint\\\": \\\"ecs.cn-hangzhou.aliyuncs.com\\\\n\\\",\\n      \\\"throttlingResult\\\": \\\"FC.PASS\\\\n\\\"\\n    },\\n    \\\"callerInfo\\\": {\\n      \\\"callerType\\\": \\\"sub\\\\n\\\",\\n      \\\"callerIp\\\": \\\"100.68.xxx.xxx\\\\n\\\",\\n      \\\"masterAccountId\\\": \\\"1973374733454118\\\\n\\\",\\n      \\\"callerAccountId\\\": \\\"241009849925897811\\\\n\\\",\\n      \\\"userAgent\\\": \\\"AlibabaCloud API Workbench\\\\n\\\"\\n    },\\n    \\\"authenticationInfo\\\": {\\n      \\\"signatureVersion\\\": \\\"unknown\\\\n\\\",\\n      \\\"signatureMethod\\\": \\\"HMAC-SHA256\\\",\\n      \\\"authenticationType\\\": \\\"AK\\\"\\n    },\\n    \\\"parameters\\\": [\\n      {\\n        \\\"name\\\": \\\"InstanceType\\\\n\\\",\\n        \\\"value\\\": \\\"ecs.g6.large\\\\n\\\",\\n        \\\"required\\\": true,\\n        \\\"type\\\": \\\"string\\\\n\\\"\\n      }\\n    ],\\n    \\\"responses\\\": {\\n      \\\"responseBody\\\": \\\"-\\\\n\\\",\\n      \\\"responseBodyFormat\\\": \\\"JSON\\\\n\\\"\\n    }\\n  },\\n  \\\"requestId\\\": \\\"\\\\t\\\\n9BFC4AC1-6BE4-5405-BDEC-CA288D404812\\\\n\\\"\\n}\",\"type\":\"json\"}]","title":"查询当前账号的API调用日志.","summary":"通过API返回的Request ID，查询当前账号调用OpenAPI的日志详情，用于故障排查。","description":"该API不支持授权。","changeSet":[],"flowControl":{"flowControlList":[]}},"GetRequestLog":{"summary":"通过API返回的Request ID，查询请求的日志详情，用于排查故障。","description":"通过 RAM 授权或角色扮演，支持跨 RAM 用户或跨阿里云账号之间查询调用日志。详见授权方式，请参见[跨账号API错误诊断授权](~~2868101~~)。","path":"/getRequestLog","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json","application/x-www-form-urlencoded"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREopenapiexplorer64CEGV"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"logRequestId","in":"query","schema":{"title":"需要查询日志的requestId。\nAPI 请求的唯一标识符（UUID格式，且必须为大写）。\n","description":"需要查询日志的RequestId，\nAPI 请求的唯一标识符（UUID格式，且必须为大写）。","type":"string","required":true,"example":"123E4567-E89B-12D3-A456-426614174000"}}],"responses":{"200":{"description":"查询成功","schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"logInfo":{"title":"包含API请求日志的详细信息。","description":"包含API请求日志的详细信息。","type":"object","properties":{"basicInfo":{"title":"包含API请求的基本信息。","description":"包含API请求的基本信息。","type":"object","properties":{"api":{"title":"所查日志内的API名称。","description":"所查询请求的API名称。","type":"string","example":"RunInstances"},"apiDoc":{"title":"API文档信息。","description":"API文档信息。","type":"object","properties":{"aliyunSite":{"title":"中国站文档链接。","description":"中国站文档链接。","type":"string","example":"https://api.aliyun.com/document/Ecs/2014-05-26/RunInstances"},"alibabacloudSite":{"title":"国际站文档链接。","description":"国际站文档链接。","type":"string","example":"https://api.alibabacloud.com/document/Ecs/2014-05-26/RunInstances"}}},"apiVersion":{"title":"API版本信息。","description":"API版本信息。","type":"string","example":"2014-05-26"},"product":{"title":"产品名称。","description":"产品CODE。","type":"string","example":"Ecs"},"productName":{"title":"产品名称信息，包含中文名和英文名。","description":"产品名称信息，包含中文名和英文名。","type":"object","properties":{"cnName":{"title":"产品中文名。","description":"产品中文名。","type":"string","example":"云服务器 ECS"},"enName":{"title":"产品英文名。","description":"产品英文名。","type":"string","example":"Elastic Compute Service"}}},"apiStyle":{"title":"API风格，可能为ROA或RPC风格类型。","description":"API风格，可能为ROA或RPC风格类型。","type":"string","example":"roa"},"logRequestId":{"title":"本次查询日志的requestId，并非本次请求的requestId。","description":"传入的RequestId。","type":"string","example":"123E4567-E89B-12D3-A456-426614174000"},"httpStatusCode":{"title":"所查日志内的Http状态码信息。","description":"所查日志内的HTTP状态码信息。","type":"string","example":"404"},"errorCode":{"title":"所查日志内的错误码。如查询的请求并未报错，该字段为空。","description":"所查日志内的错误码。如查询的请求并未报错，该字段为空。","type":"string","example":"IncorrectStatus.TransitRouter"},"errorMessage":{"title":"所查日志内的错误消息。如查询的请求并未报错，该字段为空。","description":"所查日志内的错误消息。如查询的请求并未报错，该字段为空。","type":"string","example":"The resource is not in a valid state for the operation."},"accessDeniedDetail":{"title":"无权限报错详细信息","description":"无权限报错详细信息。如查询的RequestId存在鉴权报错，则存在该字段，否则不存在该字段。","type":"object","properties":{"policyType":{"title":"无权限的策略类型","description":"无权限的策略类型","type":"string","example":"AccountLevelIdentityBasedPolicy"},"authPrincipalOwnerId":{"title":"当前身份所属的阿里云账号UID信息","description":"当前身份所属的阿里云账号UID信息","type":"string","example":"1001234561234567"},"authPrincipalType":{"title":"操作者的身份类型","description":"操作者的身份类型","type":"string","example":"SubUser"},"authPrincipalDisplayName":{"title":"身份标识","description":"身份标识","type":"string","example":"205618123456123456"},"noPermissionType":{"title":"无权限原因","description":"无权限原因","type":"string","example":"ImplicitDeny"},"authAction":{"title":"导致无权限的具体操作","description":"导致无权限的具体操作","type":"string","example":"openapiexplorer:GetRequestLog"},"encodedDiagnosticMessage":{"title":"用于诊断的编码后信息。可调用 Ram 产品的 DecodeDiagnosticMessage OpenAPI 进一步诊断获得更多诊断信息。","description":"用于诊断的编码后信息。可调用 Ram 产品的 DecodeDiagnosticMessage OpenAPI 进一步诊断获得更多诊断信息。","type":"string","example":"-"}}},"httpMethod":{"title":"Http请求方式。","description":"HTTP请求方式。\n例如 GET PUT POST 等","type":"string","example":"GET"},"requestDuration":{"title":"网关从收到请求到返回响应的时间。单位毫秒（ms）。","description":"网关从收到请求到返回响应的时间。单位毫秒（ms）。","type":"string","example":"188"},"sdkRequestTime":{"title":"SDK请求时间。\n日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ","description":"发起请求时间。\n日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ","type":"string","example":"2025-01-21T07:43:06Z"},"gatewayProcessTime":{"title":"网关处理时间。\n日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ","description":"网关接收到请求的时间。\n日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ","type":"string","example":"2025-01-21T07:43:06Z"},"regionId":{"title":"服务区域ID。","description":"服务区域ID。","type":"string","example":"cn-hangzhou"},"endpoint":{"title":"服务区域对应的服务地址（Endpoint）。","description":"服务区域对应的服务地址（Endpoint）。","type":"string","example":"ecs.cn-hangzhou.aliyuncs.com"},"throttlingResult":{"title":"流控校验结果。FC.PASS：未被流控检查拦截；FC.DENY：被流控检查拦截。","description":"流控校验结果。FC.PASS：未被流控检查拦截（未产生速率流控）；FC.DENY：被流控检查拦截（发生速率流控）。","type":"string","example":"FC.PASS","enum":["FC.PASS","FC.DENY"]}}},"callerInfo":{"title":"调用者信息。","description":"调用者信息。","type":"object","properties":{"callerType":{"title":"调用者类型。\n1. customer：云账号；\n2. sub：RAM子用户；\n3. AssumedRoleUser：STS Token临时身份；","description":"调用者类型。\n1. customer：云账号；\n2. sub：RAM子用户；\n3. AssumedRoleUser：STS Token临时身份；","type":"string","example":"sub","enum":["customer","sub","AssumedRoleUser"]},"callerIp":{"title":"调用者的IP地址","description":"调用者的IP地址","type":"string","example":"100.68.xxx.xxx"},"masterAccountId":{"title":"主账号ID","description":"主账号ID","type":"string","example":"1973374733454118"},"callerAccountId":{"title":"调用者账号ID","description":"调用者账号ID","type":"string","example":"241009849925897811"},"userAgent":{"title":"用户代理信息","description":"用户代理信息","type":"string","example":"AlibabaCloud API Workbench"}}},"authenticationInfo":{"title":"认证信息","description":"认证信息","type":"object","properties":{"signatureVersion":{"title":"签名版本","description":"签名版本","type":"string","example":"unknown"},"signatureMethod":{"title":"签名方法。\n * HMAC-SHA1: 使用HMAC-SHA1算法进行签名\n * HMAC-SHA256: 使用HMAC-SHA256算法进行签名","description":"签名方法。\n * HMAC-SHA1: 使用HMAC-SHA1算法进行签名\n * HMAC-SHA256: 使用HMAC-SHA256算法进行签名","type":"string","example":"HMAC-SHA256","enum":[]},"authenticationType":{"title":"认证类型。\n * AK: 包括永久AK、临时AK、STS TOKEN等。\n * PRIVATEKEY：一种非对称加密类型的AK。\n * BEARERTOKEN：一种身份验证机制，广泛应用于 OAuth 2.0 框架和云服务中。\n * CUSTOM_SPI：一种高效且安全的认证方式，适用于云市场中 SaaS 类商品的交付和管理。\n * Anonymous：匿名访问。\n * DPS：类似于AK，但是签名算法不同于阿里云官方，个别产品专属。","description":"认证类型。\n * AK: 包括永久AK、临时AK、STS TOKEN等。\n * PRIVATEKEY：一种非对称加密类型的AK。\n * BEARERTOKEN：一种身份验证机制，广泛应用于 OAuth 2.0 框架和云服务中。\n * CUSTOM_SPI：一种高效且安全的认证方式，适用于云市场中 SaaS 类商品的交付和管理。\n * Anonymous：匿名访问。\n * DPS：类似于AK，但是签名算法不同于阿里云官方，个别产品专属。","type":"string","example":"AK","enum":[]}}},"parameters":{"title":"请求参数信息。","description":"请求参数信息。","type":"array","items":{"type":"object","properties":{"name":{"title":"请求参数名。","description":"请求参数名。","type":"string","example":"InstanceType"},"value":{"title":"请求参数值。","description":"请求参数值。","type":"any","example":"ecs.g6.large\n"},"required":{"title":"该请求参数是否必填。","description":"该请求参数是否必填。","type":"boolean","example":"false"},"type":{"title":"该请求参数类型。","description":"该请求参数类型。","type":"string","example":"string"}}}},"responses":{"title":"对应该请求的返回信息。","description":"对应该请求的返回信息。","type":"object","properties":{"responseBody":{"title":"返回信息。","description":"返回信息。","type":"string","example":"-"},"responseBodyFormat":{"title":"响应体类型。\nJSON、XML、HTML。","description":"响应体类型。\nJSON、XML、HTML。","type":"string","example":"JSON"}}}}},"requestId":{"title":"本次请求ID，与logRequestId非同一个参数。","description":"本次请求ID。","type":"string","example":"9BFC4AC1-6BE4-5405-BDEC-CA288D404812"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParam.LogRequestId","errorMessage":"Please ensure that the request ID you provided originates from a request you made to a certain OpenAPI.","description":"参数logRequestId无效。你请确保您提供的请求ID源自您向某个OpenAPI发出的请求。"}],"404":[{"errorCode":"NotFound.RequestLog","errorMessage":"The log related to this logRequestId does not exist, has expired, or you do not have permission to view it.","description":"与此logRequestId相关的日志不存在、已过期或您没有查看它的权限。"}]},"staticInfo":{"returnType":"synchronous"},"title":"查询API调用日志","changeSet":[],"flowControl":{"flowControlList":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"logInfo\\\": {\\n    \\\"basicInfo\\\": {\\n      \\\"api\\\": \\\"RunInstances\\\",\\n      \\\"apiDoc\\\": {\\n        \\\"aliyunSite\\\": \\\"https://api.aliyun.com/document/Ecs/2014-05-26/RunInstances\\\",\\n        \\\"alibabacloudSite\\\": \\\"https://api.alibabacloud.com/document/Ecs/2014-05-26/RunInstances\\\"\\n      },\\n      \\\"apiVersion\\\": \\\"2014-05-26\\\",\\n      \\\"product\\\": \\\"Ecs\\\",\\n      \\\"productName\\\": {\\n        \\\"cnName\\\": \\\"云服务器 ECS\\\",\\n        \\\"enName\\\": \\\"Elastic Compute Service\\\"\\n      },\\n      \\\"apiStyle\\\": \\\"roa\\\",\\n      \\\"logRequestId\\\": \\\"123E4567-E89B-12D3-A456-426614174000\\\",\\n      \\\"httpStatusCode\\\": \\\"404\\\",\\n      \\\"errorCode\\\": \\\"IncorrectStatus.TransitRouter\\\",\\n      \\\"errorMessage\\\": \\\"The resource is not in a valid state for the operation.\\\",\\n      \\\"accessDeniedDetail\\\": {\\n        \\\"policyType\\\": \\\"AccountLevelIdentityBasedPolicy\\\",\\n        \\\"authPrincipalOwnerId\\\": \\\"1001234561234567\\\",\\n        \\\"authPrincipalType\\\": \\\"SubUser\\\",\\n        \\\"authPrincipalDisplayName\\\": \\\"205618123456123456\\\",\\n        \\\"noPermissionType\\\": \\\"ImplicitDeny\\\",\\n        \\\"authAction\\\": \\\"openapiexplorer:GetRequestLog\\\",\\n        \\\"encodedDiagnosticMessage\\\": \\\"-\\\"\\n      },\\n      \\\"httpMethod\\\": \\\"GET\\\",\\n      \\\"requestDuration\\\": \\\"188\\\",\\n      \\\"sdkRequestTime\\\": \\\"2025-01-21T07:43:06Z\\\",\\n      \\\"gatewayProcessTime\\\": \\\"2025-01-21T07:43:06Z\\\",\\n      \\\"regionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"endpoint\\\": \\\"ecs.cn-hangzhou.aliyuncs.com\\\",\\n      \\\"throttlingResult\\\": \\\"FC.PASS\\\"\\n    },\\n    \\\"callerInfo\\\": {\\n      \\\"callerType\\\": \\\"sub\\\",\\n      \\\"callerIp\\\": \\\"100.68.xxx.xxx\\\",\\n      \\\"masterAccountId\\\": \\\"1973374733454118\\\",\\n      \\\"callerAccountId\\\": \\\"241009849925897811\\\",\\n      \\\"userAgent\\\": \\\"AlibabaCloud API Workbench\\\"\\n    },\\n    \\\"authenticationInfo\\\": {\\n      \\\"signatureVersion\\\": \\\"unknown\\\",\\n      \\\"signatureMethod\\\": \\\"HMAC-SHA256\\\",\\n      \\\"authenticationType\\\": \\\"AK\\\"\\n    },\\n    \\\"parameters\\\": [\\n      {\\n        \\\"name\\\": \\\"InstanceType\\\",\\n        \\\"value\\\": \\\"ecs.g6.large\\\\n\\\",\\n        \\\"required\\\": false,\\n        \\\"type\\\": \\\"string\\\"\\n      }\\n    ],\\n    \\\"responses\\\": {\\n      \\\"responseBody\\\": \\\"-\\\",\\n      \\\"responseBodyFormat\\\": \\\"JSON\\\"\\n    }\\n  },\\n  \\\"requestId\\\": \\\"9BFC4AC1-6BE4-5405-BDEC-CA288D404812\\\"\\n}\",\"type\":\"json\"}]"}},"endpoints":[{"regionId":"cn-qingdao","regionName":"华北1（青岛）","areaId":"asiaPacific","areaName":"亚太","public":"openapiexplorer.aliyuncs.com","endpoint":"openapiexplorer.aliyuncs.com","vpc":""},{"regionId":"cn-huhehaote","regionName":"华北5（呼和浩特）","areaId":"asiaPacific","areaName":"亚太","public":"openapiexplorer.aliyuncs.com","endpoint":"openapiexplorer.aliyuncs.com","vpc":""},{"regionId":"cn-beijing","regionName":"华北2（北京）","areaId":"asiaPacific","areaName":"亚太","public":"openapiexplorer.aliyuncs.com","endpoint":"openapiexplorer.aliyuncs.com","vpc":""}],"errorCodes":[{"code":"InvalidApiMcpServer.NotFound","message":"The specified ApiMcpServer does not exist.","http_code":404,"description":""},{"code":"InvalidParam.AcceptLanguage","message":"Accepted language should only be zh-CN or en-US.","http_code":400,"description":""},{"code":"InvalidParam.Apis","message":"Apis is mandatory for this action.","http_code":400,"description":""},{"code":"InvalidParam.ErrorCode","message":"The errorCode should be a string and cannot be empty.","http_code":400,"description":""},{"code":"InvalidParam.ErrorMessage","message":"The errorMessage should be a string or null.","http_code":400,"description":""},{"code":"InvalidParam.LogRequestId","message":"Please ensure that the request ID you provided originates from a request you made to a certain OpenAPI.","http_code":400,"description":""},{"code":"InvalidParam.ParentId","message":"ParentId is mandatory for this action.","http_code":400,"description":""},{"code":"InvalidParam.Path","message":"Path is mandatory for this action.","http_code":400,"description":""},{"code":"InvalidParam.PopCode","message":"PopCode is mandatory for this action.","http_code":400,"description":""},{"code":"InvalidParam.PopVersion","message":"PopVersion is mandatory for this action.","http_code":400,"description":""},{"code":"InvalidParam.Product","message":"The product should be a string or null.","http_code":400,"description":""},{"code":"InvalidParam.Selectors","message":"Selectors is mandatory for this action.","http_code":400,"description":""},{"code":"NotFound.Product","message":"The provided product does not exist.","http_code":404,"description":""},{"code":"NotFound.RequestLog","message":"The log related to this logRequestId does not exist, has expired, or you do not have permission to view it.","http_code":404,"description":""}],"changeSet":[],"flowControl":{"flowControlList":[]}}