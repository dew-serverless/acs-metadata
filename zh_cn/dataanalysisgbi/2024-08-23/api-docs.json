{"version":"1.0","info":{"style":"ROA","product":"DataAnalysisGBI","version":"2024-08-23"},"directories":[{"id":199743,"title":"数据源管理","type":"directory","children":["SyncRemoteTables","CreateDatasourceAuthorization","CancelDatasourceAuthorization"]},{"id":199747,"title":"虚拟数据源","type":"directory","children":["DeleteVirtualDatasourceInstance","SaveVirtualDatasourceDdl","CreateVirtualDatasourceInstance","UpdateVirtualDatasourceInstance","ListVirtualDatasourceInstance"]},{"id":199753,"title":"智能问数","type":"directory","children":["RunDataAnalysis"]}],"components":{"schemas":{}},"apis":{"SyncRemoteTables":{"summary":"更新当前业务空间所关联的数据表，从远程数据源（虚拟数据源）同步最近的表并关联到您所指定的业务空间。","path":"/gbi/update/datasource/tables","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"query","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":true,"example":"llm-2v3934xtp49esw64\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"tableNames":{"description":"需要关联的数据表的名称列表","type":"array","items":{"description":"数据表名称","type":"string","required":false,"example":"user"},"required":true},"pullSamples":{"description":"关联数据表时是否拉取数据样例","type":"boolean","required":false,"example":"true"},"keepTableNames":{"description":"关联数据表时，需要保留之前维护信息的表名称列表","type":"array","items":{"description":"数据表名称","type":"string","required":false,"example":"order"},"required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"Result","description":"Result","type":"object","properties":{"data":{"description":"返回信息","type":"any","example":"true"},"errorMsg":{"description":"错误描述信息","type":"string","example":"NoAuth"},"code":{"description":"错误码","type":"string","example":"NoAuth"},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true"},"requestId":{"description":"请求id，每次请求都是唯一值，便于后续排查问题","type":"string","example":"E9563C85-5810-5835-B68C-78580BC3169E"}}}}},"errorCodes":{"401":[{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."},{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": \\\"true\\\",\\n  \\\"errorMsg\\\": \\\"NoAuth\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"E9563C85-5810-5835-B68C-78580BC3169E\\\"\\n}\",\"type\":\"json\"}]","title":"从数据源同步数据表"},"CreateDatasourceAuthorization":{"summary":"创建数据库关联授权，在您指定的业务空间，对指定的数据源进行关联关系的创建，创建后可以对数据源下的表结构进行采集。","path":"/gbi/create/datasource","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"query","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":true,"example":"llm-2v3934xtp49esw64\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"type":{"description":"当前关联数据源的类型","type":"integer","format":"int32","required":true,"enumValueTitles":{"1":"mysql类型数据源","2":"postgresql类型数据源","10":"hologress类型数据源","11":"mysql类型数据源使用vpc链接","12":"postgresql类型数据源使用vpc链接","51":"mysql类型虚拟数据源实例","52":"postgresql类型虚拟数据源实例"},"example":"1"},"url":{"description":"当前创建数据源的jdbc链接串地址","type":"string","required":false,"example":"jdbc:mysql://rm-2zedvv990c8d8rj8ejo.mysql.rds.aliyuncs.com:3306/gbi_good_case"},"userName":{"description":"登陆当前数据源的用户名名称","type":"string","required":false,"example":"root"},"password":{"description":"登陆当前数据源所使用的用户名的密码","type":"string","required":false,"example":"password"},"vdbId":{"description":"关联的类型为虚拟数据源时填写，内容为虚拟数据源的实例id，其他情况无需填写","type":"string","required":false,"example":"vdb-E0F693C8-9F72-5830-B81A-696C9D8EBBD1\n"}},"required":false}}],"responses":{"200":{"schema":{"title":"Result","description":"Result","type":"object","properties":{"data":{"description":"返回信息","type":"any","example":"true"},"errorMsg":{"description":"错误描述信息","type":"string","example":"NoAuth"},"code":{"description":"错误码","type":"string","example":"NoAuth"},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true"},"requestId":{"description":"请求id，每次请求都是唯一值，便于后续排查问题","type":"string","example":"E0F693C8-9F72-5830-B81A-696C9D8EBBD1"}}}}},"errorCodes":{"401":[{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."},{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": \\\"true\\\",\\n  \\\"errorMsg\\\": \\\"NoAuth\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"E0F693C8-9F72-5830-B81A-696C9D8EBBD1\\\"\\n}\",\"type\":\"json\"}]","title":"数据源关联关系授权"},"CancelDatasourceAuthorization":{"summary":"取消关联的数据源授权。","path":"/gbi/cancel/datasource","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"query","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":true,"example":"llm-2v3934xtp49esw64\n"}}],"responses":{"200":{"schema":{"title":"Result","description":"Result","type":"object","properties":{"data":{"description":"返回信息","type":"any","example":"true"},"errorMsg":{"description":"错误描述信息","type":"string","example":"NoAuth"},"code":{"description":"错误码","type":"string","example":"NoAuth"},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true"},"requestId":{"description":"请求id，每次请求都是唯一值，便于后续排查问题","type":"string","example":"FB11F719-9AC8-5C99-AB0A-4709D437FCFC"}}}}},"errorCodes":{"401":[{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."},{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": \\\"true\\\",\\n  \\\"errorMsg\\\": \\\"NoAuth\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"FB11F719-9AC8-5C99-AB0A-4709D437FCFC\\\"\\n}\",\"type\":\"json\"}]","title":"取消数据源关联关系授权"},"DeleteVirtualDatasourceInstance":{"summary":"删除指定业务空间下面的虚拟数据源实例。","path":"/gbi/virtualDatasource/deleteVirtualDatasourceInstance","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"query","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":true,"example":"llm-2v3934xtp49esw64\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"vdbId":{"description":"虚拟数据源实例id","type":"string","required":true,"example":"vdb-7D63529B-5D42-5BF0-84E4-F742FFE02E7F\n"}},"required":false}}],"responses":{"200":{"schema":{"title":"Result","description":"Result","type":"object","properties":{"data":{"description":"响应数据。即成功与否。","type":"any","example":"true"},"errorMsg":{"description":"错误描述信息。","type":"string","example":"NoAuth"},"code":{"description":"错误码。","type":"string","example":"NoAuth"},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true"},"requestId":{"description":"请求id，每次请求都是唯一值，便于后续排查问题","type":"string","example":"7D63529B-5D42-5BF0-84E4-F742FFE02E7F"}}}}},"errorCodes":{"401":[{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."},{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": \\\"true\\\",\\n  \\\"errorMsg\\\": \\\"NoAuth\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"7D63529B-5D42-5BF0-84E4-F742FFE02E7F\\\"\\n}\",\"type\":\"json\"}]","title":"删除虚拟数据源实例"},"SaveVirtualDatasourceDdl":{"summary":"向您当前指定的业务空间下指定的虚拟数据源实例中添加ddl语句，析言GBI云服务会将您的ddl语句解析成相关的表结构信息并进行维护。","path":"/gbi/virtualDatasource/addDdl2VirtualInstance","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"query","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":true,"example":"llm-2v3934xtp49esw64\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"vdbId":{"description":"虚拟数据源实例id","type":"string","required":true,"example":"vdb-E0F693C8-9F72-5830-B81A-696C9D8EBBD1\n"},"ddl":{"description":"create类型数据库ddl语句，支持传入多条","type":"string","required":true,"example":"CREATE TABLE user (id int NOT NULL AUTO_INCREMENT comment 'ID',name varchar(10) NOT NULL comment '姓名', dept_id int NOT NULL comment '部门ID', salary bigint NULL DEFAULT 0 comment '薪水',  PRIMARY KEY (`id`),   KEY `idx_name` (`name`),   KEY `d_id` (`dept_id`),    CONSTRAINT `d_id` FOREIGN KEY (`dept_id`) REFERENCES `department` (`id`)) COMMENT='This is my table' ENGINE=InnoDB AUTO_INCREMENT=20094 DEFAULT CHARSET=utf8 ;"}},"required":false}}],"responses":{"200":{"schema":{"title":"Result","description":"Result","type":"object","properties":{"data":{"description":"返回信息","type":"any","example":"true"},"errorMsg":{"description":"错误描述信息","type":"string","example":"NoAuth"},"code":{"description":"错误码","type":"string","example":"NoAuth"},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true"},"requestId":{"description":"请求id，每次请求都是唯一值，便于后续排查问题\n\n","type":"string","example":"72ABCA5B-1E93-55D3-8A61-6D8A03CC5C8B"}}}}},"errorCodes":{"401":[{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."},{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": \\\"true\\\",\\n  \\\"errorMsg\\\": \\\"NoAuth\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"72ABCA5B-1E93-55D3-8A61-6D8A03CC5C8B\\\"\\n}\",\"type\":\"json\"}]","title":"向虚拟数据源中添加ddl语句"},"CreateVirtualDatasourceInstance":{"summary":"在您指定的业务空间创建虚拟数据源实例，虚拟数据源实例代表着一个虚拟的数据库，可以向虚拟数据源中添加ddl语句，来完成您构建虚拟数据库，数据表的能力。","path":"/gbi/virtualDatasource/createVirtualDatasourceInstance","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"query","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":true,"example":"llm-2v3934xtp49esw64\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"name":{"description":"虚拟数据源实例的名字","type":"string","required":false,"example":"virtual-instance-1"},"description":{"description":"虚拟数据源实例的描述","type":"string","required":false,"example":"虚拟数据源实例的描述"},"type":{"description":"当前虚拟数据源的类型","type":"integer","format":"int32","required":false,"enumValueTitles":{"51":"mysql类型虚拟数据源","52":"postgresql类型虚拟数据源"},"example":"51"}},"required":false}}],"responses":{"200":{"schema":{"title":"Result","description":"Result","type":"object","properties":{"data":{"description":"响应数据。即成功与否。","type":"any","example":"true"},"errorMsg":{"description":"错误信息","type":"string","example":"NoAuth"},"code":{"description":"错误码。","type":"string","example":"NoAuth"},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true"},"requestId":{"description":"请求id，每次请求都是唯一值，便于后续排查问题","type":"string","example":"D02D895A-5E58-5A9F-963D-D8B027AB7AE2"}}}}},"errorCodes":{"401":[{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."},{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": \\\"true\\\",\\n  \\\"errorMsg\\\": \\\"NoAuth\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"D02D895A-5E58-5A9F-963D-D8B027AB7AE2\\\"\\n}\",\"type\":\"json\"}]","title":"创建虚拟数据源实例"},"UpdateVirtualDatasourceInstance":{"summary":"修改指定业务空间下所指定的虚拟数据源的信息。","path":"/gbi/virtualDatasource/updateVirtualDatasourceInstance","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"query","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":false,"example":"llm-2v3934xtp49esw64\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"name":{"description":"虚拟数据源的名字","type":"string","required":false,"example":"虚拟数据源1"},"description":{"description":"虚拟数据源的描述","type":"string","required":false,"example":"用于订单表的虚拟数据源实例"},"vdbId":{"description":"虚拟数据源实例id","type":"string","required":true,"example":"vdb-E0F693C8-9F72-5830-B81A-696C9D8EBBD1\n"},"type":{"description":"当前虚拟数据源的类型","type":"integer","format":"int32","required":false,"enumValueTitles":{"51":"mysql类型虚拟数据源","52":"postgresql类型虚拟数据源"},"example":"51"}},"required":false}}],"responses":{"200":{"schema":{"title":"Result","description":"Result","type":"object","properties":{"data":{"description":"返回信息","type":"any","example":"true"},"errorMsg":{"description":"错误描述信息","type":"string","example":"NoAuth"},"code":{"description":"错误码","type":"string","example":"NoAuth"},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true"},"requestId":{"description":"请求id，每次请求都是唯一值，便于后续排查问题","type":"string","example":"E9563C85-5810-5835-B68C-78580BC3169E"}}}}},"errorCodes":{"401":[{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."},{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": \\\"true\\\",\\n  \\\"errorMsg\\\": \\\"NoAuth\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"E9563C85-5810-5835-B68C-78580BC3169E\\\"\\n}\",\"type\":\"json\"}]","title":"修改虚拟数据源实例信息"},"ListVirtualDatasourceInstance":{"summary":"获取当前业务空间下的数据源实例列表。","path":"/gbi/virtualDatasource/listVirtualDatasourceInstance","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"query","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":true,"example":"llm-2v3934xtp49esw64\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"nextToken":{"description":"分页游标。\n\n- 如果是首次调用，该参数不传。\n\n- 如果是非首次调用，该参数传上传调用时返回的nextToken。","type":"string","required":false,"example":"e8Z0nRyY51ZQmYljqGNK"},"maxResults":{"description":"每页最大条目数","type":"integer","format":"int32","required":false,"example":"100"}},"required":false}}],"responses":{"200":{"schema":{"title":"Result","description":"Result","type":"object","properties":{"data":{"description":"数据列表。","type":"any","example":"{\n    \"data\": [\n        {\n            \"gmtModified\": 1732708238000,\n            \"vdbId\": \"vdb-0380ee25-2f49-4ee1-8de4-419a16da5904\",\n            \"name\": \"测试创建虚拟数据源实例\",\n            \"description\": \"通过sdk创建的虚拟数据源实例\",\n            \"id\": 9,\n            \"gmtCreate\": 1732708238000,\n            \"workspaceId\": \"10021406\"\n        }\n    ],\n    \"nextToken\": \"jN4HsrkljlksnWgb8u5mWQ\\u003d\\u003d\",\n    \"totalCount\": 0\n}"},"errorMsg":{"description":"错误描述信息。","type":"string","example":"NoAuth"},"code":{"description":"错误码","type":"string","example":"NoAuth"},"success":{"description":"调用是否成功。\ntrue，表示成功；\nfalse，表示失败。","type":"boolean","example":"true"},"requestId":{"description":"请求id，每次请求都是唯一值，便于后续排查问题\n\n","type":"string","example":"45390C6D-016D-5030-BF65-031ED1F65003"}}}}},"errorCodes":{"401":[{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."},{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": \\\"{\\\\n    \\\\\\\"data\\\\\\\": [\\\\n        {\\\\n            \\\\\\\"gmtModified\\\\\\\": 1732708238000,\\\\n            \\\\\\\"vdbId\\\\\\\": \\\\\\\"vdb-0380ee25-2f49-4ee1-8de4-419a16da5904\\\\\\\",\\\\n            \\\\\\\"name\\\\\\\": \\\\\\\"测试创建虚拟数据源实例\\\\\\\",\\\\n            \\\\\\\"description\\\\\\\": \\\\\\\"通过sdk创建的虚拟数据源实例\\\\\\\",\\\\n            \\\\\\\"id\\\\\\\": 9,\\\\n            \\\\\\\"gmtCreate\\\\\\\": 1732708238000,\\\\n            \\\\\\\"workspaceId\\\\\\\": \\\\\\\"10021406\\\\\\\"\\\\n        }\\\\n    ],\\\\n    \\\\\\\"nextToken\\\\\\\": \\\\\\\"jN4HsrkljlksnWgb8u5mWQ\\\\\\\\u003d\\\\\\\\u003d\\\\\\\",\\\\n    \\\\\\\"totalCount\\\\\\\": 0\\\\n}\\\",\\n  \\\"errorMsg\\\": \\\"NoAuth\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"45390C6D-016D-5030-BF65-031ED1F65003\\\"\\n}\",\"type\":\"json\"}]","title":"虚拟数据源实例列表"},"RunDataAnalysis":{"summary":"析言为您提供了与官方页面对话效果相同的open api接口，只需传入workspaceId以及query等相关信息，即可对您已经创建好的业务空间进行问答和数据分析。","path":"/{workspaceId}/gbi/runDataAnalysis","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":[],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREsfmXG6QUJ"],"tenantRelevance":"tenant"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"当前请求所使用的百炼业务空间id","type":"string","required":true,"example":"llm-2v3934xtp49esw64\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"specificationType":{"description":"当前请求指定使用的版本信息，不填时使用默认业务空间版本","type":"string","required":false,"enumValueTitles":{"STANDARD_TURBO":"标准版turbo","STANDARD_MIX":"标准版mix","CUSTOMIZATION":"定制版turbo"},"example":"STANDARD_MIX"},"generateSqlOnly":{"description":"当前请求只生成并返回sql，不会执行","type":"boolean","required":false,"example":"true"},"query":{"description":"用户输入的query","type":"string","required":true,"example":"请问销量前十的产品有哪些"},"sessionId":{"description":"消息会话ID，服务窗回调消息返回的会话ID。","type":"string","required":false,"example":"sessionID"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"data":{"description":"返回信息","type":"object","properties":{"errorMessage":{"description":"错误信息","type":"string","example":"Access was denied, message: No such namespace namespaces/tech-scp-chain7."},"event":{"description":"事件类型","type":"string","enumValueTitles":{"result":"result","evidence":"evidence","sql_part":"sql_part","sql_data":"sql_data","selector":"selector","rewrite":"rewrite","sql":"sql"},"example":"rewrite"},"evidence":{"description":"所用到的辅助模型推理的信息","type":"string","example":"今年是2024年"},"requestId":{"description":"当前本次请求的id","type":"string","example":"DA2578F7-88A5-5D6E-9305-33E724E97D60"},"rewrite":{"description":"改写后的用户输入","type":"string","example":"查询全部关键字数据，并以饼图形式展示"},"selector":{"description":"这次对话，召回了哪些表以用于sql的生成","type":"array","items":{"description":"召回的具体的表的名字","type":"string","example":"table_name1"}},"sessionId":{"description":"对话ID","type":"string","example":"sessionid1"},"sql":{"description":"当前对话生成的SQL语句","type":"string","example":"select p.product_id, p.product_name, sum(o.quantity) as total_sales from products p join orders o on p.product_id = o.product_id where o.order_date between '2022-10-22' and '2024-10-22' group by p.product_id, p.product_name having total_sales > 5"},"sqlData":{"description":"sql执行所返回的结构化内容","type":"object","properties":{"column":{"description":"sql执行结果中，查询的具体的字段名字","type":"array","items":{"description":"具体的字段名字内容","type":"string","example":"product"}},"data":{"description":"sql执行后获取的结构化数据，可能是多条","type":"array","items":{"description":"sql执行后所查询到的结构化数据的一条内容","type":"object","example":"{\n                    \"product_id\": \"29\",\n                    \"total_sales\": \"63\",\n                    \"product_name\": \"1L迷你电热水壶\"\n                }"}}}},"sqlError":{"description":"当任务执行失败时，此字段会报错导致任务失败的原因","type":"string","example":"Can not issue data manipulation statements with executeQuery()"},"visualization":{"description":"用于可视化模块展示所需要的信息","type":"object","properties":{"data":{"description":"用于可视化模块展示的结构化信息","type":"object","properties":{"plotType":{"description":"可视化图表展示的类型","type":"string","enumValueTitles":{"bar":"柱状图","line":"折线图","pie":"饼状图"},"example":"bar"},"xAxis":{"description":"可视化图表中x轴的内容","type":"array","items":{"description":"具体某一个x轴所展示的字段","type":"string","example":"product_name"}},"yAxis":{"description":"可视化图表中y轴的内容","type":"array","items":{"description":"具体某一个y轴所展示的字段","type":"string","example":"total_sales"}}}},"text":{"description":"对于sql执行结果的分析总结","type":"string","example":"查询结果显示，在过去两年中销量超过5的所有产品包括：2L大容量空气炸锅销售了109件，青春版运动手环销售了119件，2L大容量全自动豆浆机销售了106件，无线蓝牙耳机快充版销售了84件，2L大容量便携式榨汁机销售了136件，青春版智能手表销售了104件，挂壁式护眼台灯销售了102件，P30手机8+256G销售了83件，2L大容量电热水壶销售了84件，男士电动化妆刷套装销售了197件，旅行箱销售了82件，手链销售了101件，项链销售了84件，头饰发链销售了89件，腕表销售了98件，戒指销售了157件，真皮皮包销售了136件，风衣大衣销售了76件，运动旅行包销售了91件，丝巾销售了265件，1L迷你空气炸锅销售了85件，豪华款运动手环销售了132件，1L迷你全自动豆浆机销售了81件，豪华版无线蓝牙耳机（绿色）销售了122件，1L迷你便携式榨汁机销售了76件，豪华款智能手表销售了76件，粘贴式护眼台灯销售了109件，M60手机16+512G销售了109件，1L迷你电热水壶销售了63件，女士电动化妆刷套装销售了158件。"}}},"httpStatusCode":{"description":"当前某一轮事件透出的http状态码，正常情况下不会额外透出，无需处理","type":"integer","format":"int64","example":"200"}}},"message":{"description":"系统错误透出的报错信息，用于报错排查，无需用户处理","type":"string","example":"org.springframework.core.task.TaskRejectedException: ExecutorService in active state did not accept task: java.util.concurrent.CompletableFuture$AsyncSupply@25653b3b"},"code":{"description":"系统错误透出的错误码，用于报错排查，无需用户处理","type":"string","example":"NoAuth"},"httpStatusCode":{"description":"当前本次请求透出的http状态码，正常情况下不会额外透出，无需处理","type":"integer","format":"int64","example":"200"}}}}},"errorCodes":{"401":[{"errorCode":"NoAuth","errorMessage":"Bad Request: Workspace.Illegal.Auth."},{"errorCode":"Internal.Error","errorMessage":"Bad Request: Internal Error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": {\\n    \\\"errorMessage\\\": \\\"Access was denied, message: No such namespace namespaces/tech-scp-chain7.\\\",\\n    \\\"event\\\": \\\"rewrite\\\",\\n    \\\"evidence\\\": \\\"今年是2024年\\\",\\n    \\\"requestId\\\": \\\"DA2578F7-88A5-5D6E-9305-33E724E97D60\\\",\\n    \\\"rewrite\\\": \\\"查询全部关键字数据，并以饼图形式展示\\\",\\n    \\\"selector\\\": [\\n      \\\"table_name1\\\"\\n    ],\\n    \\\"sessionId\\\": \\\"sessionid1\\\",\\n    \\\"sql\\\": \\\"select p.product_id, p.product_name, sum(o.quantity) as total_sales from products p join orders o on p.product_id = o.product_id where o.order_date between '2022-10-22' and '2024-10-22' group by p.product_id, p.product_name having total_sales > 5\\\",\\n    \\\"sqlData\\\": {\\n      \\\"column\\\": [\\n        \\\"product\\\"\\n      ],\\n      \\\"data\\\": [\\n        {\\n          \\\"product_id\\\": \\\"29\\\",\\n          \\\"total_sales\\\": \\\"63\\\",\\n          \\\"product_name\\\": \\\"1L迷你电热水壶\\\"\\n        }\\n      ]\\n    },\\n    \\\"sqlError\\\": \\\"Can not issue data manipulation statements with executeQuery()\\\",\\n    \\\"visualization\\\": {\\n      \\\"data\\\": {\\n        \\\"plotType\\\": \\\"bar\\\",\\n        \\\"xAxis\\\": [\\n          \\\"product_name\\\"\\n        ],\\n        \\\"yAxis\\\": [\\n          \\\"total_sales\\\"\\n        ]\\n      },\\n      \\\"text\\\": \\\"查询结果显示，在过去两年中销量超过5的所有产品包括：2L大容量空气炸锅销售了109件，青春版运动手环销售了119件，2L大容量全自动豆浆机销售了106件，无线蓝牙耳机快充版销售了84件，2L大容量便携式榨汁机销售了136件，青春版智能手表销售了104件，挂壁式护眼台灯销售了102件，P30手机8+256G销售了83件，2L大容量电热水壶销售了84件，男士电动化妆刷套装销售了197件，旅行箱销售了82件，手链销售了101件，项链销售了84件，头饰发链销售了89件，腕表销售了98件，戒指销售了157件，真皮皮包销售了136件，风衣大衣销售了76件，运动旅行包销售了91件，丝巾销售了265件，1L迷你空气炸锅销售了85件，豪华款运动手环销售了132件，1L迷你全自动豆浆机销售了81件，豪华版无线蓝牙耳机（绿色）销售了122件，1L迷你便携式榨汁机销售了76件，豪华款智能手表销售了76件，粘贴式护眼台灯销售了109件，M60手机16+512G销售了109件，1L迷你电热水壶销售了63件，女士电动化妆刷套装销售了158件。\\\"\\n    },\\n    \\\"httpStatusCode\\\": 200\\n  },\\n  \\\"message\\\": \\\"org.springframework.core.task.TaskRejectedException: ExecutorService in active state did not accept task: java.util.concurrent.CompletableFuture$AsyncSupply@25653b3b\\\",\\n  \\\"code\\\": \\\"NoAuth\\\",\\n  \\\"httpStatusCode\\\": 200\\n}\",\"type\":\"json\"}]","title":"Chat对话接口","description":"请确保在使用该接口前，已充分了解析言产品的收费方式和[价格](https://common-buy.aliyun.com/?&msctype=email&mscareaid=cn&mscsiteid=cn&mscmsgid=3800124102101018568&yunge_info=email___3800124102101018568&commodityCode=sfm_DataAnalysisGBI_public_cn)。"}},"endpoints":[{"regionId":"cn-beijing","endpoint":"dataanalysisgbi.cn-beijing.aliyuncs.com"}]}