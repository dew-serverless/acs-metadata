{"version":"1.0","info":{"style":"RPC","product":"Dms","version":"2025-04-14"},"directories":["CreateAirflowLoginToken"],"components":{"schemas":{"DLCatalog":{"title":"Catalog","description":"数据目录详情。","type":"object","properties":{"Description":{"title":"Description","description":"数据目录描述。","type":"string","example":"init default catalog"},"Name":{"title":"Name","description":"数据目录名称。","type":"string","example":"hive"},"Location":{"title":"Location","description":"数据目录存储路径。","type":"string","example":"oss://xxxx"}}},"DLColumn":{"title":"Column","description":"列属性。","type":"object","properties":{"Comment":{"title":"comment","description":"列的注释。","type":"string","example":"from deserializer"},"Type":{"title":"type","description":"列的数据类型，包括 array bigint binary boolean char date decimal double float int interval map set smallint string struct timestamp tinyint union varchar。","type":"string","example":"string"},"Name":{"title":"name","description":"列的名称。","type":"string","example":"col"}}},"DLDatabase":{"title":"Database","description":"湖仓数据库详情。","type":"object","properties":{"Description":{"title":"description","description":"数据库描述。","type":"string","example":"Default database for catalog hive\n"},"Parameters":{"description":"数据库相关参数。","type":"object","example":"key/value"},"DbId":{"title":"dbId","description":"数据库 ID。","type":"integer","format":"int64","example":"19"},"CatalogName":{"title":"catalogName","description":"数据目录名称。","type":"string","example":"hive"},"Name":{"title":"name","description":"数据库名称。","type":"string","example":"default"},"Location":{"title":"location","description":"数据库存储路径。","type":"string","example":"oss://xxx"}}},"DLFunction":{"description":"函数信息。","type":"object","properties":{"FunctionName":{"description":"函数名称。","type":"string","example":"my_funciton"},"OwnerName":{"description":"函数所有者。","type":"string","example":"zhangsan"},"OwnerType":{"description":"所有者类型，枚举值：\n\n- ROLE\n- GROUP\n- USER","type":"string","example":"USER"},"CreatorId":{"description":"创建该函数的用户ID。","type":"integer","format":"int64","example":"12****"},"FunctionType":{"description":"函数类型。","type":"string","example":"JAVA"},"CreateTime":{"description":"函数的创建时间。","type":"integer","format":"int32","example":"1731586286"},"ResourceUris":{"description":"该函数的资源URIs，函数创建后不支持修改。","type":"array","items":{"description":"访问该资源的URI。","$ref":"#/components/schemas/DLResourceUri"}},"ClassName":{"description":"包含函数代码的Java类。","type":"string","example":"com.example.hive.MyCustomUDF"},"CatalogName":{"description":"数据目录名。","type":"string","example":"hive"},"DbName":{"description":"数据库名称。","type":"string","example":"default"},"ModifierId":{"description":"修改该函数的用户ID。","type":"integer","format":"int64","example":"26****"}}},"DLFunctionInput":{"description":"函数信息。","type":"object","properties":{"FunctionName":{"description":"函数名称。","type":"string","example":"my_funciton"},"OwnerName":{"description":"函数所有者。","type":"string","example":"zhangsan"},"OwnerType":{"description":"所有者类型，枚举值：\n\n- ROLE\n- GROUP\n- USER","type":"string","example":"USER"},"CreatorId":{"description":"创建该函数的用户ID。","type":"integer","format":"int64","example":"12****"},"FunctionType":{"description":"函数类型。","type":"string","example":"JAVA"},"CreateTime":{"description":"函数的创建时间。","type":"integer","format":"int32","example":"1731586286"},"ResourceUris":{"description":"该函数的资源URIs，函数创建后不支持修改。","type":"array","items":{"description":"访问该资源的URI。","$ref":"#/components/schemas/DLResourceUri"}},"ClassName":{"description":"包含函数代码的Java类。","type":"string","example":"com.example.hive.MyCustomUDF"},"ModifierId":{"description":"修改该函数的用户ID。","type":"integer","format":"int64","example":"26****"}}},"DLOrder":{"title":"Order","description":"列排序信息。","type":"object","properties":{"Order":{"title":"order","description":"该列在排序中的位置。","type":"integer","format":"int32","example":"1"},"Col":{"title":"col","description":"列的名称。","type":"string","example":"col1"}}},"DLPartition":{"description":"分区信息。","type":"object","properties":{"TableName":{"description":"表名称。","type":"string","example":"table_name"},"Sd":{"description":"数据存储描述。","$ref":"#/components/schemas/DLStorageDescriptor"},"Parameters":{"description":"分区的键值对。","type":"object","additionalProperties":{"description":"键值对，key及value。","type":"string","example":"{\"key\":\"value\"}"}},"CreateTime":{"description":"分区的创建时间，时间格式为UNIX时间戳秒数。","type":"integer","format":"int32","example":"1735109884"},"Values":{"description":"分区值。","type":"array","items":{"description":"分区列的值。","type":"string","example":"part_val1"}},"CatalogName":{"description":"数据目录名称。","type":"string","example":"hive"},"DbName":{"description":"数据库名称。","type":"string","example":"default"},"LastAccessTime":{"description":"上次访问该表的时间。","type":"integer","format":"int32","example":"1608707407"}}},"DLPartitionInput":{"description":"湖仓表分区信息","type":"object","properties":{"Parameters":{"description":"分区的键值对参数","type":"object","additionalProperties":{"description":"键值对 key/value","type":"string","example":"{\"key\":\"value\"}"}},"CreateTime":{"description":"创建时间，Unix 时间戳秒数","type":"integer","format":"int32","example":"1735109884"},"Values":{"description":"分区值","type":"array","items":{"description":"分区列的值","type":"string","example":"part_val1"}},"StorageDescriptor":{"description":"湖仓表数据存储信息","$ref":"#/components/schemas/DLStorageDescriptor"},"LastAccessTime":{"description":"上一次访问分区的时间，Unix 时间戳秒数","type":"integer","format":"int32","example":"1735109884"}}},"DLResourceUri":{"description":"资源信息。","type":"object","properties":{"ResourceType":{"description":"资源类型。枚举值：\n- ARCHIVE\n- JAR\n- FILE","type":"string","example":"JAR"},"Uri":{"description":"访问该资源的URL。","type":"string","example":"hdfs://name****.example.com:8020/user/hive/udfs/my_***.jar"}}},"DLSerdeInfo":{"title":"SerdeInfo","description":"序列化和反序列化信息。","type":"object","properties":{"SerializationLib":{"title":"serializationLib","description":"使用的序列化库的类名称。","type":"string","example":"org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe"},"DeserializerClass":{"title":"deserializerClass","description":"用于反序列化的具体类名。","type":"string","example":"org.apache.hadoop.hive.serde2.OpenCSVSerde"},"Parameters":{"title":"parameters","description":"序列化相关的参数键值对。","type":"object","example":"{\n  \"serialization.format\": \"1\"\n}"},"Description":{"title":"description","description":"描述序列化的信息。","type":"string","example":"\"serialize\""},"SerdeType":{"description":"序列化的类型。","type":"integer","format":"int32","example":"0"},"SerializerClass":{"title":"serializerClass","description":"用于序列化的具体类名。","type":"string","example":"org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe"},"Name":{"title":"name","description":"序列化名称。","type":"string","example":"name"}}},"DLSkewedInfo":{"title":"SkewedInfo","description":"存储倾斜列信息的数据结构。","type":"object","properties":{"SkewedColValues":{"title":"skewedColValues","description":"倾斜列值的列表，其中每个列表提供了一组相关联的值。","type":"array","items":{"description":"倾斜值列表。","type":"array","items":{"description":"倾斜值。","type":"string","example":"\"123\""}}},"SkewedColValueLocationMaps":{"title":"skewedColValueLocationMaps","description":"倾斜列值及其位置的映射关系。","type":"object","example":"{“col1”:\"val1\"}"},"SkewedColNames":{"title":"skewedColNames","description":"倾斜列的名称列表。","type":"array","items":{"description":"倾斜字段。","type":"string","example":"col1"}}}},"DLStorageDescriptor":{"title":"StorageDescriptor","description":"湖仓表数据存储信息","type":"object","properties":{"OriginalColumns":{"title":"originalColumns","description":"原始列描述信息。","type":"array","items":{"description":"列属性。","$ref":"#/components/schemas/DLColumn"}},"SortCols":{"title":"sortCols","description":"排序列的描述信息。","type":"array","items":{"description":"列排序信息。","$ref":"#/components/schemas/DLOrder"}},"Parameters":{"title":"parameters","description":"数据存储的其他参数映射。","type":"object","example":"key/value\n"},"SkewedInfo":{"title":"skewedInfo","description":"存储倾斜列信息的数据结构。","$ref":"#/components/schemas/DLSkewedInfo"},"InputFormat":{"title":"inputFormat","description":"输入格式类的名称，用于读取数据。","type":"string","example":"org.apache.hadoop.mapred.SequenceFileInputFormat"},"OutputFormat":{"title":"outputFormat","description":"输出格式类的名称，用于写入数据。","type":"string","example":"org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat"},"Columns":{"title":"columns","description":"表中数据列的描述信息。","type":"array","items":{"description":"列属性。","$ref":"#/components/schemas/DLColumn"}},"IsCompressed":{"title":"isCompressed","description":"是否压缩标识，表示数据是否被压缩存储。","type":"boolean","example":"false"},"SerdeInfo":{"title":"serdeInfo","description":"序列化和反序列化信息。","$ref":"#/components/schemas/DLSerdeInfo"},"BucketCols":{"title":"bucketCols","description":"桶列的名称列表，决定数据的哈希分布。","type":"array","items":{"description":"名称。","type":"string","example":"2010"}},"NumBuckets":{"title":"numBuckets","description":"桶的数量。","type":"integer","format":"int32","example":"-1"},"Location":{"title":"location","description":"数据存储的具体位置。","type":"string","example":"oss://xxx"}}},"DLTable":{"title":"Table","description":"表的详细信息。","type":"object","properties":{"ViewOriginalText":{"title":"viewOriginalText","description":"如果表是视图，表示视图的原始文本。","type":"string","example":"\"\""},"Owner":{"title":"owner","description":"表的所有者名称。","type":"string","example":"zhangsan"},"TableType":{"title":"tableType","description":"元数据表的类型。例如MANAGED_TABLE、EXTERNAL_TABLE、VIRTUAL_VIEW、INDEX_TABLE、MATERIALIZED_VIEW。","type":"string","example":"EXTERNAL_TABLE"},"Parameters":{"title":"parameters","description":"参数key/value。","type":"object","example":"{\n      \"EXTERNAL\": \"TRUE\",\n      \"delta.minReaderVersion\": \"1\"}"},"Description":{"title":"description","description":"表的描述信息。","type":"string","example":"test"},"CreatorId":{"title":"creatorId","description":"创建该表的用户ID。","type":"integer","format":"int64","example":"8****"},"CreateTime":{"title":"createTime","description":"表的创建时间。","type":"integer","format":"int32","example":"1731586286"},"StorageDescriptor":{"title":"StorageDescriptor","description":"存储描述信息，包含表的存储特征和格式详细信息。","$ref":"#/components/schemas/DLStorageDescriptor"},"LastAccessTime":{"title":"lastAccessTime","description":"上次访问该表的时间。","type":"integer","format":"int32","example":"1608707407"},"Retention":{"title":"retention","description":"该表的保留时间。","type":"integer","format":"int32","example":"300"},"Name":{"title":"name","description":"表的名称。","type":"string","example":"100g_customer"},"OwnerType":{"title":"ownerType","description":"所有者的类型。可填写USER、ROLE或GROUP。","type":"string","example":"USER"},"ViewExpandedText":{"title":"viewExpandedText","description":"如果表是视图，表示视图的展开文本。","type":"string","example":"\"\""},"DbId":{"title":"dbId","description":"表所属的数据库ID。","type":"integer","format":"int64","example":"19"},"DbName":{"title":"dbName","description":"表所属的数据库名称。","type":"string","example":"default"},"CatalogName":{"title":"catalogName","description":"数据目录名称。","type":"string","example":"hive"},"PartitionKeys":{"title":"partitionKeys","description":"表的列属性列表。","type":"array","items":{"description":"列信息。","$ref":"#/components/schemas/DLColumn"}},"ModifierId":{"title":"modifierId","description":"最后修改该表的用户。","type":"integer","format":"int64","example":"1410769"},"Location":{"title":"location","description":"表的存储路径。","type":"string","example":"oss://xxx"}}},"DLTableInput":{"description":"表的详细信息。","type":"object","properties":{"Owner":{"description":"表的所有者。","type":"string","example":"zhangsan\n"},"ViewOriginalText":{"description":"如果表是视图，表示视图的原始文本。","type":"string","example":"\"\""},"TableType":{"description":"元数据表的类型。例如MANAGED_TABLE、EXTERNAL_TABLE、VIRTUAL_VIEW、INDEX_TABLE、MATERIALIZED_VIEW。","type":"string","example":"EXTERNAL_TABLE\n"},"Parameters":{"description":"键值对参数。","type":"object","additionalProperties":{"description":"参数key/value。","type":"string","example":"{\n      \"EXTERNAL\": \"TRUE\",\n      \"delta.minReaderVersion\": \"1\"}"}},"Description":{"description":"表的描述信息。","type":"string","example":"test"},"CreatorId":{"description":"创建该表的用户ID。","type":"integer","format":"int64","example":"8****"},"CreateTime":{"description":"表的创建时间。","type":"integer","format":"int32","example":"1731586286"},"StorageDescriptor":{"title":"storageDescriptor","description":"存储描述信息，包含表的存储特征和格式详细信息。","$ref":"#/components/schemas/DLStorageDescriptor"},"LastAccessTime":{"description":"上次访问该表的时间。","type":"integer","format":"int32","example":"1608707407"},"Retention":{"description":"该表的保留时间。","type":"integer","format":"int32","example":"300"},"Name":{"title":"name","description":"表的名称。","type":"string","example":"100g_customer"},"OwnerType":{"description":"所有者的类型。可填写USER、ROLE或GROUP。","type":"string","example":"USER"},"ViewExpandedText":{"description":"如果表是视图，表示视图的展开文本。","type":"string","example":"\"\""},"PartitionKeys":{"description":"表的列属性列表。","type":"array","items":{"description":"列信息。","$ref":"#/components/schemas/DLColumn"}},"ModifierId":{"description":"最后修改该表的用户。","type":"integer","format":"int64","example":"1410769"},"Location":{"description":"表的存储路径。","type":"string","example":"oss://xxx"}}},"DLTablebaseInfo":{"title":"TablebaseInfo","description":"表的基本信息。","type":"object","properties":{"Owner":{"title":"owner","description":"表的所有者。","type":"string","example":"test"},"ViewOriginalText":{"title":"viewOriginalText","description":"如果表是视图，表示视图的原始文本。","type":"string","example":"\"\"\n"},"TableType":{"title":"tableType","description":"表的类型。例如 MANAGED_TABLE、EXTERNAL_TABLE、VIRTUAL_VIEW、INDEX_TABLE、MATERIALIZED_VIEW。","type":"string","example":"EXTERNAL_TABLE\n"},"Parameters":{"title":"parameters","description":"表的附加参数。","type":"object","example":" \"EXTERNAL\": \"TRUE\"\n"},"Description":{"title":"description","description":"表的描述。","type":"string","example":"\"table\"\n"},"CreatorId":{"title":"creatorId","description":"创建该表的用户 ID。","type":"integer","format":"int64","example":"141****\n"},"CreateTime":{"title":"createTime","description":"创建表的时间。","type":"integer","format":"int32","example":"1608707407"},"LastAccessTime":{"title":"lastAccessTime","description":"上次访问表的时间。","type":"integer","format":"int32","example":"1731586286"},"Retention":{"title":"retention","description":"表的保留期（按天）。","type":"integer","format":"int32","example":"30000"},"Name":{"title":"name","description":"表的名称。","type":"string","example":"100g_customer\n"},"OwnerType":{"title":"ownerType","description":"负责人类型。可填写 USER、ROLE 或 GROUP。","type":"string","enumValueTitles":{"ROLE":"ROLE","GROUP":"GROUP","USER":"USER"}},"ViewExpandedText":{"title":"viewExpandedText","description":"如果表是视图，表示视图的展开文本。","type":"string","example":"\"\"\n"},"DbId":{"title":"dbId","description":"所属的数据库 ID。","type":"integer","format":"int64","example":"19"},"DbName":{"title":"dbName","description":"所属的数据库名称。","type":"string","example":"default"},"CatalogName":{"title":"catalogName","description":"所属的数据目录。","type":"string","example":"hive"},"PartitionKeys":{"title":"partitionKeys","description":"表的列属性列表。","type":"array","items":{"description":"列属性。","$ref":"#/components/schemas/DLColumn"}},"ModifierId":{"title":"modifierId","description":"修改表的时间。","type":"integer","format":"int64","example":"1731585286"},"Location":{"title":"location","description":"表的存储路径。","type":"string","example":"oss://xxx"}}},"ForeignInstance":{"description":"外部数据源实例信息。","type":"object","properties":{"InstanceSource":{"description":"数据库实例来源，取值如下：\n\n- **PUBLIC_OWN**：代表公网自建实例\n- **RDS**：代表RDS实例\n- **ECS_OWN**：代表ECS自建实例\n- **VPC_IDC**：代表VPC IDC自建实例\n","type":"string","example":"RDS"},"Port":{"description":"实例连接端口。","type":"integer","format":"int32","example":"7890"},"Host":{"description":"实例连接地址。","type":"string","example":"127.0.XX.XX"},"RegionId":{"description":"资源所属的地域ID。","type":"string","example":"cn-shanghai"},"InstanceType":{"description":"实例类型。","type":"string","example":"mysql"},"Properties":{"description":"属性信息。","type":"object","additionalProperties":{"description":"属性信息。","type":"string","example":"{\\\"PackageUsedUpStrategyKey\\\":\\\"Postpaid\\\"}"}},"DataLinkName":{"description":"datalink名称。","type":"string","example":"dbl_mysql_2337"},"Sid":{"description":"数据库Sid。\n>数据库Sid是Oracle数据库的唯一标识符。当建立一个数据库时，系统将自动赋予一个初始ID。","type":"string","example":"HXE"}}},"ForeignInstanceCredInfo":{"description":"外部数据源凭证信息。","type":"object","properties":{"CredInfo":{"description":"凭证信息。","type":"object","additionalProperties":{"description":"凭证信息。","type":"string","example":"{\"username\": \"xxx\", \"password\": \"yyy\"}"}},"CredType":{"description":"凭证类型，目前恒定取值为DEFAULT。","type":"string","example":"DEFAULT"}}},"PartitionError":{"description":"具体的错误信息。","type":"object","properties":{"ErrorDetail":{"description":"错误详情。","type":"string","example":"auth failed"},"Values":{"description":"分区值。","type":"array","items":{"description":"分区列的值。","type":"string","example":"part_val1"}}}}}},"apis":{"CreateAirflowLoginToken":{"summary":"通过该API可获取Airflow登录凭证，使用此登录凭证可以登录DMS托管Airflow。","path":"","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREdmsXSH6IQ"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"AirflowId","in":"query","schema":{"description":"Airflow的实例ID。您可以在[Airflow实例列表](~~2881043~~)页面查看。","type":"string","required":true,"example":"af-b3a7f110a6vmvn7xxxxxx"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求的ID，用于定位日志，排查问题。","type":"string","example":"4284D079-30F4-5B23-ADC4-28F291622C9A"},"HttpStatusCode":{"description":"错误码描述。","type":"integer","format":"int32","example":"200"},"Success":{"description":"请求是否成功，返回值如下：\n\n- True：请求成功。                                 \n- False：请求失败。","type":"boolean","example":"True"},"Message":{"description":"错误消息。","type":"string","example":"Successful"},"ErrorCode":{"description":"错误码。取值说明如下：\n\n- 请求成功：不返回ErrorCode字段。\n- 请求失败：返回ErrorCode字段。\n\n具体信息，请参见本文的错误码列表。","type":"string","example":"Success"},"Data":{"description":"监控任务的结果详情。","type":"object","properties":{"Token":{"description":"生成Token。","type":"string","example":"f432d77de03b6b95fc24f9****"},"Host":{"description":"Airflow实例的访问地址。","type":"string","example":"https://data-dms.aliyuncs.com/airflow/x/xxxx/af-ehrmszb****"}}},"Code":{"description":"状态码。200表示成功。","type":"string","example":"200"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"4284D079-30F4-5B23-ADC4-28F291622C9A\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Success\\\": true,\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"ErrorCode\\\": \\\"Success\\\",\\n  \\\"Data\\\": {\\n    \\\"Token\\\": \\\"f432d77de03b6b95fc24f9****\\\",\\n    \\\"Host\\\": \\\"https://data-dms.aliyuncs.com/airflow/x/xxxx/af-ehrmszb****\\\"\\n  },\\n  \\\"Code\\\": \\\"200\\\"\\n}\",\"type\":\"json\"}]","title":"获取Airflow登录凭证"}},"endpoints":[{"regionId":"cn-beijing","endpoint":"dms.cn-beijing.aliyuncs.com"},{"regionId":"cn-hangzhou","endpoint":"dms.cn-hangzhou.aliyuncs.com"},{"regionId":"cn-shanghai","endpoint":"dms.cn-shanghai.aliyuncs.com"},{"regionId":"cn-shenzhen","endpoint":"dms.cn-shenzhen.aliyuncs.com"},{"regionId":"ap-southeast-1","endpoint":"dms.ap-southeast-1.aliyuncs.com"}]}