{"version":"1.0","info":{"style":"RPC","product":"Dms","version":"2025-04-14"},"directories":["CreateAirflowLoginToken"],"components":{"schemas":{"DLCatalog":{"title":"Catalog","description":"catalog","type":"object","properties":{"Description":{"title":"Description","type":"string"},"Name":{"title":"Name","type":"string"},"Location":{"title":"Location","type":"string"}}},"DLColumn":{"title":"Column","description":"column","type":"object","properties":{"Comment":{"title":"comment","type":"string"},"Type":{"title":"type","type":"string"},"Name":{"title":"name","type":"string"}}},"DLDatabase":{"title":"Database","description":"database","type":"object","properties":{"Description":{"title":"description","type":"string"},"Parameters":{"type":"object"},"DbId":{"title":"dbId","type":"integer","format":"int64"},"CatalogName":{"title":"catalogName","type":"string"},"Name":{"title":"name","type":"string"},"Location":{"title":"location","type":"string"}}},"DLFunction":{"type":"object","properties":{"FunctionName":{"type":"string"},"OwnerName":{"type":"string"},"OwnerType":{"type":"string"},"CreatorId":{"type":"integer","format":"int64"},"FunctionType":{"type":"string"},"CreateTime":{"type":"integer","format":"int32"},"ResourceUris":{"type":"array","items":{"$ref":"#/components/schemas/DLResourceUri"}},"ClassName":{"type":"string"},"CatalogName":{"type":"string"},"DbName":{"type":"string"},"ModifierId":{"type":"integer","format":"int64"}}},"DLFunctionInput":{"type":"object","properties":{"FunctionName":{"type":"string"},"OwnerName":{"type":"string"},"OwnerType":{"type":"string"},"CreatorId":{"type":"integer","format":"int64"},"FunctionType":{"type":"string"},"CreateTime":{"type":"integer","format":"int32"},"ResourceUris":{"type":"array","items":{"$ref":"#/components/schemas/DLResourceUri"}},"ClassName":{"type":"string"},"ModifierId":{"type":"integer","format":"int64"}}},"DLOrder":{"title":"Order","description":"order","type":"object","properties":{"Order":{"title":"order","type":"integer","format":"int32"},"Col":{"title":"col","type":"string"}}},"DLPartition":{"type":"object","properties":{"TableName":{"type":"string"},"Sd":{"$ref":"#/components/schemas/DLStorageDescriptor"},"Parameters":{"type":"object","additionalProperties":{"type":"string"}},"CreateTime":{"type":"integer","format":"int32"},"Values":{"type":"array","items":{"type":"string"}},"CatalogName":{"type":"string"},"DbName":{"type":"string"},"LastAccessTime":{"type":"integer","format":"int32"}}},"DLPartitionInput":{"type":"object","properties":{"Parameters":{"type":"object","additionalProperties":{"type":"string"}},"CreateTime":{"type":"integer","format":"int32"},"Values":{"type":"array","items":{"type":"string"}},"StorageDescriptor":{"$ref":"#/components/schemas/DLStorageDescriptor"},"LastAccessTime":{"type":"integer","format":"int32"}}},"DLResourceUri":{"type":"object","properties":{"ResourceType":{"type":"string"},"Uri":{"type":"string"}}},"DLSerdeInfo":{"title":"SerdeInfo","description":"serderInfo","type":"object","properties":{"SerializationLib":{"title":"serializationLib","type":"string"},"DeserializerClass":{"title":"deserializerClass","type":"string"},"Parameters":{"title":"parameters","type":"object"},"Description":{"title":"description","type":"string"},"SerdeType":{"type":"integer","format":"int32"},"SerializerClass":{"title":"serializerClass","type":"string"},"Name":{"title":"name","type":"string"}}},"DLSkewedInfo":{"title":"SkewedInfo","description":"skewedInfo","type":"object","properties":{"SkewedColValues":{"title":"skewedColValues","type":"array","items":{"type":"array","items":{"type":"string"}}},"SkewedColValueLocationMaps":{"title":"skewedColValueLocationMaps","type":"object"},"SkewedColNames":{"title":"skewedColNames","type":"array","items":{"type":"string"}}}},"DLStorageDescriptor":{"title":"StorageDescriptor","description":"storageDescriptor","type":"object","properties":{"OriginalColumns":{"title":"originalColumns","type":"array","items":{"$ref":"#/components/schemas/DLColumn"}},"SortCols":{"title":"sortCols","type":"array","items":{"$ref":"#/components/schemas/DLOrder"}},"Parameters":{"title":"parameters","type":"object"},"SkewedInfo":{"title":"skewedInfo","$ref":"#/components/schemas/DLSkewedInfo"},"InputFormat":{"title":"inputFormat","type":"string"},"OutputFormat":{"title":"outputFormat","type":"string"},"Columns":{"title":"columns","type":"array","items":{"$ref":"#/components/schemas/DLColumn"}},"IsCompressed":{"title":"isCompressed","type":"boolean"},"SerdeInfo":{"title":"serdeInfo","$ref":"#/components/schemas/DLSerdeInfo"},"BucketCols":{"title":"bucketCols","type":"array","items":{"type":"string"}},"NumBuckets":{"title":"numBuckets","type":"integer","format":"int32"},"Location":{"title":"location","type":"string"}}},"DLTable":{"title":"Table","description":"Table","type":"object","properties":{"ViewOriginalText":{"title":"viewOriginalText","type":"string"},"Owner":{"title":"owner","type":"string"},"TableType":{"title":"tableType","type":"string"},"Parameters":{"title":"parameters","type":"object"},"Description":{"title":"description","type":"string"},"CreatorId":{"title":"creatorId","type":"integer","format":"int64"},"CreateTime":{"title":"createTime","type":"integer","format":"int32"},"StorageDescriptor":{"title":"StorageDescriptor","$ref":"#/components/schemas/DLStorageDescriptor"},"LastAccessTime":{"title":"lastAccessTime","type":"integer","format":"int32"},"Retention":{"title":"retention","type":"integer","format":"int32"},"Name":{"title":"name","type":"string"},"OwnerType":{"title":"ownerType","type":"string"},"ViewExpandedText":{"title":"viewExpandedText","type":"string"},"DbId":{"title":"dbId","type":"integer","format":"int64"},"DbName":{"title":"dbName","type":"string"},"CatalogName":{"title":"catalogName","type":"string"},"PartitionKeys":{"title":"partitionKeys","type":"array","items":{"$ref":"#/components/schemas/DLColumn"}},"ModifierId":{"title":"modifierId","type":"integer","format":"int64"},"Location":{"title":"location","type":"string"}}},"DLTableInput":{"type":"object","properties":{"Owner":{"type":"string"},"ViewOriginalText":{"type":"string"},"TableType":{"type":"string"},"Parameters":{"type":"object","additionalProperties":{"type":"string"}},"Description":{"type":"string"},"CreatorId":{"type":"integer","format":"int64"},"CreateTime":{"type":"integer","format":"int32"},"StorageDescriptor":{"title":"storageDescriptor","$ref":"#/components/schemas/DLStorageDescriptor"},"LastAccessTime":{"type":"integer","format":"int32"},"Retention":{"type":"integer","format":"int32"},"Name":{"title":"name","type":"string"},"OwnerType":{"type":"string"},"ViewExpandedText":{"type":"string"},"PartitionKeys":{"type":"array","items":{"$ref":"#/components/schemas/DLColumn"}},"ModifierId":{"type":"integer","format":"int64"},"Location":{"type":"string"}}},"DLTablebaseInfo":{"title":"TablebaseInfo","description":"tablebaseInfo","type":"object","properties":{"Owner":{"title":"owner","type":"string"},"ViewOriginalText":{"title":"viewOriginalText","type":"string"},"TableType":{"title":"tableType","type":"string"},"Parameters":{"title":"parameters","type":"object"},"Description":{"title":"description","type":"string"},"CreatorId":{"title":"creatorId","type":"integer","format":"int64"},"CreateTime":{"title":"createTime","type":"integer","format":"int32"},"LastAccessTime":{"title":"lastAccessTime","type":"integer","format":"int32"},"Retention":{"title":"retention","type":"integer","format":"int32"},"Name":{"title":"name","type":"string"},"OwnerType":{"title":"ownerType","type":"string"},"ViewExpandedText":{"title":"viewExpandedText","type":"string"},"DbId":{"title":"dbId","type":"integer","format":"int64"},"DbName":{"title":"dbName","type":"string"},"CatalogName":{"title":"catalogName","type":"string"},"PartitionKeys":{"title":"partitionKeys","type":"array","items":{"$ref":"#/components/schemas/DLColumn"}},"ModifierId":{"title":"modifierId","type":"integer","format":"int64"},"Location":{"title":"location","type":"string"}}},"ForeignInstance":{"description":"外部数据源实例信息。","type":"object","properties":{"InstanceSource":{"description":"数据库实例来源，取值如下：\n\n- **PUBLIC_OWN**：代表公网自建实例\n- **RDS**：代表RDS实例\n- **ECS_OWN**：代表ECS自建实例\n- **VPC_IDC**：代表VPC IDC自建实例\n","type":"string","example":"RDS"},"Port":{"description":"实例连接端口。","type":"integer","format":"int32","example":"7890"},"Host":{"description":"实例连接地址。","type":"string","example":"127.0.XX.XX"},"RegionId":{"description":"资源所属的地域ID。","type":"string","example":"cn-shanghai"},"InstanceType":{"description":"实例类型。","type":"string","example":"mysql"},"Properties":{"description":"属性信息。","type":"object","additionalProperties":{"description":"属性信息。","type":"string","example":"{\\\"PackageUsedUpStrategyKey\\\":\\\"Postpaid\\\"}"}},"DataLinkName":{"description":"datalink名称。","type":"string","example":"dbl_mysql_2337"},"Sid":{"description":"数据库Sid。\n>数据库Sid是Oracle数据库的唯一标识符。当建立一个数据库时，系统将自动赋予一个初始ID。","type":"string","example":"HXE"}}},"ForeignInstanceCredInfo":{"description":"外部数据源凭证信息。","type":"object","properties":{"CredInfo":{"description":"凭证信息。","type":"object","additionalProperties":{"description":"凭证信息。","type":"string","example":"{\"username\": \"xxx\", \"password\": \"yyy\"}"}},"CredType":{"description":"凭证类型，目前恒定取值为DEFAULT。","type":"string","example":"DEFAULT"}}},"PartitionError":{"type":"object","properties":{"ErrorDetail":{"type":"string"},"Values":{"type":"array","items":{"type":"string"}}}}}},"apis":{"CreateAirflowLoginToken":{"summary":"通过该API可获取Airflow登录凭证，使用此登录凭证可以登录DMS托管Airflow。","path":"","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREdmsXSH6IQ"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"AirflowId","in":"query","schema":{"description":"Airflow的实例ID。您可以在[Airflow实例列表](~~2881043~~)页面查看。","type":"string","required":true,"example":"af-b3a7f110a6vmvn7xxxxxx"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求的ID，用于定位日志，排查问题。","type":"string","example":"4284D079-30F4-5B23-ADC4-28F291622C9A"},"HttpStatusCode":{"description":"错误码描述。","type":"integer","format":"int32","example":"200"},"Success":{"description":"请求是否成功，返回值如下：\n\n- True：请求成功。                                 \n- False：请求失败。","type":"boolean","example":"True"},"Message":{"description":"错误消息。","type":"string","example":"Successful"},"ErrorCode":{"description":"错误码。取值说明如下：\n\n- 请求成功：不返回ErrorCode字段。\n- 请求失败：返回ErrorCode字段。\n\n具体信息，请参见本文的错误码列表。","type":"string","example":"Success"},"Data":{"description":"监控任务的结果详情。","type":"object","properties":{"Token":{"description":"生成Token。","type":"string","example":"f432d77de03b6b95fc24f9****"},"Host":{"description":"Airflow实例的访问地址。","type":"string","example":"https://data-dms.aliyuncs.com/airflow/x/xxxx/af-ehrmszb****"}}},"Code":{"description":"状态码。200表示成功。","type":"string","example":"200"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"4284D079-30F4-5B23-ADC4-28F291622C9A\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Success\\\": true,\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"ErrorCode\\\": \\\"Success\\\",\\n  \\\"Data\\\": {\\n    \\\"Token\\\": \\\"f432d77de03b6b95fc24f9****\\\",\\n    \\\"Host\\\": \\\"https://data-dms.aliyuncs.com/airflow/x/xxxx/af-ehrmszb****\\\"\\n  },\\n  \\\"Code\\\": \\\"200\\\"\\n}\",\"type\":\"json\"}]","title":"获取Airflow登录凭证"}},"endpoints":[{"regionId":"cn-beijing","endpoint":"dms.cn-beijing.aliyuncs.com"},{"regionId":"cn-hangzhou","endpoint":"dms.cn-hangzhou.aliyuncs.com"},{"regionId":"cn-shanghai","endpoint":"dms.cn-shanghai.aliyuncs.com"},{"regionId":"cn-shenzhen","endpoint":"dms.cn-shenzhen.aliyuncs.com"},{"regionId":"ap-southeast-1","endpoint":"dms.ap-southeast-1.aliyuncs.com"}]}