{"version":"1.0","info":{"style":"ROA","product":"SysOM","version":"2023-12-30"},"directories":[{"id":203795,"title":"热点分析","type":"directory","children":["UpdateFuncSwitchRecord","GetServiceFuncStatus","GetHotSpotUniqList","GetHotspotTracking","GetHotspotPidList","GetHotspotInstanceList","GetHotspotCompare","GetHotspotAnalysis"]},{"id":203796,"title":"AI可观测","type":"directory","children":["StartAIAnalysis","GetListRecord","GetAIQueryResult"]},{"id":203797,"title":"组件管理","type":"directory","children":["GetResources","GetHostCount","InitialSysom","ListClusters","ListInstances","ListPluginsInstances","ListPodsOfInstance","UpgradeAgentForCluster","UpgradeAgent","UninstallAgentForCluster","UninstallAgent","ListRegions","ListInstancesWithEcsInfo","ListInstanceStatus","ListInstancesEcsInfoList","ListClusterAgentInstallRecords","ListAgentInstallRecords","InstallAgentForCluster","InstallAgent","ListAgents","GetAgentTask","GetAgentTask","GetAgent"]},{"id":203798,"title":"健康度","type":"directory","children":["UpdateEventsAttention","ListAbnormalyEvents","ListInstanceHealth","InvokeAnomalyDiagnosis","GetRangeScore","GetProblemPercentage","GetInstantScore","GetHealthPercentage","GetAbnormalEventsCount"]},{"id":203799,"title":"诊断","type":"directory","children":["ListDiagnosis","GetDiagnosisResult","InvokeDiagnosis","AuthDiagnosis"]},{"id":203800,"title":"OS copilot","type":"directory","children":["GetCopilotHistory","GenerateCopilotStreamResponse","GenerateCopilotResponse"]},{"id":204228,"title":"其他","type":"directory","children":["CheckInstanceSupport"]}],"components":{"schemas":{}},"apis":{"UpdateFuncSwitchRecord":{"summary":"更新服务功能模块配置","path":"/api/v1/func-switch/update-service-func-switch","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"params","in":"query","style":"json","schema":{"description":"诊断参数，不同类型的诊断要求传递不同的诊断参数，可以使用本字段过滤出参数符合为指定值的记录。","type":"object","properties":{"function_name":{"description":"功能名称","type":"string","required":true,"example":"mullprof"},"instance":{"description":"实例ID","type":"string","required":false,"example":"i-2zei55fwj8nnu31h3z46"},"uid":{"description":"用户ID","type":"string","required":false,"example":"1664516888213680"},"op":{"description":"操作类型","type":"string","required":false,"example":"restart"},"args":{"description":"配置参数\n\n","type":"object","properties":{"add_cmd":{"description":"配置进程","type":"string","required":false,"example":"java"},"mem":{"description":"内存追踪开关","type":"string","required":false,"example":"true"},"locks":{"description":"锁追踪开关","type":"string","required":false,"example":"true"},"java_store_path":{"description":"存储路径","type":"string","required":false,"example":"/tmp/sysom/java-profiler"},"system_profiling":{"description":"系统追踪开关","type":"string","required":false,"example":"true"},"cpu":{"description":"ONCPU追踪开关","type":"string","required":false,"example":"true"},"loop":{"description":"追踪周期","type":"integer","format":"int32","required":false,"example":"-1"},"pid":{"description":"进程pid","type":"integer","format":"int32","required":false,"example":"1243"},"duration":{"description":"开始时长，单位为秒（s）","type":"integer","format":"int32","required":false,"example":"3600"}},"required":false},"region":{"description":"实例所属 Region，务必保证 instances 中传递的所有实例ID都属于同一个 region","type":"string","required":false,"example":"cn-beijing"}},"required":true}},{"name":"service_name","in":"query","schema":{"description":"服务名称","type":"string","required":true,"example":"livetrace"}},{"name":"channel","in":"query","schema":{"description":"诊断通道（目前固定为ecs通道）","type":"string","required":true,"example":"ecs"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822"},"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"result: code=1 msg=(Request failed, status_code != 200)"},"data":{"description":"返回数据。","type":"object","properties":{"task_id":{"description":"任务ID","type":"string","example":"63fc5acb99e642d793f42912612e8001"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\",\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"result: code=1 msg=(Request failed, status_code != 200)\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"63fc5acb99e642d793f42912612e8001\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"更新服务功能模块配置","description":"- 需要按通用LLM服务输入参数填充参数，转为string后赋给llmParamString\n- 返回数据需将string转为dict后使用，参考通用LLM服务返回格式"},"GetServiceFuncStatus":{"summary":"获取功能模块配置","path":"/api/v1/func-switch/get-service-func-status","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"params","in":"query","style":"json","schema":{"description":"诊断参数，不同类型的诊断要求传递不同的诊断参数，可以使用本字段过滤出参数符合为指定值的记录。","type":"object","properties":{"function_name":{"description":"功能名称","type":"string","required":true,"example":"mullprof"},"instance":{"description":"实例ID","type":"string","required":false,"example":"i-2zei55fwj8nnu31h3z46"},"uid":{"description":"用户ID","type":"string","required":false,"example":"1338904783509062"}},"required":true}},{"name":"service_name","in":"query","schema":{"description":"服务名称","type":"string","required":true,"example":"livetrace"}},{"name":"channel","in":"query","schema":{"description":"通道名","type":"string","required":true,"example":"ecs"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"\n"},"data":{"description":"返回结果","type":"object","properties":{"args":{"description":"配置参数\n\n","type":"object","properties":{"add_cmd":{"description":"配置进程","type":"string","example":"java"},"mem":{"description":"内存追踪开关","type":"string","example":"true"},"locks":{"description":"锁追踪开关\n\n","type":"string","example":"true"},"java_store_path":{"description":"存储路径","type":"string","example":"/tmp/sysom/java-profiler"},"cpu":{"description":"ONCPU追踪开关","type":"string","example":"true"},"system_profiling":{"description":"系统profiling开关","type":"string","example":"true"},"loop":{"description":"追踪周期","type":"integer","format":"int32","example":"-1"}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\n\\\",\\n  \\\"data\\\": {\\n    \\\"args\\\": {\\n      \\\"add_cmd\\\": \\\"java\\\",\\n      \\\"mem\\\": \\\"true\\\",\\n      \\\"locks\\\": \\\"true\\\",\\n      \\\"java_store_path\\\": \\\"/tmp/sysom/java-profiler\\\",\\n      \\\"cpu\\\": \\\"true\\\",\\n      \\\"system_profiling\\\": \\\"true\\\",\\n      \\\"loop\\\": -1\\n    }\\n  }\\n}\",\"type\":\"json\"}]","title":"获取服务配置状态","description":"本接口用于获取服务配置状态"},"GetHotSpotUniqList":{"summary":"获取实例下的某个字段列表。","path":"/api/v1/livetrace_proxy/hotspot_uniq_list","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"254533","abilityTreeNodes":["FEATUREalinuxFVZ8GD"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"uniq":{"description":"标识位","type":"string","required":true,"example":"默认需要为\"flag\"，待查询的字段"},"instance":{"description":"实例ID","type":"string","required":true,"example":"i-bp1g2i0siirefgwnnnvy"},"pid":{"description":"进程id","type":"integer","format":"int64","required":false,"example":"12345"},"table":{"description":"表名称","type":"string","required":false,"example":"prof_on"},"beg_start":{"description":"起始时间","type":"integer","format":"int64","required":true,"example":"1735008551000"},"beg_end":{"description":"结束时间","type":"integer","format":"int64","required":true,"example":"1735010351000"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求id","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"string","example":"true"},"message":{"description":"返回信息","type":"string","example":"\nsuccess"},"data":{"description":"返回数据","type":"object","properties":{"columns":{"description":"数据名称列表","type":"array","items":{"description":"数据名称","type":"string","example":"column"}},"values":{"description":"数据值列表","type":"array","items":{"description":"数据值","type":"string","example":"ml"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"success\\\": \\\"true\\\",\\n  \\\"message\\\": \\\"\\\\nsuccess\\\",\\n  \\\"data\\\": {\\n    \\\"columns\\\": [\\n      \\\"column\\\"\\n    ],\\n    \\\"values\\\": [\\n      \\\"ml\\\"\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取热点类型列表"},"GetHotspotTracking":{"summary":"获取热点追踪结果","path":"/api/v1/openapi/proxy/post/livetrace_hotspot_tracking","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"230069","abilityTreeNodes":["FEATUREalinuxFVZ8GD"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"table":{"description":"查询表名","type":"string","required":true,"example":"prof_on"},"instance":{"description":"实例ID","type":"string","required":true,"example":"i-2ze5ru5rjurix7f71sxv"},"beg_start":{"description":"起始时间","type":"integer","format":"int64","required":true,"example":"1725410348000"},"beg_end":{"description":"终止时间","type":"integer","format":"int64","required":true,"example":"1725413948000"},"pid":{"description":"进程Pid","type":"integer","format":"int64","required":false,"example":"1657494"},"hot_type":{"description":"热点类型","type":"string","required":true,"example":"alloc"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"description":"请求ID","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822"},"code":{"description":"错误编码","type":"string","example":"SysomOpenAPI.ServerError"},"message":{"description":"返回信息","type":"string","example":"Success"},"data":{"description":"返回数据","type":"object","properties":{"series":{"description":"数据列表","type":"object","properties":{"columns":{"description":"字段名称列表","type":"array","items":{"description":"字段名称","type":"string","example":"\"time\", \"EXPR$1\""}},"values":{"description":"热点时序数据列表","type":"array","items":{"description":"热点时序数据","type":"array","items":{"description":"热点采样值","type":"string","example":"\"2024-09-04T00:39:50Z\", \"1\""}}}}},"flame":{"description":"火焰图数据","type":"object","properties":{"columns":{"description":"字段名称列表","type":"array","items":{"description":"字段名称","type":"string","example":"\"sample\"，\"time\""}},"values":{"description":"火焰图数据列表","type":"array","items":{"description":"火焰图数据","type":"array","items":{"description":"时间戳，图数据","type":"string","example":"\"{\\\"flamebearer\\\":{\\\"names\\\":[\\\"total\\\",\\\"host\\\",\\\"AliYunDun:1657494\\\",\\\"?5043000000000000\\\",\\\"std::basic_string::basic_string\\\",\\\"__memmove_ssse3_back\\\",\\\"_init\\\",\\\"std::string::_Rep::_M_set_length_and_sharable\\\",\\\"std::string::_S_copy_chars\\\",\\\"__strlen_sse2_pminub\\\",\\\"__read_nocancel\\\",\\\"system_call_fastpath\\\",\\\"SyS_read\\\",\\\"vfs_read\\\",\\\"seq_read\\\",\\\"proc_single_show\\\",\\\"proc_tgid_stat\\\",\\\"do_task_stat\\\",\\\"__delayacct_blkio_ticks\\\",\\\"_raw_spin_unlock_irqrestore\\\",\\\"proc_pid_status\\\",\\\"seq_bitmap\\\",\\\"bitmap_scnprintf\\\",\\\"bitmap_scnprintf.part.0\\\",\\\"scnprintf\\\",\\\"vscnprintf\\\",\\\"vsnprintf\\\",\\\"format_decode\\\",\\\"kernfs_fop_read\\\",\\\"kernfs_seq_show\\\",\\\"sysfs_kf_seq_show\\\",\\\"dev_attr_show\\\",\\\"part_stat_show\\\",\\\"part_in_flight\\\",\\\"blk_mq_in_flight\\\",\\\"blk_mq_queue_tag_busy_iter\\\",\\\"copy_user_enhanced_fast_string\\\",\\\"proc_reg_read\\\",\\\"meminfo_proc_show\\\",\\\"get_vmalloc_info\\\",\\\"aqs::CThreadUtil::ThreadFunc\\\",\\\"operatordelete\\\",\\\"CProtocolHandlerThread::run\\\",\\\"CSingleton::GetInstance\\\",\\\"CResourceMonitor::SetThreadHeartbeat\\\",\\\"CMonitor::SetThreadHeartbeat\\\",\\\"aqs::CMutexLockUtil::CMutexLockUtil\\\",\\\"aqs::CGetTickClock::GetClock\\\",\\\"__pthread_rwlock_rdlock\\\",\\\"pthread_rwlock_rdlock\\\",\\\"aqs::CReadLockUtil::CReadLockUtil\\\",\\\"std::map::find\\\",\\\"std::_Rb_tree\\\",\\\"std::less::operator\\\",\\\"std::_Rb_tree_iterator::_Rb_tree_iterator\\\",\\\"__GI___pthread_mutex_lock\\\",\\\"pthread_mutex_lock\\\",\\\"__nanosleep_nocancel\\\",\\\"SyS_nanosleep\\\",\\\"__check_object_size\\\",\\\"__virt_addr_valid\\\",\\\"hrtimer_nanosleep\\\",\\\"hrtimer_init\\\",\\\"do_nanosleep\\\",\\\"schedule\\\",\\\"__schedule\\\",\\\"rcu_note_context_switch\\\",\\\"finish_task_switch\\\",\\\"hrtimer_start_range_ns\\\",\\\"lock_hrtimer_base.isra.20\\\",\\\"_raw_spin_lock_irqsave\\\",\\\"__audit_syscall_entry\\\",\\\"CIpcPrivate::run\\\",\\\"std::list::empty\\\",\\\"stIpcRawMsg::stIpcRawMsg\\\",\\\"CIpcPrivate::HandleRecvRawMsg\\\",\\\"std::basic_string::~basic_string\\\",\\\"CIpcPrivate::OnRecvClientData\\\",\\\"CIpcPrivate::InsertMsg\\\",\\\"std::list::push_back\\\",\\\"std::list::_M_insert\\\",\\\"std::list::_M_create_node\\\",\\\"__gnu_cxx::new_allocator::allocate\\\",\\\"ParseIpcDataEx\\\",\\\"boolCSimpleSerialization::GetInt\\\",\\\"CSimpleSerialization::GetMemberForInteger\\\",\\\"CIpcPrivate::HandleSendMsg\\\",\\\"CIpcPrivate::SendIpcMsgPri\\\",\\\"CSelfGuardIpc::IpcRecvMsg\\\",\\\"CNetWork::run\\\",\\\"CNetWork::PeekRecvMessage\\\",\\\"CNetWork::ReadOneMessage\\\",\\\"evthread_use_pthreads\\\",\\\"pthread_self\\\",\\\"bufferevent_get_input\\\",\\\"CAtomicInt64::Get\\\",\\\"CNetWork::PeekSendMessage\\\",\\\"CTcpMessageBuffer::MarkSendMessage\\\",\\\"CNetWork::GetSendMessage\\\",\\\"__SendMessage::__SendMessage\\\",\\\"__epoll_wait_nocancel\\\",\\\"system_call_after_swapgs\\\",\\\"!48c69361\\\",\\\"!48c672e9\\\",\\\"!48c20f45\\\",\\\"!48c2106d\\\",\\\"!48c2eca3\\\",\\\"SyS_epoll_wait\\\",\\\"ep_poll\\\",\\\"__fdget\\\",\\\"__fget_light\\\"],\\\"maxSelf\\\":92,\\\"numTicks\\\":268,\\\"levels\\\":[[0,268,0,0],[0,268,0,1],[0,268,92,2],[92,10,0,3,0,6,1,10,0,139,14,40,0,7,0,100,0,14,0,57],[92,8,0,4,0,2,2,9,1,5,0,11,14,3,3,41,0,36,0,42,0,3,3,6,0,45,3,57,0,15,1,72,0,3,3,43,0,20,0,89,0,1,1,101,0,1,0,102,0,5,0,11,0,1,1,101,0,13,0,11],[92,1,1,5,0,2,2,6,0,4,4,7,0,1,1,8,3,5,0,12,17,1,1,43,0,5,5,44,0,30,1,45,6,41,1,11,0,1,1,71,1,1,1,73,0,6,0,45,0,2,2,74,0,3,0,75,0,2,0,86,3,7,0,90,0,1,1,95,0,2,0,45,0,5,0,96,0,1,1,76,0,3,3,99,0,1,1,6,1,1,0,103,0,4,0,107,0,1,1,109,1,13,0,58],[103,5,0,13,24,1,1,46,0,3,3,47,0,5,5,43,0,16,0,44,0,1,1,55,0,1,1,56,0,2,2,6,7,39,1,58,0,1,1,36,3,3,0,44,0,1,1,6,0,2,2,51,2,1,1,76,0,2,0,77,0,1,0,87,0,1,1,6,3,7,1,91,1,2,0,44,0,3,3,97,0,2,0,98,6,1,0,104,0,2,0,108,0,2,0,109,2,2,2,59,0,11,0,61],[103,2,0,14,0,1,0,28,0,1,1,36,0,1,0,37,33,1,1,43,0,2,2,48,0,2,2,49,0,2,2,6,0,2,2,50,0,7,0,51,12,4,2,59,0,1,1,60,0,33,1,61,4,1,1,49,0,1,1,50,0,1,0,51,6,1,0,78,0,1,0,83,0,1,0,88,5,1,1,92,0,1,1,6,0,1,1,93,0,3,3,94,1,1,0,51,0,1,1,48,3,1,1,55,0,1,1,6,6,1,0,105,0,2,2,19,0,2,2,110,4,11,0,63],[103,2,0,15,0,1,0,14,1,1,0,14,42,6,3,52,0,1,1,6,14,2,2,60,2,2,2,62,0,30,0,63,6,1,1,52,6,1,0,79,0,1,0,84,0,1,1,9,12,1,1,52,12,1,1,106,8,5,1,64,0,6,0,68],[103,1,0,16,0,1,0,20,0,1,0,29,1,1,0,38,45,2,2,53,0,1,1,54,21,15,0,64,0,15,0,68,13,1,0,80,0,1,1,85,36,4,0,65,0,6,6,19],[103,1,0,17,0,1,0,21,0,1,0,30,1,1,1,39,69,15,0,65,0,1,0,69,0,14,14,19,13,1,0,81,37,4,4,67],[103,1,0,18,0,1,0,22,0,1,0,31,71,2,2,66,0,13,13,67,0,1,1,70,27,1,1,82],[103,1,1,19,0,1,0,23,0,1,0,32],[104,1,0,24,0,1,0,33],[104,1,0,25,0,1,0,34],[104,1,0,26,0,1,1,35],[104,1,1,27]]},\\\"version\\\":1,\\\"metadata\\\":{\\\"name\\\":\\\"liveTrace\\\",\\\"sampleRate\\\":100,\\\"spyName\\\":\\\"cprof\\\",\\\"units\\\":\\\"samples\\\",\\\"maxNodes\\\":1024,\\\"appName\\\":\\\"liveTrace.profiling\\\",\\\"format\\\":\\\"single\\\"}}\"\n"}}}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\",\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\",\\n  \\\"message\\\": \\\"Success\\\",\\n  \\\"data\\\": {\\n    \\\"series\\\": {\\n      \\\"columns\\\": [\\n        \\\"\\\\\\\"time\\\\\\\", \\\\\\\"EXPR$1\\\\\\\"\\\"\\n      ],\\n      \\\"values\\\": [\\n        [\\n          \\\"\\\\\\\"2024-09-04T00:39:50Z\\\\\\\", \\\\\\\"1\\\\\\\"\\\"\\n        ]\\n      ]\\n    },\\n    \\\"flame\\\": {\\n      \\\"columns\\\": [\\n        \\\"\\\\\\\"sample\\\\\\\"，\\\\\\\"time\\\\\\\"\\\"\\n      ],\\n      \\\"values\\\": [\\n        [\\n          \\\"\\\\\\\"{\\\\\\\\\\\\\\\"flamebearer\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"names\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"total\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"host\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"AliYunDun:1657494\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"?5043000000000000\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::basic_string::basic_string\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__memmove_ssse3_back\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"_init\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::string::_Rep::_M_set_length_and_sharable\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::string::_S_copy_chars\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__strlen_sse2_pminub\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__read_nocancel\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"system_call_fastpath\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"SyS_read\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"vfs_read\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"seq_read\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"proc_single_show\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"proc_tgid_stat\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"do_task_stat\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__delayacct_blkio_ticks\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"_raw_spin_unlock_irqrestore\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"proc_pid_status\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"seq_bitmap\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"bitmap_scnprintf\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"bitmap_scnprintf.part.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"scnprintf\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"vscnprintf\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"vsnprintf\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"format_decode\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"kernfs_fop_read\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"kernfs_seq_show\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sysfs_kf_seq_show\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"dev_attr_show\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"part_stat_show\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"part_in_flight\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"blk_mq_in_flight\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"blk_mq_queue_tag_busy_iter\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"copy_user_enhanced_fast_string\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"proc_reg_read\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"meminfo_proc_show\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"get_vmalloc_info\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"aqs::CThreadUtil::ThreadFunc\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"operatordelete\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CProtocolHandlerThread::run\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CSingleton::GetInstance\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CResourceMonitor::SetThreadHeartbeat\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CMonitor::SetThreadHeartbeat\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"aqs::CMutexLockUtil::CMutexLockUtil\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"aqs::CGetTickClock::GetClock\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__pthread_rwlock_rdlock\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"pthread_rwlock_rdlock\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"aqs::CReadLockUtil::CReadLockUtil\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::map::find\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::_Rb_tree\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::less::operator\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::_Rb_tree_iterator::_Rb_tree_iterator\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__GI___pthread_mutex_lock\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"pthread_mutex_lock\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__nanosleep_nocancel\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"SyS_nanosleep\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__check_object_size\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__virt_addr_valid\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hrtimer_nanosleep\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hrtimer_init\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"do_nanosleep\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"schedule\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__schedule\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rcu_note_context_switch\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"finish_task_switch\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hrtimer_start_range_ns\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"lock_hrtimer_base.isra.20\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"_raw_spin_lock_irqsave\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__audit_syscall_entry\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CIpcPrivate::run\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::list::empty\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"stIpcRawMsg::stIpcRawMsg\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CIpcPrivate::HandleRecvRawMsg\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::basic_string::~basic_string\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CIpcPrivate::OnRecvClientData\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CIpcPrivate::InsertMsg\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::list::push_back\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::list::_M_insert\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"std::list::_M_create_node\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__gnu_cxx::new_allocator::allocate\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"ParseIpcDataEx\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"boolCSimpleSerialization::GetInt\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CSimpleSerialization::GetMemberForInteger\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CIpcPrivate::HandleSendMsg\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CIpcPrivate::SendIpcMsgPri\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CSelfGuardIpc::IpcRecvMsg\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CNetWork::run\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CNetWork::PeekRecvMessage\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CNetWork::ReadOneMessage\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"evthread_use_pthreads\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"pthread_self\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"bufferevent_get_input\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CAtomicInt64::Get\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CNetWork::PeekSendMessage\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CTcpMessageBuffer::MarkSendMessage\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"CNetWork::GetSendMessage\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__SendMessage::__SendMessage\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__epoll_wait_nocancel\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"system_call_after_swapgs\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"!48c69361\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"!48c672e9\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"!48c20f45\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"!48c2106d\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"!48c2eca3\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"SyS_epoll_wait\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"ep_poll\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__fdget\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__fget_light\\\\\\\\\\\\\\\"],\\\\\\\\\\\\\\\"maxSelf\\\\\\\\\\\\\\\":92,\\\\\\\\\\\\\\\"numTicks\\\\\\\\\\\\\\\":268,\\\\\\\\\\\\\\\"levels\\\\\\\\\\\\\\\":[[0,268,0,0],[0,268,0,1],[0,268,92,2],[92,10,0,3,0,6,1,10,0,139,14,40,0,7,0,100,0,14,0,57],[92,8,0,4,0,2,2,9,1,5,0,11,14,3,3,41,0,36,0,42,0,3,3,6,0,45,3,57,0,15,1,72,0,3,3,43,0,20,0,89,0,1,1,101,0,1,0,102,0,5,0,11,0,1,1,101,0,13,0,11],[92,1,1,5,0,2,2,6,0,4,4,7,0,1,1,8,3,5,0,12,17,1,1,43,0,5,5,44,0,30,1,45,6,41,1,11,0,1,1,71,1,1,1,73,0,6,0,45,0,2,2,74,0,3,0,75,0,2,0,86,3,7,0,90,0,1,1,95,0,2,0,45,0,5,0,96,0,1,1,76,0,3,3,99,0,1,1,6,1,1,0,103,0,4,0,107,0,1,1,109,1,13,0,58],[103,5,0,13,24,1,1,46,0,3,3,47,0,5,5,43,0,16,0,44,0,1,1,55,0,1,1,56,0,2,2,6,7,39,1,58,0,1,1,36,3,3,0,44,0,1,1,6,0,2,2,51,2,1,1,76,0,2,0,77,0,1,0,87,0,1,1,6,3,7,1,91,1,2,0,44,0,3,3,97,0,2,0,98,6,1,0,104,0,2,0,108,0,2,0,109,2,2,2,59,0,11,0,61],[103,2,0,14,0,1,0,28,0,1,1,36,0,1,0,37,33,1,1,43,0,2,2,48,0,2,2,49,0,2,2,6,0,2,2,50,0,7,0,51,12,4,2,59,0,1,1,60,0,33,1,61,4,1,1,49,0,1,1,50,0,1,0,51,6,1,0,78,0,1,0,83,0,1,0,88,5,1,1,92,0,1,1,6,0,1,1,93,0,3,3,94,1,1,0,51,0,1,1,48,3,1,1,55,0,1,1,6,6,1,0,105,0,2,2,19,0,2,2,110,4,11,0,63],[103,2,0,15,0,1,0,14,1,1,0,14,42,6,3,52,0,1,1,6,14,2,2,60,2,2,2,62,0,30,0,63,6,1,1,52,6,1,0,79,0,1,0,84,0,1,1,9,12,1,1,52,12,1,1,106,8,5,1,64,0,6,0,68],[103,1,0,16,0,1,0,20,0,1,0,29,1,1,0,38,45,2,2,53,0,1,1,54,21,15,0,64,0,15,0,68,13,1,0,80,0,1,1,85,36,4,0,65,0,6,6,19],[103,1,0,17,0,1,0,21,0,1,0,30,1,1,1,39,69,15,0,65,0,1,0,69,0,14,14,19,13,1,0,81,37,4,4,67],[103,1,0,18,0,1,0,22,0,1,0,31,71,2,2,66,0,13,13,67,0,1,1,70,27,1,1,82],[103,1,1,19,0,1,0,23,0,1,0,32],[104,1,0,24,0,1,0,33],[104,1,0,25,0,1,0,34],[104,1,0,26,0,1,1,35],[104,1,1,27]]},\\\\\\\\\\\\\\\"version\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"metadata\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"liveTrace\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sampleRate\\\\\\\\\\\\\\\":100,\\\\\\\\\\\\\\\"spyName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"cprof\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"units\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"samples\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"maxNodes\\\\\\\\\\\\\\\":1024,\\\\\\\\\\\\\\\"appName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"liveTrace.profiling\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"format\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"single\\\\\\\\\\\\\\\"}}\\\\\\\"\\\\n\\\"\\n        ]\\n      ]\\n    }\\n  }\\n}\",\"type\":\"json\"}]","title":"获取热点追踪结果"},"GetHotspotPidList":{"summary":"获取某个实例的pid列表","path":"/api/v1/openapi/proxy/post/livetrace_hotspot_pid_list","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxJZOVCX"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"table":{"description":"查询表名","type":"string","required":true,"example":"prof_on"},"instance":{"description":"实例ID","type":"string","required":true,"example":"i-2ze5ru5rjurix7f71sxv"},"beg_start":{"description":"起始时间","type":"integer","format":"int64","required":true,"example":"1725413647000"},"beg_end":{"description":"终止时间","type":"integer","format":"int64","required":true,"example":"1725413947000"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"description":"错误码","type":"string","example":"SysomOpenAPI.InvalidParameter"},"message":{"description":"返回信息","type":"string","example":"Success"},"data":{"description":"返回数据","type":"object","properties":{"columns":{"description":"字段名称列表","type":"array","items":{"description":"字段名称","type":"string","example":"\"time\", \"pid\", \"comm\""}},"values":{"description":"进程信息列表","type":"array","items":{"description":"进程信息","type":"array","items":{"description":"进程信息详情","type":"string","example":"\"2024-09-04T01:04:30Z\"，\"6890\"，\"coredns\""}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"SysomOpenAPI.InvalidParameter\\\",\\n  \\\"message\\\": \\\"Success\\\",\\n  \\\"data\\\": {\\n    \\\"columns\\\": [\\n      \\\"\\\\\\\"time\\\\\\\", \\\\\\\"pid\\\\\\\", \\\\\\\"comm\\\\\\\"\\\"\\n    ],\\n    \\\"values\\\": [\\n      [\\n        \\\"\\\\\\\"2024-09-04T01:04:30Z\\\\\\\"，\\\\\\\"6890\\\\\\\"，\\\\\\\"coredns\\\\\\\"\\\"\\n      ]\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取pid列表"},"GetHotspotInstanceList":{"summary":"获取热点实例列表","path":"/api/v1/openapi/proxy/post/livetrace_hotspot_instance_list","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxJZOVCX"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"table":{"description":"查询表名","type":"string","required":true,"example":"prof_on"},"beg_start":{"description":"起始时间","type":"integer","format":"int64","required":true,"example":"1725413647000"},"beg_end":{"description":"终止时间","type":"integer","format":"int64","required":true,"example":"1725413947000"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822"},"code":{"description":"错误码","type":"string","example":"SysomOpenAPI.ServerError"},"message":{"description":"描述信息","type":"string","example":"success"},"data":{"description":"返回数据。","type":"object","properties":{"columns":{"description":"字段名称","type":"array","items":{"description":"查询的字段","type":"string","example":"column"}},"values":{"description":"实例列表","type":"array","items":{"description":"实例ID","type":"string","example":"i-2ze5ru5rjurix7f71sxv"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\",\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\",\\n  \\\"message\\\": \\\"success\\\",\\n  \\\"data\\\": {\\n    \\\"columns\\\": [\\n      \\\"column\\\"\\n    ],\\n    \\\"values\\\": [\\n      \\\"i-2ze5ru5rjurix7f71sxv\\\"\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取实例列表"},"GetHotspotCompare":{"summary":"获取热点对比追踪结果","path":"/api/v1/openapi/proxy/post/livetrace_hotspot_compare","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"231282","abilityTreeNodes":["FEATUREalinuxFVZ8GD"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"table":{"description":"查询表名","type":"string","required":true,"example":"prof_on"},"instance1":{"description":"实例1","type":"string","required":true,"example":"i-2zei55fwj8nnu31h3z46\""},"pid1":{"description":"实例1进程","type":"integer","format":"int64","required":false,"example":"0"},"beg1_start":{"description":"起始时间1","type":"integer","format":"int64","required":true,"example":"1725415474000"},"beg1_end":{"description":"终止时间1","type":"integer","format":"int64","required":true,"example":"1725415774000"},"instance2":{"description":"实例2","type":"string","required":true,"example":"0"},"pid2":{"description":"实例2进程","type":"integer","format":"int64","required":false,"example":"i-2zei55fwj8nnu31h3z46"},"beg2_start":{"description":"起始时间2","type":"integer","format":"int64","required":true,"example":"1725415474000"},"beg2_end":{"description":"终止时间2","type":"integer","format":"int64","required":true,"example":"1725415774000"},"hot_type":{"description":"热点类型","type":"string","required":false,"example":"alloc"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822"},"code":{"description":"错误码","type":"string","example":"SysomOpenAPI.ServerError\n"},"message":{"description":"返回信息","type":"string","example":"success"},"data":{"description":"返回数据","type":"object","properties":{"flame":{"description":"差分火焰图数据","type":"object","properties":{"columns":{"description":"字段名称列表","type":"array","items":{"description":"字段名称","type":"string","example":"\"sample\", \"time\""}},"values":{"description":"火焰图数据列表","type":"array","items":{"description":"火焰图数据","type":"array","items":{"description":"时间或者采样数据","type":"string","example":"\"{\\\"metadata\\\":{\\\"spyName\\\":\\\"cprof\\\",\\\"leftTicks\\\":38,\\\"name\\\":\\\"liveTrace\\\",\\\"rightTicks\\\":38,\\\"format\\\":\\\"double\\\",\\\"units\\\":\\\"samples\\\",\\\"appName\\\":\\\"liveTrace.profiling\\\",\\\"sampleRate\\\":100},\\\"version\\\":1,\\\"other\\\":{\\\"Table\\\":\\\"prof_on\\\",\\\"leftInstance\\\":\\\"i-2zei55fwj8nnu31h3z46\\\",\\\"rightInstance\\\":\\\"i-2zei55fwj8nnu31h3z46\\\",\\\"leftPid\\\":0,\\\"rightPid\\\":0},\\\"flamebearer\\\":{\\\"maxSelf\\\":7,\\\"names\\\":[\\\"total\\\",\\\"host\\\",\\\"idle:0\\\",\\\"default_enter_idle\\\",\\\"default_idle\\\",\\\"asm_common_interrupt\\\",\\\"common_interrupt\\\",\\\"irq_exit_rcu\\\",\\\"do_softirq_own_stack\\\",\\\"asm_call_irq_on_stack\\\",\\\"__do_softirq\\\",\\\"net_rx_action\\\",\\\"napi_poll\\\",\\\"nsh_cleanup_module\\\",\\\"napi_complete_done\\\",\\\"netif_receive_skb_list_internal\\\",\\\"__netif_receive_skb_list\\\",\\\"__netif_receive_skb_list_core\\\",\\\"__netif_receive_skb_core\\\",\\\"ip_local_deliver_finish\\\",\\\"ip_protocol_deliver_rcu\\\",\\\"tcp_v4_rcv\\\",\\\"__xfrm_policy_check2.constprop.0\\\",\\\"ip_local_deliver\\\",\\\"nf_hook_slow\\\",\\\"secondary_startup_64_no_verify\\\",\\\"cpu_startup_entry\\\",\\\"do_idle\\\",\\\"cpuidle_idle_call\\\",\\\"haltpoll_reflect\\\",\\\"cpuidle_enter\\\",\\\"cpuidle_enter_state\\\",\\\"sched_clock_cpu\\\",\\\"sched_clock\\\",\\\"kvm_sched_clock_read\\\",\\\"pvclock_clocksource_read\\\",\\\"asm_sysvec_call_function_single\\\",\\\"sysvec_call_function_single\\\",\\\"_nohz_idle_balance\\\",\\\"rebalance_domains\\\",\\\"load_balance\\\",\\\"cpumask_next_and\\\",\\\"_find_next_bit.constprop.0\\\",\\\"update_blocked_averages\\\",\\\"asm_sysvec_apic_timer_interrupt\\\",\\\"sysvec_apic_timer_interrupt\\\",\\\"rcu_core\\\",\\\"rcu_report_qs_rdp\\\",\\\"_raw_spin_unlock_irqrestore\\\",\\\"rcu_do_batch\\\",\\\"__put_task_struct\\\",\\\"rcu_cblist_dequeue\\\",\\\"run_timer_softirq\\\",\\\"__run_timers.part.0\\\",\\\"run_rebalance_domains\\\",\\\"start_kernel\\\",\\\"call_timer_fn\\\",\\\"process_timeout\\\",\\\"note_gp_changes\\\",\\\"schedule_idle\\\",\\\"__schedule\\\"],\\\"numTicks\\\":76,\\\"levels\\\":[[0,38,0,0,38,0,0],[0,38,0,0,38,0,1],[0,38,0,0,38,0,2],[0,2,0,0,2,0,3,0,1,0,0,1,0,4,0,35,0,0,35,0,25],[0,2,0,0,2,0,4,0,1,0,0,1,0,5,0,27,3,0,27,3,26,0,8,0,0,8,0,55],[0,2,0,0,2,0,5,0,1,0,0,1,0,6,3,24,0,3,24,0,27,0,8,0,0,8,0,26],[0,2,0,0,2,0,6,0,1,0,0,1,0,7,3,24,0,3,24,0,28,0,8,0,0,8,0,27],[0,2,0,0,2,0,7,0,1,0,0,1,0,8,3,1,1,3,1,1,29,0,23,0,0,23,0,30,0,7,0,0,7,0,28,0,1,0,0,1,0,59],[0,2,0,0,2,0,8,0,1,0,0,1,0,9,4,23,0,4,23,0,31,0,6,0,0,6,0,30,0,1,1,0,1,1,29,0,1,1,0,1,1,60],[0,2,0,0,2,0,9,0,1,0,0,1,0,10,4,4,1,4,4,1,32,0,19,0,0,19,0,3,0,6,0,0,6,0,31],[0,2,0,0,2,0,10,0,1,0,0,1,0,11,5,3,0,5,3,0,33,0,19,0,0,19,0,4,0,1,0,0,1,0,32,0,5,0,0,5,0,3],[0,2,0,0,2,0,11,0,1,0,0,1,0,12,5,3,0,5,3,0,34,0,2,0,0,2,0,36,0,17,0,0,17,0,44,0,1,0,0,1,0,33,0,5,0,0,5,0,4],[0,2,0,0,2,0,12,0,1,0,0,1,0,13,5,3,3,5,3,3,35,0,2,0,0,2,0,37,0,17,0,0,17,0,45,0,1,0,0,1,0,34,0,1,0,0,1,0,36,0,4,0,0,4,0,44],[0,2,0,0,2,0,13,0,1,0,0,1,0,14,8,2,0,8,2,0,7,0,17,0,0,17,0,7,0,1,1,0,1,1,35,0,1,0,0,1,0,37,0,4,0,0,4,0,45],[0,2,0,0,2,0,14,0,1,0,0,1,0,15,8,2,0,8,2,0,8,0,17,0,0,17,0,8,1,1,0,1,1,0,7,0,4,0,0,4,0,7],[0,2,0,0,2,0,15,0,1,0,0,1,0,16,8,2,0,8,2,0,9,0,17,0,0,17,0,9,1,1,0,1,1,0,8,0,4,0,0,4,0,8],[0,2,0,0,2,0,16,0,1,0,0,1,0,17,8,2,0,8,2,0,10,0,17,0,0,17,0,10,1,1,0,1,1,0,9,0,4,0,0,4,0,9],[0,2,0,0,2,0,17,0,1,0,0,1,0,18,8,2,0,8,2,0,38,0,4,0,0,4,0,46,0,3,0,0,3,0,39,0,2,0,0,2,0,52,0,1,1,0,1,1,53,0,7,0,0,7,0,54,1,1,0,1,1,0,10,0,4,1,0,4,1,10],[0,2,0,0,2,0,18,0,1,0,0,1,0,23,8,1,0,8,1,0,39,0,1,1,0,1,1,43,0,2,0,0,2,0,47,0,2,0,0,2,0,49,0,3,2,0,3,2,40,0,2,2,0,2,2,53,1,7,7,1,7,7,43,1,1,0,1,1,0,38,1,1,0,1,1,0,52,0,1,0,0,1,0,54,0,1,0,0,1,0,46],[0,1,0,0,1,0,19,0,1,0,0,1,0,23,0,1,0,0,1,0,24,8,1,0,8,1,0,40,1,2,2,1,2,2,48,0,1,1,0,1,1,50,0,1,1,0,1,1,51,2,1,0,2,1,0,41,11,1,1,11,1,1,43,1,1,0,1,1,0,53,0,1,1,0,1,1,43,0,1,0,0,1,0,58],[0,1,0,0,1,0,20,0,1,0,0,1,0,24,0,1,0,0,1,0,13,8,1,0,8,1,0,41,7,1,1,7,1,1,42,13,1,0,13,1,0,56,1,1,1,1,1,1,48],[0,1,0,0,1,0,21,0,1,0,0,1,0,13,0,1,0,0,1,0,13,8,1,1,8,1,1,42,21,1,1,21,1,1,57],[0,1,1,0,1,1,22,0,1,1,0,1,1,13,0,1,1,0,1,1,13]]},\\\"timeLine\\\":{\\\"left\\\":{\\\"durationDelta\\\":10,\\\"startTime\\\":1725415480,\\\"samples\\\":[3,2,5,5,7,8,7,1]},\\\"right\\\":{\\\"durationDelta\\\":10,\\\"startTime\\\":1725415480,\\\"samples\\\":[3,2,5,5,7,8,7,1]}}}\"\n"}}}}},"series_instance1":{"description":"热点时序序列1","type":"object","properties":{"columns":{"description":"字段名称列表","type":"array","items":{"description":"字段名称","type":"string","example":"\"time\", \"EXPR$1\""}},"values":{"description":"热点时序数据列表","type":"array","items":{"description":"热点时序数据","type":"array","items":{"description":"时间或者热点采样值","type":"string","example":"\"2024-09-04T02:04:40Z\", \"3\""}}}}},"series_instance2":{"description":"热点时序序列2","type":"object","properties":{"columns":{"description":"字段名称列表","type":"array","items":{"description":"字段名称","type":"string","example":"\"time\", \"EXPR$1\""}},"values":{"description":"热点时序数据列表","type":"array","items":{"description":"热点时序数据","type":"array","items":{"description":"时间或者热点采样值","type":"string","example":"\"2024-09-04T02:04:40Z\", \"3\""}}}}}}},"success":{"description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\",\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\\n\\\",\\n  \\\"message\\\": \\\"success\\\",\\n  \\\"data\\\": {\\n    \\\"flame\\\": {\\n      \\\"columns\\\": [\\n        \\\"\\\\\\\"sample\\\\\\\", \\\\\\\"time\\\\\\\"\\\"\\n      ],\\n      \\\"values\\\": [\\n        [\\n          \\\"\\\\\\\"{\\\\\\\\\\\\\\\"metadata\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"spyName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"cprof\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"leftTicks\\\\\\\\\\\\\\\":38,\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"liveTrace\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rightTicks\\\\\\\\\\\\\\\":38,\\\\\\\\\\\\\\\"format\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"double\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"units\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"samples\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"appName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"liveTrace.profiling\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sampleRate\\\\\\\\\\\\\\\":100},\\\\\\\\\\\\\\\"version\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"other\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"Table\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"prof_on\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"leftInstance\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"i-2zei55fwj8nnu31h3z46\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rightInstance\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"i-2zei55fwj8nnu31h3z46\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"leftPid\\\\\\\\\\\\\\\":0,\\\\\\\\\\\\\\\"rightPid\\\\\\\\\\\\\\\":0},\\\\\\\\\\\\\\\"flamebearer\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"maxSelf\\\\\\\\\\\\\\\":7,\\\\\\\\\\\\\\\"names\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"total\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"host\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"idle:0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"default_enter_idle\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"default_idle\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"asm_common_interrupt\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"common_interrupt\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"irq_exit_rcu\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"do_softirq_own_stack\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"asm_call_irq_on_stack\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__do_softirq\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"net_rx_action\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"napi_poll\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"nsh_cleanup_module\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"napi_complete_done\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"netif_receive_skb_list_internal\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__netif_receive_skb_list\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__netif_receive_skb_list_core\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__netif_receive_skb_core\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"ip_local_deliver_finish\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"ip_protocol_deliver_rcu\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"tcp_v4_rcv\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__xfrm_policy_check2.constprop.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"ip_local_deliver\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"nf_hook_slow\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secondary_startup_64_no_verify\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu_startup_entry\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"do_idle\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpuidle_idle_call\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"haltpoll_reflect\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpuidle_enter\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpuidle_enter_state\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sched_clock_cpu\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sched_clock\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"kvm_sched_clock_read\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"pvclock_clocksource_read\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"asm_sysvec_call_function_single\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sysvec_call_function_single\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"_nohz_idle_balance\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rebalance_domains\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"load_balance\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpumask_next_and\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"_find_next_bit.constprop.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"update_blocked_averages\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"asm_sysvec_apic_timer_interrupt\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sysvec_apic_timer_interrupt\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rcu_core\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rcu_report_qs_rdp\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"_raw_spin_unlock_irqrestore\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rcu_do_batch\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__put_task_struct\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rcu_cblist_dequeue\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"run_timer_softirq\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__run_timers.part.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"run_rebalance_domains\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"start_kernel\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"call_timer_fn\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"process_timeout\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"note_gp_changes\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"schedule_idle\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"__schedule\\\\\\\\\\\\\\\"],\\\\\\\\\\\\\\\"numTicks\\\\\\\\\\\\\\\":76,\\\\\\\\\\\\\\\"levels\\\\\\\\\\\\\\\":[[0,38,0,0,38,0,0],[0,38,0,0,38,0,1],[0,38,0,0,38,0,2],[0,2,0,0,2,0,3,0,1,0,0,1,0,4,0,35,0,0,35,0,25],[0,2,0,0,2,0,4,0,1,0,0,1,0,5,0,27,3,0,27,3,26,0,8,0,0,8,0,55],[0,2,0,0,2,0,5,0,1,0,0,1,0,6,3,24,0,3,24,0,27,0,8,0,0,8,0,26],[0,2,0,0,2,0,6,0,1,0,0,1,0,7,3,24,0,3,24,0,28,0,8,0,0,8,0,27],[0,2,0,0,2,0,7,0,1,0,0,1,0,8,3,1,1,3,1,1,29,0,23,0,0,23,0,30,0,7,0,0,7,0,28,0,1,0,0,1,0,59],[0,2,0,0,2,0,8,0,1,0,0,1,0,9,4,23,0,4,23,0,31,0,6,0,0,6,0,30,0,1,1,0,1,1,29,0,1,1,0,1,1,60],[0,2,0,0,2,0,9,0,1,0,0,1,0,10,4,4,1,4,4,1,32,0,19,0,0,19,0,3,0,6,0,0,6,0,31],[0,2,0,0,2,0,10,0,1,0,0,1,0,11,5,3,0,5,3,0,33,0,19,0,0,19,0,4,0,1,0,0,1,0,32,0,5,0,0,5,0,3],[0,2,0,0,2,0,11,0,1,0,0,1,0,12,5,3,0,5,3,0,34,0,2,0,0,2,0,36,0,17,0,0,17,0,44,0,1,0,0,1,0,33,0,5,0,0,5,0,4],[0,2,0,0,2,0,12,0,1,0,0,1,0,13,5,3,3,5,3,3,35,0,2,0,0,2,0,37,0,17,0,0,17,0,45,0,1,0,0,1,0,34,0,1,0,0,1,0,36,0,4,0,0,4,0,44],[0,2,0,0,2,0,13,0,1,0,0,1,0,14,8,2,0,8,2,0,7,0,17,0,0,17,0,7,0,1,1,0,1,1,35,0,1,0,0,1,0,37,0,4,0,0,4,0,45],[0,2,0,0,2,0,14,0,1,0,0,1,0,15,8,2,0,8,2,0,8,0,17,0,0,17,0,8,1,1,0,1,1,0,7,0,4,0,0,4,0,7],[0,2,0,0,2,0,15,0,1,0,0,1,0,16,8,2,0,8,2,0,9,0,17,0,0,17,0,9,1,1,0,1,1,0,8,0,4,0,0,4,0,8],[0,2,0,0,2,0,16,0,1,0,0,1,0,17,8,2,0,8,2,0,10,0,17,0,0,17,0,10,1,1,0,1,1,0,9,0,4,0,0,4,0,9],[0,2,0,0,2,0,17,0,1,0,0,1,0,18,8,2,0,8,2,0,38,0,4,0,0,4,0,46,0,3,0,0,3,0,39,0,2,0,0,2,0,52,0,1,1,0,1,1,53,0,7,0,0,7,0,54,1,1,0,1,1,0,10,0,4,1,0,4,1,10],[0,2,0,0,2,0,18,0,1,0,0,1,0,23,8,1,0,8,1,0,39,0,1,1,0,1,1,43,0,2,0,0,2,0,47,0,2,0,0,2,0,49,0,3,2,0,3,2,40,0,2,2,0,2,2,53,1,7,7,1,7,7,43,1,1,0,1,1,0,38,1,1,0,1,1,0,52,0,1,0,0,1,0,54,0,1,0,0,1,0,46],[0,1,0,0,1,0,19,0,1,0,0,1,0,23,0,1,0,0,1,0,24,8,1,0,8,1,0,40,1,2,2,1,2,2,48,0,1,1,0,1,1,50,0,1,1,0,1,1,51,2,1,0,2,1,0,41,11,1,1,11,1,1,43,1,1,0,1,1,0,53,0,1,1,0,1,1,43,0,1,0,0,1,0,58],[0,1,0,0,1,0,20,0,1,0,0,1,0,24,0,1,0,0,1,0,13,8,1,0,8,1,0,41,7,1,1,7,1,1,42,13,1,0,13,1,0,56,1,1,1,1,1,1,48],[0,1,0,0,1,0,21,0,1,0,0,1,0,13,0,1,0,0,1,0,13,8,1,1,8,1,1,42,21,1,1,21,1,1,57],[0,1,1,0,1,1,22,0,1,1,0,1,1,13,0,1,1,0,1,1,13]]},\\\\\\\\\\\\\\\"timeLine\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"left\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"durationDelta\\\\\\\\\\\\\\\":10,\\\\\\\\\\\\\\\"startTime\\\\\\\\\\\\\\\":1725415480,\\\\\\\\\\\\\\\"samples\\\\\\\\\\\\\\\":[3,2,5,5,7,8,7,1]},\\\\\\\\\\\\\\\"right\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"durationDelta\\\\\\\\\\\\\\\":10,\\\\\\\\\\\\\\\"startTime\\\\\\\\\\\\\\\":1725415480,\\\\\\\\\\\\\\\"samples\\\\\\\\\\\\\\\":[3,2,5,5,7,8,7,1]}}}\\\\\\\"\\\\n\\\"\\n        ]\\n      ]\\n    },\\n    \\\"series_instance1\\\": {\\n      \\\"columns\\\": [\\n        \\\"\\\\\\\"time\\\\\\\", \\\\\\\"EXPR$1\\\\\\\"\\\"\\n      ],\\n      \\\"values\\\": [\\n        [\\n          \\\"\\\\\\\"2024-09-04T02:04:40Z\\\\\\\", \\\\\\\"3\\\\\\\"\\\"\\n        ]\\n      ]\\n    },\\n    \\\"series_instance2\\\": {\\n      \\\"columns\\\": [\\n        \\\"\\\\\\\"time\\\\\\\", \\\\\\\"EXPR$1\\\\\\\"\\\"\\n      ],\\n      \\\"values\\\": [\\n        [\\n          \\\"\\\\\\\"2024-09-04T02:04:40Z\\\\\\\", \\\\\\\"3\\\\\\\"\\\"\\n        ]\\n      ]\\n    }\\n  },\\n  \\\"success\\\": true\\n}\",\"type\":\"json\"}]","title":"获取热点对比追踪结果"},"GetHotspotAnalysis":{"summary":"获取热点分析结果","path":"/api/v1/openapi/proxy/post/livetrace_hotspot_analysis","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxJZOVCX"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"appType":{"description":"应用类型","type":"string","required":true,"example":"GR"},"pid":{"description":"进程Pid","type":"integer","format":"int64","required":false,"example":"1657494"},"instance":{"description":"实例ID","type":"string","required":true,"example":"i-2ze5ru5rjurix7f71sxv"},"beg_start":{"description":"起始时间","type":"integer","format":"int64","required":true,"example":"1725410348000"},"beg_end":{"description":"终止时间","type":"integer","format":"int64","required":true,"example":"1725413948000"},"table":{"description":"查询表名","type":"string","required":false,"example":"prof_on"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"description":"错误码","type":"string","example":"SysomOpenAPI.ServerError"},"data":{"description":"返回数据","type":"string","example":"\"AliYunDun:1657494进程(1657494):根据提供的热点调用栈信息，热点主要集中在`__nanosleep_nocancel`以及相关的系统调用`SyS_nanosleep`上，这表明进程在等待特定的时间间隔。通常这是由于应用中存在长时间的睡眠或高频率的定时操作导致的，比如定时任务、心跳检测等。\\n\\n应用代码在需要定期执行某些检查或等待外部事件时会使用`nanosleep`来实现精确的延时控制。为了优化这种情况，可以考虑以下方案：\\n- 评估是否可以减少定时任务的频率。\\n- 使用条件变量替代单纯的睡眠等待，以响应更快的事件触发。\\n- 如果是I/O密集型操作等待，考虑优化I/O路径或提升I/O效率。建议使用SysOM平台的IO诊断工具来进一步定位具体的I/O瓶颈。\""},"success":{"description":"调用是否成功","type":"boolean","example":"True"},"message":{"description":"响应消息","type":"string","example":"\nsuccess"}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\",\\n  \\\"data\\\": \\\"\\\\\\\"AliYunDun:1657494进程(1657494):根据提供的热点调用栈信息，热点主要集中在`__nanosleep_nocancel`以及相关的系统调用`SyS_nanosleep`上，这表明进程在等待特定的时间间隔。通常这是由于应用中存在长时间的睡眠或高频率的定时操作导致的，比如定时任务、心跳检测等。\\\\\\\\n\\\\\\\\n应用代码在需要定期执行某些检查或等待外部事件时会使用`nanosleep`来实现精确的延时控制。为了优化这种情况，可以考虑以下方案：\\\\\\\\n- 评估是否可以减少定时任务的频率。\\\\\\\\n- 使用条件变量替代单纯的睡眠等待，以响应更快的事件触发。\\\\\\\\n- 如果是I/O密集型操作等待，考虑优化I/O路径或提升I/O效率。建议使用SysOM平台的IO诊断工具来进一步定位具体的I/O瓶颈。\\\\\\\"\\\",\\n  \\\"success\\\": true,\\n  \\\"message\\\": \\\"\\\\nsuccess\\\"\\n}\",\"type\":\"json\"}]","title":"获取热点分析结果"},"StartAIAnalysis":{"summary":"启动AI作业分析","path":"/api/v1/openapi/proxy/post/start_ai_analysis","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"255600","abilityTreeNodes":["FEATUREalinuxFVZ8GD"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"instance":{"description":"实例ID","type":"string","required":false,"example":"i-wz9dej066kii4goqxxxx"},"region":{"description":"地域id","type":"string","required":false,"example":"cn-shenzhen"},"timeout":{"description":"AI Infra分析时间；\n单位：毫秒；\n默认值：2000；","type":"integer","format":"int32","required":false,"example":"2000"},"pids":{"description":"AI作业进程pid，支持批量输入，逗号分隔","type":"string","required":false,"example":"2421,36547,10043"},"comms":{"description":"进程名，可选参数","type":"string","required":false,"example":"python_test"},"channel":{"description":"通道名","type":"string","required":false,"example":"ecs_sysom"},"analysisTool":{"description":"分析工具","type":"string","required":false,"example":"gp/pyki/analysis"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822"},"code":{"description":"返回码。","type":"string","example":"Success"},"message":{"description":"错误信息。","type":"string","example":"\"\""},"data":{"description":"返回数据","type":"object","properties":{"analysis_id":{"description":"AI分析ID","type":"string","example":"16896fa8-37f6-4c70-bb32-67fa9817d426"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\",\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": {\\n    \\\"analysis_id\\\": \\\"16896fa8-37f6-4c70-bb32-67fa9817d426\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"启动AI Infra观测"},"GetListRecord":{"summary":"AI Infra获取分析记录列表","path":"/api/v1/app_observ/aiAnalysis/list_record","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"255604","abilityTreeNodes":["FEATUREalinuxFVZ8GD"],"tenantRelevance":"publicInformation"},"parameters":[{"name":"current","in":"query","schema":{"description":"当前所在分页","type":"integer","format":"int64","required":false,"example":"5"}},{"name":"pageSize","in":"query","schema":{"description":"当前页数据条数。","type":"integer","format":"int64","required":false,"example":"10"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"description":"状态码。","type":"string","example":"Success"},"message":{"description":"状态码描述。","type":"string","example":"\"\""},"data":{"description":"返回数据。","type":"array","items":{"description":"一条分析记录的返回对象","type":"object","properties":{"analysisId":{"description":"AI分析ID","type":"string","example":"16896fa8-37f6-4c70-bb32-67fa9817d426"},"analysisTime":{"description":"分析时间","type":"string","example":"2024-12-24 12:02:05\n"},"status":{"description":"分析状态","type":"string","example":"已完成/分析失败"},"arguments":{"description":"AI作业分析的分析参数","type":"string","example":"timeout=2000 ms"},"failedLog":{"description":"分析失败日志","type":"string","example":"机器i-wz9dej066kii4goqpnze分析失败, 失败原因: Not get GPU trace data for 'e59ce870-dbd4-4c44-a814-174ac6ab5bcf' '['118534']'!"}}}},"total":{"description":"总记录数","type":"integer","format":"int64","example":"19"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"analysisId\\\": \\\"16896fa8-37f6-4c70-bb32-67fa9817d426\\\",\\n      \\\"analysisTime\\\": \\\"2024-12-24 12:02:05\\\\n\\\",\\n      \\\"status\\\": \\\"已完成/分析失败\\\",\\n      \\\"arguments\\\": \\\"timeout=2000 ms\\\",\\n      \\\"failedLog\\\": \\\"机器i-wz9dej066kii4goqpnze分析失败, 失败原因: Not get GPU trace data for 'e59ce870-dbd4-4c44-a814-174ac6ab5bcf' '['118534']'!\\\"\\n    }\\n  ],\\n  \\\"total\\\": 19\\n}\",\"type\":\"json\"}]","title":"获取AI Infra分析记录"},"GetAIQueryResult":{"summary":"查看AI Infra分析结果","path":"/api/v1/app_observ/aiAnalysis/query_result","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"255605","abilityTreeNodes":["FEATUREalinuxFVZ8GD"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"analysisId":{"description":"AI分析ID","type":"string","required":false,"example":"16896fa8-37f6-4c70-bb32-67fa9817d426\n"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"description":"错误码\n","type":"string","example":"Success"},"message":{"description":"错误信息。","type":"string","example":"分析ID: 56dae746-ef55-4f77-8373-cb3594c41457\n机器i-bp164ns76pzirbwv0snt分析失败, 失败原因: Not get GPU trace data for '56dae746-ef55-4f77-8373-cb3594c41457' '['93811']'!"},"data":{"description":"返回结果，数据量比较大","type":"string","example":"{'task_id': 'y4ba8uRV'}"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"分析ID: 56dae746-ef55-4f77-8373-cb3594c41457\\\\n机器i-bp164ns76pzirbwv0snt分析失败, 失败原因: Not get GPU trace data for '56dae746-ef55-4f77-8373-cb3594c41457' '['93811']'!\\\",\\n  \\\"data\\\": \\\"{'task_id': 'y4ba8uRV'}\\\"\\n}\",\"type\":\"json\"}]","title":"获取AI Infra观测结果"},"GetResources":{"summary":"获取集群/节点资源实时使用情况","path":"/api/v1/openapi/cluster_health/instant/resource","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxFVZ8GD"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}},{"name":"type","in":"query","schema":{"description":"资源类型","type":"string","required":false,"enumValueTitles":{"上行速率":"network_input","下行速率":"network_output","磁盘":"disk","内存":"mem","CPU":"cpu"},"example":"mem"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"result: code=1 msg=(Request failed, status_code != 200)"},"data":{"description":"返回数据。","type":"object","properties":{"total":{"description":"资源总数","type":"number","format":"float","example":"2354"},"usage":{"description":"资源使用量","type":"number","format":"float","example":"100"},"unit":{"description":"单位","type":"string","example":"Kbytes"}}},"request_id":{"description":"请求 RequestId","type":"string","example":"35F91AAB-5FDF-5A22-B211-C7C6B00817D0"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"result: code=1 msg=(Request failed, status_code != 200)\\\",\\n  \\\"data\\\": {\\n    \\\"total\\\": 2354,\\n    \\\"usage\\\": 100,\\n    \\\"unit\\\": \\\"Kbytes\\\"\\n  },\\n  \\\"request_id\\\": \\\"35F91AAB-5FDF-5A22-B211-C7C6B00817D0\\\"\\n}\",\"type\":\"json\"}]","title":"获取集群/节点资源实时使用情况"},"GetHostCount":{"summary":"获取集群节点数量或节点Pod数量","path":"/api/v1/openapi/cluster_health/range/host_count","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}},{"name":"start","in":"query","schema":{"description":"开始时间","type":"number","format":"float","required":false,"example":"1725797727754"}},{"name":"end","in":"query","schema":{"description":"结束时间","type":"number","format":"float","required":false,"example":"1725801327754"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"“”"},"data":{"description":"返回数据。","type":"array","items":{"description":"返回数据。","type":"object","properties":{"time":{"description":"时间点","type":"integer","format":"int64","example":"1725797727754"},"value":{"description":"数量","type":"integer","format":"int32","example":"5"}}}},"total":{"description":"总条数。","type":"integer","format":"int64","example":"3"},"request_id":{"description":"请求 RequestId","type":"string","example":"43A910E9-A739-525E-855D-A32C257F1826"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"“”\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"time\\\": 1725797727754,\\n      \\\"value\\\": 5\\n    }\\n  ],\\n  \\\"total\\\": 3,\\n  \\\"request_id\\\": \\\"43A910E9-A739-525E-855D-A32C257F1826\\\"\\n}\",\"type\":\"json\"}]","title":"获取集群节点数量或节点Pod数量"},"InitialSysom":{"summary":"初始化 SysOM，确保服务角色存在。","path":"/api/v1/openapi/initial","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux33ME7W"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"check_only":{"title":"是否只检查服务角色是否存在","description":"是否只检查服务角色是否存在","type":"boolean","required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"","description":"请求ID，可用于全链路诊断","type":"string","example":"3FCA2E38-2A8E-5501-93BD-5CE1BA58F2EF"},"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict"},"data":{"description":"返回结果。","type":"object","properties":{"role_exist":{"description":"服务角色是否存在","type":"boolean","example":"true"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"3FCA2E38-2A8E-5501-93BD-5CE1BA58F2EF\\\",\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict\\\",\\n  \\\"data\\\": {\\n    \\\"role_exist\\\": true\\n  }\\n}\",\"type\":\"json\"}]","title":"开通Alinux控制台","description":"SysOM的部分接口需要基于 `AliyunServiceRoleForSysom ` 服务角色来进行角色扮演，因此在使用 SysOM 功能之前需要调用本接口进行初始化，确保服务角色已经创建。\n- `check_only` ：如果本参数为 True 则代表只检查服务角色是否存在，不会创建服务角色，如果本参数为 False 或不填，则调用本接口会在服务角色不存在时自动创建服务角色。\n\n> \n> 注意：当通过API调用初始化角色时，代表您已默认同意操作系统控制台的用户协议，请参考：[操作系统控制台概述](https://help.aliyun.com/zh/alinux/product-overview/os-console-overview?spm=a2c4g.11186623.help-menu-2632541.d_0_7.35a829ffLjQtgg)，[阿里云服务试用条款](https://terms.aliyun.com/legal-agreement/terms/suit_bu1_ali_cloud/suit_bu1_ali_cloud202001091714_51956.html)"},"ListClusters":{"summary":"获取当前用户所有已纳管的集群","path":"/api/v1/am/cluster/list_clusters","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"253340","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"current","in":"query","schema":{"title":"","description":"当前页数（从第1页开始）","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"name","in":"query","schema":{"description":"通过插件的名字过滤插件","type":"string","required":false,"example":"proxy-next-upstream"}},{"name":"cluster_id","in":"query","schema":{"description":"通过集群 ID 过滤\n\n> 这个集群ID不是 ACK 集群ID，而是通过本接口返回的数据里面的 `id` 字段","type":"string","required":false,"example":"cb7d4cc26c8f845fb8a8255ffd394820e"}},{"name":"cluster_status","in":"query","schema":{"description":"- `Running` : 集群纳管正常；\n- `Installing`: 集群有安装任务正在进行；\n- `Uninstalling`: 集群有卸载任务正在进行；\n- `Upgrading`: 集群有更新任务正在进行；\n- `Offline`: 集群离线，纳管异常。","type":"string","required":false,"example":"Running","enum":["Running","Installing","Uninstalling","Upgrading","Offline"]}},{"name":"cluster_type","in":"query","schema":{"description":"- `ACK`: ACK 集群\n- `CUSTOM`: 自定义集群（默认集群属于自定义集群）","type":"string","required":false,"example":"ACK","enum":["ACK","CUSTOM"]}},{"name":"id","in":"query","schema":{"description":"本字段已废弃，请使用 cluster_id 字段过滤","type":"string","required":false,"example":"cb7d4cc26c8f845fb8a8255ffd394820e"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"success"},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7"},"total":{"description":"总记录数","type":"integer","format":"int64","example":"64"},"data":{"description":"返回数据","type":"array","items":{"description":"返回数据。","type":"object","properties":{"id":{"description":"集群ID","type":"string","example":"5389fba5-92a1-4ff4-9b26-773b97828144"},"name":{"description":"集群名称","type":"string","example":"auto-name-sbvCT"},"cluster_id":{"description":"实际集群ID。\n\n> - 对于 `ACK` 类型的集群，这个集群ID为 ACK 集群的ID；\n> - 对于 `CUSTOM` 类型的集群，这个集群ID作为唯一标识，没有其它额外含义。","type":"string","example":"c666d4774f0e2440b979bf917bf100e40"},"cluster_type":{"description":"- `ACK`: ACK 集群\n- `CUSTOM`: 自定义集群（默认集群属于自定义集群）","type":"string","example":"ACK","enum":["ACK","CUSTOM"]},"region":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"cluster_status":{"description":"- `Running` : 集群纳管正常；\n- `Installing`: 集群有安装任务正在进行；\n- `Uninstalling`: 集群有卸载任务正在进行；\n- `Upgrading`: 集群有更新任务正在进行；\n- `Offline`: 集群离线，纳管异常。","type":"string","example":"Running"},"created_at":{"description":"创建时间","type":"string","example":"2024-12-25T15:08:19"},"updated_at":{"description":"更新时间","type":"string","example":"2024-12-25T15:08:19"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7\\\",\\n  \\\"total\\\": 64,\\n  \\\"data\\\": [\\n    {\\n      \\\"id\\\": \\\"5389fba5-92a1-4ff4-9b26-773b97828144\\\",\\n      \\\"name\\\": \\\"auto-name-sbvCT\\\",\\n      \\\"cluster_id\\\": \\\"c666d4774f0e2440b979bf917bf100e40\\\",\\n      \\\"cluster_type\\\": \\\"ACK\\\",\\n      \\\"region\\\": \\\"cn-hangzhou\\\",\\n      \\\"cluster_status\\\": \\\"Running\\\",\\n      \\\"created_at\\\": \\\"2024-12-25T15:08:19\\\",\\n      \\\"updated_at\\\": \\\"2024-12-25T15:08:19\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取当前用户纳管集群列表"},"ListInstances":{"summary":"获取实例列表","path":"/api/v1/am/instance/list_instances","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"236493","abilityTreeNodes":["FEATUREalinuxFVZ8GD"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"current","in":"query","schema":{"description":"页码分页时存在该字段，表示当前页","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小，默认值为20，取值范围【1,100】","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"instance","in":"query","schema":{"description":"通过 ECS 实例ID过滤","type":"string","required":false,"example":"i-8vbfd3g9vs32sfuvv38h"}},{"name":"status","in":"query","schema":{"title":"通过状态过滤实例","description":"通过状态过滤实例","type":"string","required":false,"example":"Running"}},{"name":"region","in":"query","schema":{"title":"通过区域过滤实例\n","description":"通过区域过滤实例\n","type":"string","required":false,"example":"cn-shenzhen"}},{"name":"cluster_id","in":"query","schema":{"title":"集群ID","description":"集群ID","type":"string","required":false,"example":"xxxxx"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"SysomOpenAPI.ServerError\n"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"Requests for llm service failed\n"},"data":{"description":"返回结果。","type":"array","items":{"description":"返回结果。","type":"object","properties":{"instance":{"title":"ECS实例ID","description":"ECS实例ID","type":"string","example":"i-wz9d00ut2ska3mlyhn6j"},"region":{"title":"实例所在区域","description":"实例所在区域","type":"string","example":"cn-hangzhou"},"kernel_version":{"title":"实例当前的内核版本","description":"实例当前的内核版本","type":"string","example":"5.10.134-16.1.an8.x86_64"},"os_arch":{"title":"ECS实例的架构","description":"ECS实例的架构","type":"string","example":"x86"},"os_name":{"title":"实例的操作系统名称（取自 /etc/os-release）","description":"实例的操作系统名称（取自 /etc/os-release）","type":"string","example":"Anolis OS"},"os_version":{"title":"实例的操作系统版本（取自 /etc/os-release）","description":"实例的操作系统版本（取自 /etc/os-release）","type":"string","example":"8.9"},"os_name_id":{"title":"实例的操作系统名称ID（取自 /etc/os-release）","description":"实例的操作系统名称ID（取自 /etc/os-release）","type":"string","example":"anolis"},"os_version_id":{"title":"实例操作系统版本ID（取自 /etc/os-release）","description":"实例操作系统版本ID（取自 /etc/os-release）","type":"string","example":"rhel fedora centos"},"os_health_score":{"title":"实例的健康分","description":"实例的健康分","type":"string","example":"100"},"status":{"title":"实例的状态","description":"实例的状态","type":"string","example":"Running"},"meta":{"title":"实例的元数据信息","description":"实例的元数据信息","type":"any","example":"{\n    \"uname\": \"Linux\",\n    \"oncpu\": \"off\",\n    \"release\": \"5.10.134-16.3.al8.aarch64\",\n    \"monitor\": \"on\",\n    \"version_id\": \"3\",\n    \"version\": \"3 (Soaring Falcon)\",\n    \"podNs\": [\n\n    ],\n    \"machine\": \"aarch64\",\n    \"name\": \"Alibaba Cloud Linux\",\n    \"sysak\": \"3.4.0-1\",\n    \"id\": \"alinux\",\n    \"region\": \"cn-hangzhou\",\n    \"centos-release\": \"Alibaba Cloud Linux release 3 (Soaring Falcon)\"\n}"},"cluster_id":{"description":"集群ID","type":"string","example":"c2218ca2b76ec45e7b7ee1693f6fcd374"}}}},"request_id":{"description":"请求 RequestId","type":"string","example":"9515E5A0-8905-59B0-9BBF-5F0BE568C3A0"},"total":{"description":"总记录数","type":"integer","format":"int64","example":"623"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\\n\\\",\\n  \\\"message\\\": \\\"Requests for llm service failed\\\\n\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"instance\\\": \\\"i-wz9d00ut2ska3mlyhn6j\\\",\\n      \\\"region\\\": \\\"cn-hangzhou\\\",\\n      \\\"kernel_version\\\": \\\"5.10.134-16.1.an8.x86_64\\\",\\n      \\\"os_arch\\\": \\\"x86\\\",\\n      \\\"os_name\\\": \\\"Anolis OS\\\",\\n      \\\"os_version\\\": \\\"8.9\\\",\\n      \\\"os_name_id\\\": \\\"anolis\\\",\\n      \\\"os_version_id\\\": \\\"rhel fedora centos\\\",\\n      \\\"os_health_score\\\": \\\"100\\\",\\n      \\\"status\\\": \\\"Running\\\",\\n      \\\"meta\\\": \\\"{\\\\n    \\\\\\\"uname\\\\\\\": \\\\\\\"Linux\\\\\\\",\\\\n    \\\\\\\"oncpu\\\\\\\": \\\\\\\"off\\\\\\\",\\\\n    \\\\\\\"release\\\\\\\": \\\\\\\"5.10.134-16.3.al8.aarch64\\\\\\\",\\\\n    \\\\\\\"monitor\\\\\\\": \\\\\\\"on\\\\\\\",\\\\n    \\\\\\\"version_id\\\\\\\": \\\\\\\"3\\\\\\\",\\\\n    \\\\\\\"version\\\\\\\": \\\\\\\"3 (Soaring Falcon)\\\\\\\",\\\\n    \\\\\\\"podNs\\\\\\\": [\\\\n\\\\n    ],\\\\n    \\\\\\\"machine\\\\\\\": \\\\\\\"aarch64\\\\\\\",\\\\n    \\\\\\\"name\\\\\\\": \\\\\\\"Alibaba Cloud Linux\\\\\\\",\\\\n    \\\\\\\"sysak\\\\\\\": \\\\\\\"3.4.0-1\\\\\\\",\\\\n    \\\\\\\"id\\\\\\\": \\\\\\\"alinux\\\\\\\",\\\\n    \\\\\\\"region\\\\\\\": \\\\\\\"cn-hangzhou\\\\\\\",\\\\n    \\\\\\\"centos-release\\\\\\\": \\\\\\\"Alibaba Cloud Linux release 3 (Soaring Falcon)\\\\\\\"\\\\n}\\\",\\n      \\\"cluster_id\\\": \\\"c2218ca2b76ec45e7b7ee1693f6fcd374\\\"\\n    }\\n  ],\\n  \\\"request_id\\\": \\\"9515E5A0-8905-59B0-9BBF-5F0BE568C3A0\\\",\\n  \\\"total\\\": 623\\n}\",\"type\":\"json\"}]","title":"获取纳管实例列表","description":"当前接口获取的实例列表是已经被 SysOM 纳管的机器列表，如果某个ECS实例存在但是没有被 SysOM 纳管，则不会出现在列表当中。"},"ListPluginsInstances":{"summary":"获取插件的安装/更新/卸载实例列表","path":"/api/v1/am/agent/listPluginsInstances","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxFVZ8GD"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"operation_type","in":"query","schema":{"description":"通过实例的插件安装状态过滤实例","type":"string","required":true,"example":"install"}},{"name":"plugin_id","in":"query","schema":{"description":"指定本参数则过滤出指定Agent的实例列表","type":"string","required":true,"example":"74a86327-3170-412c-8e67-da3389ec56a9"}},{"name":"region","in":"query","schema":{"description":"通过区域过滤实例\n","type":"string","required":true,"example":"cn-shenzhen"}},{"name":"instance_id_name","in":"query","schema":{"description":"通过实例id或实例名称过滤，支持模糊查询","type":"string","required":false,"example":"i-bpxx"}},{"name":"instance_tag","in":"query","schema":{"description":"通过实例标签过滤","type":"string","required":false,"example":"{\"key\":\"app\",\"value\":\"sysom-aliyun-com\"}"}},{"name":"current","in":"query","schema":{"description":"页码分页时存在该字段，表示当前页","type":"integer","format":"int64","required":false,"example":"5"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小，默认值为10","type":"integer","format":"int64","required":false,"example":"20"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"描述信息","type":"string","example":"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict"},"data":{"description":"返回结果。","type":"array","items":{"description":"返回数据。","type":"object","properties":{"instance_id":{"description":"实例ID","type":"string","example":"i-bp118piqcio9tiwgh84b"},"instance_name":{"description":"组件实例名称。","type":"string","example":"allowed-repos-qmf8w"},"instance_tag":{"description":"实例标签","type":"array","items":{"description":"实例标签","type":"object","properties":{"tag_key":{"description":"标签的名称。","type":"string","example":"test_tag_key"},"tag_value":{"description":"标签值。","type":"string","example":"test_tag_value"}}}},"public_ip":{"description":"公网ip","type":"string","example":"1.1.1.1"},"private_ip":{"description":"私网ip","type":"string","example":"1.1.1.1"},"resource_group_name":{"description":"资源组名称","type":"string","example":"default resource group"},"resource_group_id":{"description":"资源组ID。","type":"string","example":"rg-xxxx"},"os_name":{"description":"实例的操作系统名称","type":"string","example":"Alibaba Cloud Linux  3.2104 LTS 64 bit"},"region":{"description":"实例所在区域","type":"string","example":"cn-hangzhou"}}}},"request_id":{"description":"请求 RequestId","type":"string","example":"35F91AAB-5FDF-5A22-B211-C7C6B00817D0"},"total":{"description":"查询结果总数。","type":"integer","format":"int64","example":"42"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"instance_id\\\": \\\"i-bp118piqcio9tiwgh84b\\\",\\n      \\\"instance_name\\\": \\\"allowed-repos-qmf8w\\\",\\n      \\\"instance_tag\\\": [\\n        {\\n          \\\"tag_key\\\": \\\"test_tag_key\\\",\\n          \\\"tag_value\\\": \\\"test_tag_value\\\"\\n        }\\n      ],\\n      \\\"public_ip\\\": \\\"1.1.1.1\\\",\\n      \\\"private_ip\\\": \\\"1.1.1.1\\\",\\n      \\\"resource_group_name\\\": \\\"default resource group\\\",\\n      \\\"resource_group_id\\\": \\\"rg-xxxx\\\",\\n      \\\"os_name\\\": \\\"Alibaba Cloud Linux  3.2104 LTS 64 bit\\\",\\n      \\\"region\\\": \\\"cn-hangzhou\\\"\\n    }\\n  ],\\n  \\\"request_id\\\": \\\"35F91AAB-5FDF-5A22-B211-C7C6B00817D0\\\",\\n  \\\"total\\\": 42\\n}\",\"type\":\"json\"}]","title":"获取组件的实例列表","description":"当前接口获取的实例列表是已经被 SysOM 纳管的机器列表，如果某个ECS实例存在但是没有被 SysOM 纳管，则不会出现在列表当中。"},"ListPodsOfInstance":{"summary":"获取集群或实例中的pod列表","path":"/api/v1/am/instance/list_pod_of_instance","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"256739","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"current","in":"query","schema":{"description":"当前页码（从1开始）","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小，默认值为10","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"cluster_id","in":"query","schema":{"description":"集群标识符","type":"string","required":false,"example":"c96e34d74eb6748f3b2a46552d5d653f6"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"错误码\n","type":"string","example":"Success"},"message":{"title":"表示当前调用返回读取到的位置，空代表数据已经读取完毕","description":"错误信息，空代表数据已经读取完毕","type":"string","required":true,"example":"instance not exists"},"data":{"description":"返回数据","type":"array","items":{"description":"返回数据。","type":"object","properties":{"pod":{"description":"Pod名称","type":"string","example":"test-pod"},"namespace":{"description":"Pod所在的命名空间","type":"string","example":"default"}}}},"RequestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7"},"total":{"title":"MaxResults本次请求所返回的最大记录条数","description":"MaxResults本次请求所返回的最大记录条数","type":"integer","format":"int64","example":"42"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"instance not exists\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"pod\\\": \\\"test-pod\\\",\\n      \\\"namespace\\\": \\\"default\\\"\\n    }\\n  ],\\n  \\\"RequestId\\\": \\\"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7\\\",\\n  \\\"total\\\": 42\\n}\",\"type\":\"json\"}]","title":"获取集群/实例中的Pod列表","requestParamsDescription":"如果只填写cluster_id，查询集群下的所有pod信息；如果填写实例id，查询实例下所有pod信息。"},"UpgradeAgentForCluster":{"summary":"给集群更新组件","path":"/api/v1/am/agent/upgrade_agent_by_cluster","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"253539","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"cluster_id":{"description":"集群ID。\n\n> 这个集群ID要传递 ACK 集群的ID","type":"string","required":false,"example":"c1c187fd513cb41a19876bac0e6b05212"},"agent_id":{"description":"组件ID","type":"string","required":false,"example":"74a86327-3170-412c-8e67-da3389ec56a9"},"agent_version":{"description":"组件版本","type":"string","required":false,"example":"3.4.0-1"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"\nsuccess"},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7"},"data":{"description":"返回数据。","type":"object","properties":{"task_id":{"description":"任务ID。\n\n可以凭借本任务ID调用 GetAgentTask 接口查看任务的执行情况","type":"string","example":"7523e9e0ddc74d99a5236f4f4d5056e6"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\nsuccess\\\",\\n  \\\"RequestId\\\": \\\"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"7523e9e0ddc74d99a5236f4f4d5056e6\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"为 ACK 集群更新组件"},"UpgradeAgent":{"summary":"更新安装的组件的版本到指定版本","path":"/api/v1/am/agent/upgrade_agent","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"instances":{"description":"要更新组件的实例列表","type":"array","items":{"description":"实例信息","type":"object","properties":{"instance":{"description":"实例ID。","type":"string","required":true,"example":"i-wz9b9vucz1iubsz8sjqo"},"region":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},"required":true},"required":true},"agent_id":{"description":"要更新的组件ID","type":"string","required":true,"example":"74a86327-3170-412c-8e67-da3389ec56a9"},"agent_version":{"description":"要更新的组件版本","type":"string","required":true,"example":"3.4.0-1"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict"},"data":{"description":"返回数据","type":"object","properties":{"task_id":{"description":"任务ID。","type":"string","example":"391f5aeba2054f66b3aaef0136142fe2"}}},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"391f5aeba2054f66b3aaef0136142fe2\\\"\\n  },\\n  \\\"RequestId\\\": \\\"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7\\\"\\n}\",\"type\":\"json\"}]","title":"更新组件","description":"调用本接口更新 Agent 是异步的，调用接口后会返回一个 task_id，可以凭借该 ID 调用 GetAgentTask 接口获取任务的执行情况。"},"UninstallAgentForCluster":{"summary":"给集群卸载组件","path":"/api/v1/am/agent/uninstall_agent_by_cluster","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"253536","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"cluster_id":{"description":"集群ID。\n\n> 这个集群ID要传递 ACK 集群的ID","type":"string","required":false,"example":"c822f83bb45994ddbac9326b4c2f04f35"},"agent_id":{"description":"组件ID","type":"string","required":false,"example":"74a86327-3170-412c-8e67-da3389ec56a9"},"agent_version":{"description":"组件版本","type":"string","required":false,"example":"3.4.0-1"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIException: SysomOpenAPI.NotAuthorizedInstance Instance 21 is not authorized"},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"44841312-7227-55C9-AE03-D59729BFAE38"},"data":{"description":"返回数据","type":"object","properties":{"task_id":{"description":"任务ID。\n可以通过本任务 ID，调用 GetAgentTasK 查询任务的执行状态","type":"string","example":"049ea0609515414b9e19c3389d7ba638"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIException: SysomOpenAPI.NotAuthorizedInstance Instance 21 is not authorized\\\",\\n  \\\"RequestId\\\": \\\"44841312-7227-55C9-AE03-D59729BFAE38\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"049ea0609515414b9e19c3389d7ba638\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"为ACK集群卸载组件"},"UninstallAgent":{"summary":"卸载指定版本的组件","path":"/api/v1/am/agent/uninstall_agent","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"instances":{"description":"要卸载组件的实例列表","type":"array","items":{"description":"实例信息","type":"object","properties":{"instance":{"description":"实例ID。","type":"string","required":true,"example":"i-wz9b9vucz1iubsz8sjqo"},"region":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},"required":true},"required":true},"agent_id":{"description":"要卸载的组件ID","type":"string","required":true,"example":"74a86327-3170-412c-8e67-da3389ec56a9"},"agent_version":{"description":"要卸载的组件版本","type":"string","required":true,"example":"3.4.0-1"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"data":{"description":"返回数据","type":"object","properties":{"task_id":{"description":"任务ID。","type":"string","example":"63fc5acb99e642d793f42912612e8001"}}},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"13772206-1162-5A0F-81F0-79A10C249A5E"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"63fc5acb99e642d793f42912612e8001\\\"\\n  },\\n  \\\"RequestId\\\": \\\"13772206-1162-5A0F-81F0-79A10C249A5E\\\"\\n}\",\"type\":\"json\"}]","title":"卸载组件","description":"调用本接口卸载 Agent 是异步的，调用接口后会返回一个 task_id，可以凭借该 ID 调用 GetAgentTask 接口获取任务的执行情况。"},"ListRegions":{"summary":"列出所有纳管了机器的区域","path":"/api/v1/am/instance/list_regions","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"错误码","type":"string","example":"Success"},"message":{"description":"错误码描述，若无错误则为空","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"data":{"description":"区域列表","type":"array","items":{"description":"区域","type":"string","example":"cn-hangzhou"},"example":"[\"cn-hangzhou\", \"cn-shengzhen\"]"},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"data\\\": [\\n    \\\"cn-hangzhou\\\"\\n  ],\\n  \\\"RequestId\\\": \\\"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7\\\"\\n}\",\"type\":\"json\"}]","title":"获取纳管实例分布的区域列表","description":"本接口获取的是当前用户存在被 SysOM 纳管机器的区域列表，如果用户在某个区域下有 ECS 实例，但是没有被 SysOM 纳管，则该区域不会出现在接口的结果里面。"},"ListInstancesWithEcsInfo":{"summary":"获取已纳管/未纳管实例信息，信息中包含ECS信息","path":"/api/v1/am/instance/listInstancesWithEcsInfo","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxFVZ8GD"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"region","in":"query","schema":{"description":"通过区域过滤实例\n","type":"string","required":true,"example":"cn-shenzhen"}},{"name":"instance_id","in":"query","schema":{"description":"指定本字段，则过滤出指定实例的Agent安装情况","type":"string","required":false,"example":"i-bp118piqcio9tiwgh84b"}},{"name":"instance_name","in":"query","schema":{"description":"组件实例名称。","type":"string","required":false,"example":"block-load-balancer-hjdm9"}},{"name":"instance_id_name","in":"query","schema":{"description":"通过实例名称或者实例id过滤，支持模糊查询","type":"string","required":false,"example":"84b"}},{"name":"is_managed","in":"query","schema":{"description":"通过实例的纳管状态过滤","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"instance_tag","in":"query","style":"json","schema":{"description":"通过实例标签过滤","type":"object","properties":{"key":{"description":"标签key值。","type":"string","required":false,"example":"feature_dim_radar_chart"},"value":{"description":"标签value值","type":"string","required":false,"example":"test"}},"required":false}},{"name":"public_ip","in":"query","schema":{"description":"通过公网ip地址过滤实例","type":"string","required":false,"example":"1.1.1.1"}},{"name":"private_ip","in":"query","schema":{"description":"通过私网ip地址过滤实例","type":"string","required":false,"example":"1.1.1.1"}},{"name":"resource_group_name","in":"query","schema":{"description":"通过资源组名称过滤实例","type":"string","required":false,"example":"default resource group"}},{"name":"resource_group_id","in":"query","schema":{"description":"通过资源组ID过滤实例","type":"string","required":false,"example":"rg-xxxxxxx"}},{"name":"resource_group_id_name","in":"query","schema":{"description":"通过资源组名称或者资源组id过滤，支持模糊查询","type":"string","required":false,"example":"default"}},{"name":"health_status","in":"query","schema":{"description":"通过健康状态过滤实例","type":"string","required":false,"example":"healthy"}},{"name":"os_name","in":"query","schema":{"description":"通过实例操作系统名称过滤","type":"string","required":false,"example":"Alibaba Cloud Linux  3.2104 LTS 64bit"}},{"name":"current","in":"query","schema":{"description":"页码分页时存在该字段，表示当前页","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小，默认值为10","type":"integer","format":"int32","required":false,"example":"10"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码。","type":"string","example":"Success"},"message":{"description":"错误信息，空代表数据已经读取完毕","type":"string","example":"result: code=1 msg=(Request failed, status_code != 200)"},"data":{"description":"返回数据。","type":"array","items":{"description":"返回结果","type":"object","properties":{"instance_id":{"description":"实例ID","type":"string","example":"i-bp118piqcio9tiwgh84b"},"instance_name":{"description":"实例名称。","type":"string","example":"allowed-repos-r2tzl"},"instance_tag":{"description":"实例标签","type":"array","items":{"type":"object","properties":{"tag_key":{"description":"标签的名称。","type":"string","example":"test_tag_key"},"tag_value":{"description":"标签值。","type":"string","example":"test_tag_value"}}}},"public_ip":{"description":"实例公网ip","type":"string","example":"1.1.1.1"},"private_ip":{"description":"实例私网ip","type":"string","example":"1.1.1.1"},"resource_group_name":{"description":"资源组名称","type":"string","example":"default resource group"},"resource_group_id":{"description":"资源组ID。","type":"string","example":"rg-xxxxxx"},"os_name":{"description":"实例的操作系统名称","type":"string","example":"Alibaba Cloud Linux  3.2104 LTS 64bit"},"os_health_score":{"description":"实例的健康分","type":"string","example":"100"},"status":{"description":"实例的运行状态，取值：\n- **Running**：正在运行\n- **Offline**：离线\n\n\n\n> 处于 Offline 状态的实例代表节点到 SysOM 服务端的心跳丢失，并不代表对应的 ECS 实例没有运行。","type":"string","example":"Running"},"cluster_id":{"description":"集群ID","type":"string","example":"cbf7a37bc905d4682a3338b3744810269"},"os_arch":{"description":"ECS实例的架构","type":"string","example":"x86"},"kernel_version":{"type":"string"}}}},"request_id":{"description":"请求 RequestId","type":"string","example":"35F91AAB-5FDF-5A22-B211-C7C6B00817D0"},"total":{"description":"总记录数","type":"integer","format":"int64","example":"319"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"result: code=1 msg=(Request failed, status_code != 200)\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"instance_id\\\": \\\"i-bp118piqcio9tiwgh84b\\\",\\n      \\\"instance_name\\\": \\\"allowed-repos-r2tzl\\\",\\n      \\\"instance_tag\\\": [\\n        {\\n          \\\"tag_key\\\": \\\"test_tag_key\\\",\\n          \\\"tag_value\\\": \\\"test_tag_value\\\"\\n        }\\n      ],\\n      \\\"public_ip\\\": \\\"1.1.1.1\\\",\\n      \\\"private_ip\\\": \\\"1.1.1.1\\\",\\n      \\\"resource_group_name\\\": \\\"default resource group\\\",\\n      \\\"resource_group_id\\\": \\\"rg-xxxxxx\\\",\\n      \\\"os_name\\\": \\\"Alibaba Cloud Linux  3.2104 LTS 64bit\\\",\\n      \\\"os_health_score\\\": \\\"100\\\",\\n      \\\"status\\\": \\\"Running\\\",\\n      \\\"cluster_id\\\": \\\"cbf7a37bc905d4682a3338b3744810269\\\",\\n      \\\"os_arch\\\": \\\"x86\\\",\\n      \\\"kernel_version\\\": \\\"\\\"\\n    }\\n  ],\\n  \\\"request_id\\\": \\\"35F91AAB-5FDF-5A22-B211-C7C6B00817D0\\\",\\n  \\\"total\\\": 319\\n}\",\"type\":\"json\"}]","title":"获取包含ECS信息的实例列表","description":"当前接口获取的实例列表是已经被 SysOM 纳管的机器列表，如果某个ECS实例存在但是没有被 SysOM 纳管，则不会出现在列表当中。"},"ListInstanceStatus":{"summary":"获取实例状态","path":"/api/v1/am/instance/list_instance_status","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"current","in":"query","schema":{"description":"页码分页时存在该字段，表示当前页（从1开始）","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页返回数目，默认 pageSize=10","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9b9vucz1iubsz355rh"}},{"name":"status","in":"query","schema":{"description":"根据状态过滤实例列表，如果指定了本字段，将会过出对应状态的实例列表","type":"string","required":false,"enumValueTitles":{"Running":"Running","Offline":"Offline"},"example":"Running"}},{"name":"region","in":"query","schema":{"description":"地域ID。","type":"string","required":false,"example":"cn-shenzhen"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"data":{"description":"返回数据","type":"array","items":{"description":"返回数据","type":"object","properties":{"instance":{"description":"实例ID。","type":"string","example":"i-wz9d00ut2ska3mlyhn6j"},"region":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"status":{"description":"实例的运行状态，取值：\n- **Running**：正在运行\n- **Offline**：离线\n\n\n\n> 处于 Offline 状态的实例代表节点到 SysOM 服务端的心跳丢失，并不代表对应的 ECS 实例没有运行。","type":"string","example":"Running"}}}},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"5BC79EF5-798B-5499-9683-4E14EBBBF712"},"total":{"description":"总记录数","type":"integer","format":"int64","example":"218"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"instance\\\": \\\"i-wz9d00ut2ska3mlyhn6j\\\",\\n      \\\"region\\\": \\\"cn-hangzhou\\\",\\n      \\\"status\\\": \\\"Running\\\"\\n    }\\n  ],\\n  \\\"RequestId\\\": \\\"5BC79EF5-798B-5499-9683-4E14EBBBF712\\\",\\n  \\\"total\\\": 218\\n}\",\"type\":\"json\"}]","title":"获取纳管实例状态","description":"本接口用于获取被 SysOM 纳管的机器列表。"},"ListInstancesEcsInfoList":{"summary":"获取ecs信息的列表，如标签列表，公网ip列表等","path":"/api/v1/am/instance/listInstancesEcsInfoList","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxFVZ8GD"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"region","in":"query","schema":{"description":"通过区域过滤实例\n","type":"string","required":true,"example":"cn-shenzhen"}},{"name":"info_type","in":"query","schema":{"description":"需要获取的信息类型","type":"string","required":true,"example":"ip"}},{"name":"managed_type","in":"query","schema":{"description":"实例的纳管状态","type":"string","required":false,"example":"managed"}},{"name":"instance_id","in":"query","schema":{"description":"指定本字段，则过滤出指定实例的Agent安装情况","type":"string","required":false,"example":"i-bp118piqcio9tiwgh84b"}},{"name":"plugin_id","in":"query","schema":{"description":"指定本参数则过滤出对应组件的实例信息列表","type":"string","required":false,"example":"74a86327-3170-412c-8e67-da3389ec56a9"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"错误码","type":"string","example":"SysomOpenAPI.InvalidParameter"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"\"\""},"data":{"description":"返回数据。","type":"array","items":{"description":"返回结果。","type":"object","properties":{"ip":{"description":"机器的IP地址。","type":"string","example":"11.193.52.91"},"type":{"description":"ip类型","type":"string","example":"public"},"tag_key":{"description":"标签的名称。","type":"string","example":"sysom"},"tag_value":{"description":"标签值。","type":"string","example":"diagnosis"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"SysomOpenAPI.InvalidParameter\\\",\\n  \\\"message\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"ip\\\": \\\"11.193.52.91\\\",\\n      \\\"type\\\": \\\"public\\\",\\n      \\\"tag_key\\\": \\\"sysom\\\",\\n      \\\"tag_value\\\": \\\"diagnosis\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取实例的ecs信息的列表","description":"当前接口获取的实例列表是已经被 SysOM 纳管的机器列表，如果某个ECS实例存在但是没有被 SysOM 纳管，则不会出现在列表当中。"},"ListClusterAgentInstallRecords":{"summary":"获取集群组件安装记录","path":"/api/v1/am/agent/list_cluster_agent_install_list","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"253443","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"current","in":"query","schema":{"description":"当前页码（从1开始）","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"cluster_id","in":"query","schema":{"description":"通过集群 ID 过滤\n\n> 这个集群ID不是 ACK 集群ID，而是通过本接口返回的数据里面的 `cluster_id` 字段，或者 ListCluster 接口返回数据中的 `id` 字段。","type":"string","required":false,"example":"cbd80af02b9d6454ebdc579c5e022d0c8"}},{"name":"plugin_id","in":"query","schema":{"description":"指定本参数则过滤出指定Agent的安装列表，可以搭配 plugin_version 参数使用","type":"string","required":false,"example":"74a86327-3170-412c-8e67-da3389ec56a9"}},{"name":"plugin_version","in":"query","schema":{"description":"不可单独使用，搭配 plugin_id 使用，用于过滤出指定Agent指定版本的安装列表","type":"string","required":false,"example":"3.4.0-1"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"\nsuccess"},"total":{"description":"查询结果总数。","type":"integer","format":"int64","example":"42"},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7"},"data":{"description":"返回结果。","type":"array","items":{"description":"返回数据。","type":"object","properties":{"cluster_id":{"description":"集群ID。\n\n> 这个集群ID不是 ACK 集群ID","type":"string","example":"cbf7a37bc905d4682a3338b3744810269"},"plugin_id":{"description":"组件ID\n","type":"string","example":"74a86327-3170-412c-8e67-da3389ec56a9"},"plugin_version":{"description":"插件版本\n","type":"string","example":"3.4.0-1"},"created_at":{"description":"创建时间","type":"string","example":"2024-12-25T15:08:19"},"updated_at":{"description":"修改时间","type":"string","example":"2024-12-25T15:08:19"},"grayscale_config":{"title":"灰度配置","description":"灰度配置","type":"string"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\nsuccess\\\",\\n  \\\"total\\\": 42,\\n  \\\"RequestId\\\": \\\"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"cluster_id\\\": \\\"cbf7a37bc905d4682a3338b3744810269\\\",\\n      \\\"plugin_id\\\": \\\"74a86327-3170-412c-8e67-da3389ec56a9\\\",\\n      \\\"plugin_version\\\": \\\"3.4.0-1\\\",\\n      \\\"created_at\\\": \\\"2024-12-25T15:08:19\\\",\\n      \\\"updated_at\\\": \\\"2024-12-25T15:08:19\\\",\\n      \\\"grayscale_config\\\": \\\"\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取 ACK 集群组件安装记录"},"ListAgentInstallRecords":{"summary":"列出 Agent 的安装记录","path":"/api/v1/am/agent/list_agent_install_list","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"current","in":"query","schema":{"title":"当前页码（从1开始）","description":"当前页码（从1开始）","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"title":"每页大小","description":"每页大小","type":"integer","format":"int64","required":false,"example":"20"}},{"name":"instance_id","in":"query","schema":{"title":"指定本字段，则过滤出指定实例的Agent安装情况","description":"指定本字段，则过滤出指定实例的Agent安装情况","type":"string","required":false,"example":"i-bp118piqcio9tiwgh84b"}},{"name":"plugin_id","in":"query","schema":{"title":"指定本参数则过滤出指定Agent的安装列表，可以搭配 plugin_version 参数使用","description":"指定本参数则过滤出指定Agent的安装列表，可以搭配 plugin_version 参数使用","type":"string","required":false,"example":"74a86327-3170-412c-8e67-da3389ec56a9"}},{"name":"plugin_version","in":"query","schema":{"title":"不可单独使用，搭配 plugin_id 使用，用于过滤出指定Agent指定版本的安装列表","description":"不可单独使用，搭配 plugin_id 使用，用于过滤出指定Agent指定版本的安装列表","type":"string","required":false,"example":"3.4.0-1"}},{"name":"status","in":"query","schema":{"description":"通过状态过滤组件安装记录","type":"string","required":false,"example":"Installed"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"total":{"description":"总记录数。","type":"integer","format":"int64","example":"64"},"data":{"description":"返回结果。","type":"array","items":{"description":"返回结果。","type":"object","properties":{"instance_id":{"title":"实例ID","description":"实例ID","type":"string","example":"i-bp118piqcio9tiwgh84b"},"plugin_id":{"title":"组件ID\n","description":"组件ID\n","type":"string","example":"74a86327-3170-412c-8e67-da3389ec56a9"},"plugin_version":{"title":"插件版本\n","description":"插件版本\n","type":"string","example":"3.4.0-1"},"status":{"title":"组件状态","description":"组件状态","type":"string","example":"Installed"},"created_at":{"description":"创建时间","type":"string","example":"2024-11-27T16:37:53"},"updated_at":{"description":"修改时间","type":"string","example":"2024-11-27T16:37:53"}}}},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"E8CDFBA1-0564-5897-B070-D3C85002AF2F"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"total\\\": 64,\\n  \\\"data\\\": [\\n    {\\n      \\\"instance_id\\\": \\\"i-bp118piqcio9tiwgh84b\\\",\\n      \\\"plugin_id\\\": \\\"74a86327-3170-412c-8e67-da3389ec56a9\\\",\\n      \\\"plugin_version\\\": \\\"3.4.0-1\\\",\\n      \\\"status\\\": \\\"Installed\\\",\\n      \\\"created_at\\\": \\\"2024-11-27T16:37:53\\\",\\n      \\\"updated_at\\\": \\\"2024-11-27T16:37:53\\\"\\n    }\\n  ],\\n  \\\"RequestId\\\": \\\"E8CDFBA1-0564-5897-B070-D3C85002AF2F\\\"\\n}\",\"type\":\"json\"}]","title":"获取组件安装记录列表"},"InstallAgentForCluster":{"summary":"给集群安装组件","path":"/api/v1/am/agent/install_agent_by_cluster","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"253444","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"cluster_id":{"description":"集群ID。\n\n> 这个集群ID要传递 ACK 集群的ID","type":"string","required":false,"example":"c9d7f3fc3d42942afbcb65c1100ffb19d"},"agent_id":{"description":"组件ID","type":"string","required":false,"example":"74a86327-3170-412c-8e67-da3389ec56a9"},"agent_version":{"description":"组件版本","type":"string","required":false,"example":"3.4.0-1"},"grayscale_config":{"title":"灰度配置","type":"string","required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"SysomOpenAPI.ServerError"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"success"},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7"},"data":{"description":"返回数据。","type":"object","properties":{"task_id":{"description":"任务ID。","type":"string","example":"049ea0609515414b9e19c3389d7ba638"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\",\\n  \\\"message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"B149FD9C-ED5C-5765-B3AD-05AA4A4D64D7\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"049ea0609515414b9e19c3389d7ba638\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"为ACK集群安装组件","description":"为目标 ACK 集群安装组件后：\n1. 首先，初次纳管集群，会为集群当前包含的所有 ECS 安装组件（如果集群节点超过 50 台，第一批次只会安装50台）；\n2. 其次，操作系统控制台会周期性的检查被纳管集群的扩缩容情况，一旦有新的 ECS 被添加到集群中，操作系统控制台会为其自动安装组件无需用户干预。"},"InstallAgent":{"summary":"在指定的实例上安装 Agent","path":"/api/v1/am/agent/install_agent","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxV02H6G"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"instances":{"description":"需要安装组件的实例列表","type":"array","items":{"description":"实例信息","type":"object","properties":{"instance":{"description":"实例ID。","type":"string","required":true,"example":"i-wz9b9vucz1iubsz8sjqo"},"region":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},"required":true},"required":true},"install_type":{"description":"安装类型：\n- InstallAndUpgrade：不存在则安装，存在则更新；\n- OnlyInstallNotHasAgent：不存在则安装，存在则不操作；\n- OnlyUpgradeHasAgent：不存在则不操作，存在则更新","type":"string","required":true,"example":"InstallAndUpgrade","enum":["InstallAndUpgrade","OnlyInstallNotHasAgent","OnlyUpgradeHasAgent"]},"agent_id":{"description":"要安装的组件ID","type":"string","required":true,"example":"74a86327-3170-412c-8e67-da3389ec56a9"},"agent_version":{"description":"要安装的组件版本","type":"string","required":true,"example":"3.4.0-1"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"title":"Id of the request","description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"\"\""},"data":{"description":"返回数据","type":"object","properties":{"task_id":{"description":"任务ID。\n\n可以凭借本任务ID调用 GetAgentTask 接口查看任务的执行情况","type":"string","example":"26b3cd97389c43dcad6bc4901c36fcec"}}},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"1D8887FC-4BDB-5A1C-AB19-135C29A9E481"}}}}},"errorCodes":{"400":[{"errorCode":"SysomOpenAPI.AgentNotExists","errorMessage":"Agent not exists."},{"errorCode":"SysomOpenAPI.AgentTaskNotFound","errorMessage":"Agent task not found."},{"errorCode":"SysomOpenAPI.AgentVersionNotExists","errorMessage":"Agent version not exists."},{"errorCode":"SysomOpenAPI.InstanceNotExists","errorMessage":"Instance not exists."},{"errorCode":"SysomOpenAPI.InvalidParameter","errorMessage":"Invalid parameters passed when calling the interface."},{"errorCode":"SysomOpenAPI.MissingParameter","errorMessage":"Missing parameters."},{"errorCode":"SysomOpenAPI.NoAgentInstalled","errorMessage":"No SysOM Agent version available."},{"errorCode":"SysomOpenAPI.NotAuthorizedInstance","errorMessage":"Instance not authorized."},{"errorCode":"SysomOpenAPI.NotOwnInstance","errorMessage":"Not own current instance."},{"errorCode":"SysomOpenAPI.NotOwnTask","errorMessage":"Diagnosis result does not belong to the current account."},{"errorCode":"SysomOpenAPI.NotSupportedAgentVersion","errorMessage":"Unsupported sysom agent version."},{"errorCode":"SysomOpenAPI.ServerError","errorMessage":"Server error, please correct the code according to the error message."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"26b3cd97389c43dcad6bc4901c36fcec\\\"\\n  },\\n  \\\"RequestId\\\": \\\"1D8887FC-4BDB-5A1C-AB19-135C29A9E481\\\"\\n}\",\"type\":\"json\"}]","title":"安装组件","description":"调用本接口安装 Agent 是异步的，调用接口后会返回一个 task_id，可以凭借该 ID 调用 GetAgentTask 接口获取任务的执行情况。"},"ListAgents":{"summary":"获取 Agent 列表","path":"/api/v1/am/agent/list_agents","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"current","in":"query","schema":{"title":"当前页数（从第1页开始）","description":"当前页数（从第1页开始）","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"title":"每页大小","description":"每页大小","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"name","in":"query","schema":{"title":"通过插件的名字过滤插件","description":"通过插件的名字过滤插件","type":"string","required":false,"example":"SysOM"}},{"name":"type","in":"query","schema":{"title":"根据 Agent 类型来获取列表，比如传递 control 表示获取所有管控类型的 Agent","description":"根据 Agent 类型来获取列表，比如传递 control 表示获取所有管控类型的 Agent","type":"string","required":false,"example":"control"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"66EAED72-542B-583B-BCED-64433DC27AD7"},"total":{"description":" 总记录数。","type":"integer","format":"int64","example":"2"},"data":{"description":"返回数据","type":"array","items":{"description":"返回数据","type":"object","properties":{"name":{"description":"组件名称","type":"string","example":"SysOM Agent"},"support_arch":{"description":"支持的架构（多个架构用逗号相连）","type":"string","example":"x86"},"type":{"description":"组件的类型\n- Control：管控类型的组件\n- AI：AI组件","type":"string","example":"Control"},"description":{"description":"组件描述","type":"string","example":"SysOM Agent"},"id":{"description":"组件ID","type":"string","example":"74a86327-3170-412c-8e67-da3389ec56a9"},"versions":{"description":"组件版本列表","type":"array","items":{"description":"组件版本信息","type":"object","properties":{"version":{"description":"组件版本号","type":"string","example":"3.4.0-1"},"install_script":{"description":"组件的安装脚本","type":"string","example":"sysom.sh install"},"uninstall_script":{"description":"组件卸载脚本","type":"string","example":"sysom.sh uninstall"},"upgrade_script":{"description":"组件更新脚本","type":"string","example":"sysom.sh upgrade"},"created_at":{"description":"组件版本创建时间","type":"string","example":"2024-09-14T20:46:08"},"updated_at":{"description":"组件版本更新时间","type":"string","example":"2024-09-14T20:46:08"}}}},"created_at":{"description":"组件创建时间","type":"string","example":"2024-09-14T20:46:08"},"updated_at":{"description":"组件更新时间","type":"string","example":"2024-09-14T20:46:08"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"RequestId\\\": \\\"66EAED72-542B-583B-BCED-64433DC27AD7\\\",\\n  \\\"total\\\": 2,\\n  \\\"data\\\": [\\n    {\\n      \\\"name\\\": \\\"SysOM Agent\\\",\\n      \\\"support_arch\\\": \\\"x86\\\",\\n      \\\"type\\\": \\\"Control\\\",\\n      \\\"description\\\": \\\"SysOM Agent\\\",\\n      \\\"id\\\": \\\"74a86327-3170-412c-8e67-da3389ec56a9\\\",\\n      \\\"versions\\\": [\\n        {\\n          \\\"version\\\": \\\"3.4.0-1\\\",\\n          \\\"install_script\\\": \\\"sysom.sh install\\\",\\n          \\\"uninstall_script\\\": \\\"sysom.sh uninstall\\\",\\n          \\\"upgrade_script\\\": \\\"sysom.sh upgrade\\\",\\n          \\\"created_at\\\": \\\"2024-09-14T20:46:08\\\",\\n          \\\"updated_at\\\": \\\"2024-09-14T20:46:08\\\"\\n        }\\n      ],\\n      \\\"created_at\\\": \\\"2024-09-14T20:46:08\\\",\\n      \\\"updated_at\\\": \\\"2024-09-14T20:46:08\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取组件列表"},"GetAgentTask":{"summary":"获取Agent安装任务执行状态","path":"/api/v1/am/agent/get_agent_task","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxFVZ8GD"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"task_id","in":"query","schema":{"description":"任务ID。","type":"string","required":false,"example":"42172120177e4b3abd6fabb3a6b5e2dd"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict"},"data":{"description":"返回数据。","type":"object","properties":{"task_id":{"description":"任务ID。","type":"string","example":"c41d8e3506224184a714682fea86d22d"},"jobs":{"description":"子任务列表","type":"array","items":{"description":"子任务详情","type":"object","properties":{"instance":{"description":"实例ID。","type":"string","example":"i-2zehme0rs1tc090fdl3n"},"region":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"params":{"description":"子任务参数","type":"any","example":"{\n    \"agent_version\": \"3.5.0-beta\",\n    \"opt\": \"install\",\n    \"agent_id\": \"74a86327-3170-412c-8fd67-da3389ec56a9\",\n    \"install_type\": \"InstallAndUpgrade\"\n}"},"status":{"description":"子任务状态：\n- Created：已创建\n- Running：正在运行\n- Success：任务运行成功\n- Fail：任务运行失败","type":"string","example":"Running","enum":["Created","Running","Success","Failed","Canceled"]},"result":{"description":"子任务执行结果","type":"string","example":"已废弃（误用）"},"error":{"description":"当任务执行失败时，此字段会报错导致任务失败的原因","type":"string","example":"已废弃（误用）"}}}}}},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"2E75336A-0DB2-5263-B201-A6488EC97B50"}}}}},"errorCodes":{"400":[{"errorCode":"SysomOpenAPI.AgentNotExists","errorMessage":"Agent not exists."},{"errorCode":"SysomOpenAPI.AgentTaskNotFound","errorMessage":"Agent task not found."},{"errorCode":"SysomOpenAPI.AgentVersionNotExists","errorMessage":"Agent version not exists."},{"errorCode":"SysomOpenAPI.InstanceNotExists","errorMessage":"Instance not exists."},{"errorCode":"SysomOpenAPI.InvalidParameter","errorMessage":"Invalid parameters passed when calling the interface."},{"errorCode":"SysomOpenAPI.MissingParameter","errorMessage":"Missing parameters."},{"errorCode":"SysomOpenAPI.NoAgentInstalled","errorMessage":"No SysOM Agent version available."},{"errorCode":"SysomOpenAPI.NotAuthorizedInstance","errorMessage":"Instance not authorized."},{"errorCode":"SysomOpenAPI.NotOwnInstance","errorMessage":"Not own current instance."},{"errorCode":"SysomOpenAPI.NotOwnTask","errorMessage":"Diagnosis result does not belong to the current account."},{"errorCode":"SysomOpenAPI.NotSupportedAgentVersion","errorMessage":"Unsupported sysom agent version."},{"errorCode":"SysomOpenAPI.ServerError","errorMessage":"Server error, please correct the code according to the error message."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"c41d8e3506224184a714682fea86d22d\\\",\\n    \\\"jobs\\\": [\\n      {\\n        \\\"instance\\\": \\\"i-2zehme0rs1tc090fdl3n\\\",\\n        \\\"region\\\": \\\"cn-hangzhou\\\",\\n        \\\"params\\\": \\\"{\\\\n    \\\\\\\"agent_version\\\\\\\": \\\\\\\"3.5.0-beta\\\\\\\",\\\\n    \\\\\\\"opt\\\\\\\": \\\\\\\"install\\\\\\\",\\\\n    \\\\\\\"agent_id\\\\\\\": \\\\\\\"74a86327-3170-412c-8fd67-da3389ec56a9\\\\\\\",\\\\n    \\\\\\\"install_type\\\\\\\": \\\\\\\"InstallAndUpgrade\\\\\\\"\\\\n}\\\",\\n        \\\"status\\\": \\\"Running\\\",\\n        \\\"result\\\": \\\"已废弃（误用）\\\",\\n        \\\"error\\\": \\\"已废弃（误用）\\\"\\n      }\\n    ]\\n  },\\n  \\\"RequestId\\\": \\\"2E75336A-0DB2-5263-B201-A6488EC97B50\\\"\\n}\",\"type\":\"json\"}]","title":"获取组件任务的执行状态"},"GetAgent":{"summary":"获取某个组件的详情","path":"/api/v1/am/agent/get_agent","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux33ME7W"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"agent_id","in":"query","schema":{"title":"组件ID","description":"组件ID","type":"string","required":false,"example":"74a86327-3170-412c-8e67-da3389ec56a9"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"title":"Id of the request","description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict"},"data":{"description":"返回数据。","type":"object","properties":{"id":{"title":"组件ID","description":"组件ID","type":"string","example":"74a86327-3170-412c-8e67-da3389ec56a9"},"name":{"title":"组件名称","description":"组件名称","type":"string","example":"SysOM"},"support_arch":{"title":"支持的架构\n","description":"支持的架构\n","type":"string","example":"x86"},"type":{"title":"Agent类型","description":"Agent类型","type":"string","example":"control"},"description":{"title":"组件描述","description":"组件描述","type":"string","example":"SysOM Agent"},"versions":{"description":"组件版本信息","type":"array","items":{"description":"组件版本信息","type":"object","properties":{"version":{"title":"Agent 版本号","description":"Agent 版本号","type":"string","example":"3.4.0-1"},"install_script":{"title":"Agent 该版本的安装脚本","description":"Agent 该版本的安装脚本","type":"string","example":"sysom.sh install"},"uninstall_script":{"title":"Agent 该版本的卸载脚本","description":"Agent 该版本的卸载脚本","type":"string","example":"sysom.sh uninstall"},"upgrade_script":{"title":"Agent该版本的更新脚本","description":"Agent该版本的更新脚本","type":"string","example":"sysom.sh upgrade"},"created_at":{"title":"Agent版本创建时间","description":"Agent版本创建时间","type":"string","example":"2024-09-14T20:46:08"},"updated_at":{"title":"Agent版本的更新时间","description":"Agent版本的更新时间","type":"string","example":"2024-09-14T20:46:08"}}}},"created_at":{"title":"组件创建时间","description":"组件创建时间","type":"string","example":"2024-09-14T20:46:08"},"updated_at":{"title":"更新时间","description":"更新时间","type":"string","example":"2024-09-14T20:46:08"}}},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"2024-09-14T20:46:08"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIException: SysomOpenAPI.InvalidParameter Invalid params, should be json string or dict\\\",\\n  \\\"data\\\": {\\n    \\\"id\\\": \\\"74a86327-3170-412c-8e67-da3389ec56a9\\\",\\n    \\\"name\\\": \\\"SysOM\\\",\\n    \\\"support_arch\\\": \\\"x86\\\",\\n    \\\"type\\\": \\\"control\\\",\\n    \\\"description\\\": \\\"SysOM Agent\\\",\\n    \\\"versions\\\": [\\n      {\\n        \\\"version\\\": \\\"3.4.0-1\\\",\\n        \\\"install_script\\\": \\\"sysom.sh install\\\",\\n        \\\"uninstall_script\\\": \\\"sysom.sh uninstall\\\",\\n        \\\"upgrade_script\\\": \\\"sysom.sh upgrade\\\",\\n        \\\"created_at\\\": \\\"2024-09-14T20:46:08\\\",\\n        \\\"updated_at\\\": \\\"2024-09-14T20:46:08\\\"\\n      }\\n    ],\\n    \\\"created_at\\\": \\\"2024-09-14T20:46:08\\\",\\n    \\\"updated_at\\\": \\\"2024-09-14T20:46:08\\\"\\n  },\\n  \\\"RequestId\\\": \\\"2024-09-14T20:46:08\\\"\\n}\",\"type\":\"json\"}]","title":"获取组件详情"},"UpdateEventsAttention":{"summary":"异常项关注度更新，通过调整关注度影响异常项检测算法的敏感度。","path":"/api/v1/openapi/proxy/post/cluster_update_events_attention","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"256747","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"type":"object","properties":{"uuid":{"type":"string","required":true},"range":{"type":"string","required":false},"mode":{"type":"integer","format":"int32","required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"title":"Id of the request","description":"错误信息","type":"string","example":"Instance not belong to current user"},"data":{"description":"返回数据。","type":"object","properties":{"mode":{"description":"修改后的关注度值","type":"integer","format":"int32","example":"1"}}},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"44841312-7227-55C9-AE03-D59729BFAE38"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"Instance not belong to current user\\\",\\n  \\\"data\\\": {\\n    \\\"mode\\\": 1\\n  },\\n  \\\"RequestId\\\": \\\"44841312-7227-55C9-AE03-D59729BFAE38\\\"\\n}\",\"type\":\"json\"}]","title":"更新异常项关注度"},"ListAbnormalyEvents":{"summary":"获取一定时间段内的集群/节点/Pod的异常事件信息","path":"/api/v1/openapi/cluster_health/range/abnormaly_events","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}},{"name":"start","in":"query","schema":{"description":"起始时间","type":"number","format":"float","required":false,"example":"1725797727754"}},{"name":"pod","in":"query","schema":{"description":"Pod名称","type":"string","required":false,"example":"test-pod"}},{"name":"namespace","in":"query","schema":{"description":"Pod所在的命名空间","type":"string","required":false,"example":"default"}},{"name":"end","in":"query","schema":{"description":"结束时间","type":"number","format":"float","required":false,"example":"1725801327754"}},{"name":"level","in":"query","schema":{"description":"异常事件的等级","type":"string","required":false,"enumValueTitles":{"warning":"warning","error":"error"},"example":"potential"}},{"name":"showPod","in":"query","schema":{"description":"是否展示Pod的异常事件","type":"integer","format":"int32","required":false,"enumValueTitles":{"0":"0"},"example":"1"}},{"name":"current","in":"query","schema":{"description":"页码分页时存在该字段，表示当前页","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小，默认值为5，取值范围【1,100】","type":"integer","format":"int32","required":false,"example":"10"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误码描述，若无错误则为空","type":"string","example":"\n"},"data":{"description":"返回结果。","type":"array","items":{"description":"返回数据。","type":"object","properties":{"end_at":{"type":"integer","format":"int64"},"item":{"description":"异常项名称","type":"string","example":"节点CPU使用率检测"},"instance":{"description":"实例ID。","type":"string","example":"i-wz9d00ut2ska3mlyhn6j"},"opts":{"description":"异常项操作列表","type":"array","items":{"type":"object","properties":{"result":{"type":"object","properties":{"url":{"type":"string"},"status":{"type":"string"}}},"label":{"type":"string"},"type":{"type":"string"}}}},"level":{"type":"string"},"region_id":{"description":"地域ID。","type":"string","example":"cn-shanghai"},"description":{"description":"异常项的具体描述","type":"string","example":"节点发生OOM, 可查看OOM发生原因"},"created_at":{"description":"创建时间","type":"integer","format":"int64","example":"1725801090000"},"type":{"description":"异常项类型","type":"string","enumValueTitles":{"saturation":"saturation","load":"load","latency":"latency","error":"error"},"example":"saturation"},"diag_status":{"type":"integer","format":"int32"},"uuid":{"type":"string"},"pod":{"type":"string"},"namespace":{"type":"string"}}}},"total":{"type":"integer","format":"int32"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\n\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"end_at\\\": 0,\\n      \\\"item\\\": \\\"节点CPU使用率检测\\\",\\n      \\\"instance\\\": \\\"i-wz9d00ut2ska3mlyhn6j\\\",\\n      \\\"opts\\\": [\\n        {\\n          \\\"result\\\": {\\n            \\\"url\\\": \\\"\\\",\\n            \\\"status\\\": \\\"\\\"\\n          },\\n          \\\"label\\\": \\\"\\\",\\n          \\\"type\\\": \\\"\\\"\\n        }\\n      ],\\n      \\\"level\\\": \\\"\\\",\\n      \\\"region_id\\\": \\\"cn-shanghai\\\",\\n      \\\"description\\\": \\\"节点发生OOM, 可查看OOM发生原因\\\",\\n      \\\"created_at\\\": 1725801090000,\\n      \\\"type\\\": \\\"saturation\\\",\\n      \\\"diag_status\\\": 0,\\n      \\\"uuid\\\": \\\"\\\",\\n      \\\"pod\\\": \\\"\\\",\\n      \\\"namespace\\\": \\\"\\\"\\n    }\\n  ],\\n  \\\"total\\\": 0\\n}\",\"type\":\"json\"}]","title":"获取异常事件详情"},"ListInstanceHealth":{"summary":"获取一定时间内集群节点/Pod健康度列表","path":"/api/v1/openapi/cluster_health/range/instance_health_list","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}},{"name":"start","in":"query","schema":{"description":"开始时间","type":"number","format":"float","required":true,"example":"1725797727754"}},{"name":"end","in":"query","schema":{"description":"结束时间","type":"number","format":"float","required":true,"example":"1725801327754"}},{"name":"current","in":"query","schema":{"description":"当前所在分页","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小，默认值为5，取值范围【1,100】","type":"integer","format":"int32","required":false,"example":"10"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"SysomOpenAPI.ServerError"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"Query no data"},"data":{"description":"返回数据。","type":"array","items":{"type":"object","properties":{"score":{"type":"number","format":"float"},"instance":{"type":"string"},"region_id":{"type":"string"},"status":{"type":"string"},"pod":{"type":"string"},"namespace":{"type":"string"},"images":{"type":"array","items":{"type":"string"}}}}},"total":{"description":"查询结果总数。","type":"integer","format":"int32","example":"42"},"request_id":{"description":"请求 RequestId","type":"string","example":"35F91AAB-5FDF-5A22-B211-C7C6B00817D0"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\",\\n  \\\"message\\\": \\\"Query no data\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"score\\\": 0,\\n      \\\"instance\\\": \\\"\\\",\\n      \\\"region_id\\\": \\\"\\\",\\n      \\\"status\\\": \\\"\\\",\\n      \\\"pod\\\": \\\"\\\",\\n      \\\"namespace\\\": \\\"\\\",\\n      \\\"images\\\": [\\n        \\\"\\\"\\n      ]\\n    }\\n  ],\\n  \\\"total\\\": 42,\\n  \\\"request_id\\\": \\\"35F91AAB-5FDF-5A22-B211-C7C6B00817D0\\\"\\n}\",\"type\":\"json\"}]","title":"获取集群中节点/Pod的健康度列表"},"InvokeAnomalyDiagnosis":{"summary":"异常项诊断发起","path":"/api/v1/openapi/cluster_health/diagnosis/invoke_anomaly_diagnose","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"high","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"uuid","in":"query","schema":{"description":"异常事件对应的uuid","type":"string","required":false,"example":"8047d763-5465-4a8c-b1cd-23f5a8ba2594"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"success"},"requestId":{"description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"success\\\",\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\"\\n}\",\"type\":\"json\"}]","title":"异常项诊断发起"},"GetRangeScore":{"summary":"获取健康分趋势","path":"/api/v1/openapi/cluster_health/range/score","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxFVZ8GD"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}},{"name":"start","in":"query","schema":{"description":"开始时间","type":"number","format":"float","required":true,"example":"1725797727754"}},{"name":"end","in":"query","schema":{"description":"结束时间","type":"number","format":"float","required":true,"example":"1725801327754"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"title":"资源一级ID","description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","required":false,"example":"Success","pattern":"^[a-zA-Z._-]+$","default":""},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"\"\""},"data":{"description":"返回数据。","type":"array","items":{"description":"返回数据。","type":"object","properties":{"type":{"description":"指标类型","type":"string","enumValueTitles":{"总分":"total","饱和度":"saturation","错误":"error","延时":"latency","负载":"load"},"example":"saturation"},"value":{"description":"分数","type":"integer","format":"int64","example":"100"},"time":{"description":"时间点","type":"integer","format":"int64","example":"1725797727754"}}}},"total":{"description":"总数据量。","type":"number","format":"float","example":"2"},"request_id":{"description":"请求 RequestId","type":"string","example":"35F91AAB-5FDF-5A22-B211-C7C6B00817D0"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"type\\\": \\\"saturation\\\",\\n      \\\"value\\\": 100,\\n      \\\"time\\\": 1725797727754\\n    }\\n  ],\\n  \\\"total\\\": 2,\\n  \\\"request_id\\\": \\\"35F91AAB-5FDF-5A22-B211-C7C6B00817D0\\\"\\n}\",\"type\":\"json\"}]","title":"获取健康分趋势"},"GetProblemPercentage":{"summary":"获取一定时间内集群中节点/节点中pod异常问题占比","path":"/api/v1/openapi/cluster_health/range/problem_percentage","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}},{"name":"start","in":"query","schema":{"description":"开始时间","type":"number","format":"float","required":true,"example":"1725797727754"}},{"name":"end","in":"query","schema":{"description":"结束时间","type":"number","format":"float","required":true,"example":"1725801327754"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"result: code=1 msg=(Request failed, status_code != 200)"},"data":{"description":"返回数据。","type":"array","items":{"description":"返回数据。","type":"object","properties":{"type":{"description":"异常项类型","type":"string","enumValueTitles":{"饱和度":"saturation","错误":"error","延时":"latency","负载":"load"},"example":"saturation"},"value":{"description":"异常类型数量","type":"integer","format":"int64","example":"5"}}}},"total":{"description":"总数据量。","type":"integer","format":"int64","example":"19"},"request_id":{"description":"请求 RequestId","type":"string","example":"35F91AAB-5FDF-5A22-B211-C7C6B00817D0"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"result: code=1 msg=(Request failed, status_code != 200)\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"type\\\": \\\"saturation\\\",\\n      \\\"value\\\": 5\\n    }\\n  ],\\n  \\\"total\\\": 19,\\n  \\\"request_id\\\": \\\"35F91AAB-5FDF-5A22-B211-C7C6B00817D0\\\"\\n}\",\"type\":\"json\"}]","title":"获取异常问题占比"},"GetInstantScore":{"summary":"获取实时集群/节点健康度分数","path":"/api/v1/openapi/cluster_health/instant/score","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"230346","abilityTreeNodes":["FEATUREalinuxFVZ8GD"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"title":"资源一级ID","description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","required":false,"example":"Success","pattern":"^[a-zA-Z._-]+$","default":""},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"Query no data"},"data":{"description":"返回数据。","type":"object","properties":{"saturation":{"description":"饱和度分","type":"number","format":"float","example":"100"},"latency":{"description":"延时分","type":"number","format":"float","example":"100"},"load":{"description":"负载分","type":"number","format":"float","example":"100"},"error":{"description":"错误分","type":"number","format":"float","example":"100"},"total":{"description":"总分","type":"number","format":"float","example":"100"}}},"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"Query no data\\\",\\n  \\\"data\\\": {\\n    \\\"saturation\\\": 100,\\n    \\\"latency\\\": 100,\\n    \\\"load\\\": 100,\\n    \\\"error\\\": 100,\\n    \\\"total\\\": 100\\n  },\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\"\\n}\",\"type\":\"json\"}]","title":"获取实时集群/节点健康度分数"},"GetHealthPercentage":{"summary":"获取一段时间内节点/Pod健康状态占比","path":"/api/v1/openapi/cluster_health/range/health_percentage","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"230371","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9d00ut2ska3mlyhn6j"}},{"name":"start","in":"query","schema":{"description":"开始时间","type":"number","format":"float","required":true,"example":"1725797727754"}},{"name":"end","in":"query","schema":{"description":"结束时间","type":"number","format":"float","required":true,"example":"1725801327754"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"SysomOpenAPI.ServerError\n"},"message":{"description":"错误详情\n","type":"string","example":"\"\""},"data":{"description":"返回数据。","type":"array","items":{"description":"返回数据。","type":"object","properties":{"type":{"description":"节点/Pod的健康等级","type":"string","enumValueTitles":{"不健康":"warning","健康":"health","亚健康":"potential","严重不健康":"error"},"example":"health"},"value":{"description":"数量","type":"integer","format":"int64","example":"1"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\\n\\\",\\n  \\\"message\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"type\\\": \\\"health\\\",\\n      \\\"value\\\": 1\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取节点/Pod健康状态占比"},"GetAbnormalEventsCount":{"summary":"获取节点/Pod不同等级未处理（未诊断）异常事件的数量","path":"/api/v1/openapi/cluster_health/range/abnormaly_events_count","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"237718","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"cluster","in":"query","schema":{"description":"集群id","type":"string","required":false,"example":"1808078950770264"}},{"name":"instance","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"example":"i-wz9d00ut2ska3mlyhn6j"}},{"name":"pod","in":"query","schema":{"description":"pod名称","type":"string","required":false,"example":"test-pod"}},{"name":"namespace","in":"query","schema":{"description":"Pod所在的命名空间","type":"string","required":false,"example":"default"}},{"name":"start","in":"query","schema":{"description":"起始时间","type":"number","format":"float","required":false,"example":"1725797727754"}},{"name":"end","in":"query","schema":{"description":"结束时间","type":"number","format":"float","required":false,"example":"1725801327754"}},{"name":"showPod","in":"query","schema":{"type":"integer","format":"int32","required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"响应码。","type":"string","example":"Success"},"message":{"description":"当success为false时，该值不为空，表示业务错误信息","type":"string","example":"result: code=1 msg=(Request failed, status_code != 200)"},"data":{"description":"返回数据。","type":"array","items":{"description":"返回数据。","type":"object","properties":{"type":{"description":"异常类型","type":"string","enumValueTitles":{"\"potential\"":"potential","\"error\"":"error","\"warning\"":"warning"},"example":"health"},"value":{"description":"异常类型数量","type":"integer","format":"int64","example":"1"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"result: code=1 msg=(Request failed, status_code != 200)\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"type\\\": \\\"health\\\",\\n      \\\"value\\\": 1\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取异常事件的数量"},"ListDiagnosis":{"summary":"获取诊断历史记录列表。","path":"/api/v1/openapi/diagnosis/list_diagnosis","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"]},"parameters":[{"name":"current","in":"query","schema":{"title":"当前页数","description":"当前页数","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"title":"每页大小","description":"每页大小","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"service_name","in":"query","schema":{"title":"诊断类型","description":"诊断类型","type":"string","required":false,"example":"memgraph"}},{"name":"params","in":"query","schema":{"description":"诊断参数，不同类型的诊断要求传递不同的诊断参数，可以使用本字段过滤出参数符合为指定值的记录。","type":"string","required":false,"example":"[{\\\"key\\\":\\\"region\\\",\\\"value\\\":\\\"cn-beijing\\\"}]"}},{"name":"status","in":"query","schema":{"title":"诊断状态\n","description":"诊断任务执行状态。\n取值：\n- **Ready**：就绪\n- **Running**：正在执行\n- **Success**：执行成功\n- **Fail**：执行失败","type":"string","required":false,"example":"Running"}}],"responses":{"200":{"schema":{"title":"响应数据","description":"响应数据","type":"object","properties":{"code":{"title":"状态码\n","description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"title":"表示当前调用返回读取到的位置，空代表数据已经读取完毕","description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","required":true,"example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"data":{"description":"返回数据","type":"array","items":{"description":"一条分析记录的返回对象","type":"object","properties":{"task_id":{"description":"任务ID。","type":"string","example":"grcuU21a"},"status":{"description":"诊断任务执行状态。\n取值：\n- **Ready**：就绪\n- **Running**：正在执行\n- **Success**：执行成功\n- **Fail**：执行失败","type":"string","example":"Running"},"service_name":{"description":"诊断类型","type":"string","example":"memgraph"},"command":{"description":"诊断命令","type":"any","example":"{\n    \"jobs\":[\n        {\n            \"cmd\":\"mkdir -p /var/log/sysak && sysak podmem -r 100  -a -j /var/log/sysak/podmem.json > /dev/null 2>&1 && cat /var/log/sysak/podmem.json\",\n            \"instance\":\"172.20.12.174\",\n            \"fetch_file_list\":[\n\n            ]\n        }\n    ],\n    \"in_order\":true,\n    \"offline_mode\":false,\n    \"offline_results\":[\n\n    ]\n}"},"params":{"description":"诊断参数","type":"any","example":"{\n    \"type\":\"all\",\n    \"value\":\"\",\n    \"channel\":\"ssh\",\n    \"instance\":\"172.1.2.174\",\n    \"service_name\":\"filecache\"\n}"},"code":{"description":"诊断错误码，0代表没有错误","type":"integer","format":"int32","example":"0"},"err_msg":{"description":"错误信息","type":"string","example":"Diagnosis failed"},"result":{"description":"诊断结果","type":"any","example":"{\n    \"summary\":\"  memory cgroup leak\",\n    \"dataMemEvent\":{\n        \"data\":[\n            {\n                \"key\":\"Util\",\n                \"value\":20\n            },\n            {\n                \"key\":\"MemLeak\",\n                \"value\":\"OK\"\n            },\n            {\n                \"key\":\"MemcgLeak\",\n                \"value\":\"NG\"\n            },\n            {\n                \"key\":\"MemFrag\",\n                \"value\":\"OK\"\n            }\n        ]\n    },\n    \"dataMemOverView\":{\n        \"data\":[\n            {\n                \"key\":\"app\",\n                \"value\":10937332\n            },\n            {\n                \"key\":\"free\",\n                \"value\":806800\n            },\n            {\n                \"key\":\"kernel\",\n                \"value\":4527660\n            }\n        ]\n    },\n    \"dataKerMem\":{\n        \"data\":[\n            {\n                \"key\":\"SReclaimable\",\n                \"value\":3411292\n            },\n            {\n                \"key\":\"VmallocUsed\",\n                \"value\":30980\n            },\n            {\n                \"key\":\"allocPage\",\n                \"value\":177732\n            },\n            {\n                \"key\":\"KernelStack\",\n                \"value\":9280\n            },\n            {\n                \"key\":\"PageTables\",\n                \"value\":38056\n            },\n            {\n                \"key\":\"SUnreclaim\",\n                \"value\":170248\n            },\n            {\n                \"key\":\"reserved\",\n                \"value\":690072\n            }\n        ]\n    },\n    \"dataUserMem\":{\n        \"data\":[\n            {\n                \"key\":\"filecache\",\n                \"value\":8010008\n            },\n            {\n                \"key\":\"anon\",\n                \"value\":2468608\n            },\n            {\n                \"key\":\"mlock\",\n                \"value\":0\n            },\n            {\n                \"key\":\"huge1G\",\n                \"value\":0\n            },\n            {\n                \"key\":\"huge2M\",\n                \"value\":0\n            },\n            {\n                \"key\":\"buffers\",\n                \"value\":458608\n            },\n            {\n                \"key\":\"shmem\",\n                \"value\":2284\n            }\n        ]\n    },\n    \"dataCacheList\":{\n        \"data\":[\n            {\n                \"key\":0,\n                \"Name\":\"/var/lib/mysql/sysom/sys_handler_log.ibd\",\n                \"cached\":576764,\n                \"Task\":\"mysqld_78575 \"\n            },\n            {\n                \"key\":1,\n                \"Name\":\"/var/log/sysom/sysom-migration-access.log\",\n                \"cached\":276688,\n                \"Task\":\"gunicorn_33647 ,gunicorn_460836 ,gunicorn_559934 ,gunicorn_731758 ,gunicorn_2362682 \"\n            },\n            {\n                \"key\":2,\n                \"Name\":\"/var/log/sysom/sysom-rtdemo-access.log\",\n                \"cached\":229404,\n                \"Task\":\"gunicorn_60718 ,gunicorn_720734 ,gunicorn_722168 \"\n            },\n            {\n                \"key\":3,\n                \"Name\":\"/var/log/sysom/sysom-monitor-server-access.log\",\n                \"cached\":197368,\n                \"Task\":\"gunicorn_33682 ,gunicorn_671155 ,gunicorn_714998 \"\n            },\n            {\n                \"key\":4,\n                \"Name\":\"/var/log/sysom/sysom-channel-access.log\",\n                \"cached\":180276,\n                \"Task\":\"gunicorn_33233 ,gunicorn_499735 ,gunicorn_725497 \"\n            },\n            {\n                \"key\":5,\n                \"Name\":\"total cached of close file\",\n                \"cached\":3729668,\n                \"Task\":\"\"\n            }\n        ]\n    },\n    \"dataProcMemList\":{\n        \"data\":[\n            {\n                \"key\":0,\n                \"task\":\"mysqld\",\n                \"MemTotal\":240856,\n                \"RssAnon\":218248,\n                \"RssFile\":22608\n            },\n            {\n                \"key\":1,\n                \"task\":\"systemd-journal\",\n                \"MemTotal\":150248,\n                \"RssAnon\":74300,\n                \"RssFile\":75944\n            },\n            {\n                \"key\":2,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":144640,\n                \"RssAnon\":114200,\n                \"RssFile\":30440\n            },\n            {\n                \"key\":3,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":141480,\n                \"RssAnon\":111040,\n                \"RssFile\":30440\n            },\n            {\n                \"key\":4,\n                \"task\":\"grafana-server\",\n                \"MemTotal\":103660,\n                \"RssAnon\":42732,\n                \"RssFile\":60928\n            },\n            {\n                \"key\":5,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":97444,\n                \"RssAnon\":76256,\n                \"RssFile\":21188\n            },\n            {\n                \"key\":6,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":97260,\n                \"RssAnon\":76072,\n                \"RssFile\":21188\n            },\n            {\n                \"key\":7,\n                \"task\":\"prometheus\",\n                \"MemTotal\":95356,\n                \"RssAnon\":45376,\n                \"RssFile\":49980\n            },\n            {\n                \"key\":8,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":90144,\n                \"RssAnon\":76456,\n                \"RssFile\":13688\n            },\n            {\n                \"key\":9,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":89796,\n                \"RssAnon\":76108,\n                \"RssFile\":13688\n            }\n        ]\n    }\n}"},"url":{"description":"诊断详情URL","type":"string","example":"/diagnose/detail/qe3Z34sa"},"created_at":{"description":"创建时间","type":"string","example":"2024-12-25T15:08:19"},"updated_at":{"description":"更新时间","type":"string","example":"2024-12-25T15:08:19"}}}},"total":{"title":"总数","description":"总数","type":"integer","format":"int64","example":"319"},"RequestId":{"description":"请求ID，可用于全链路诊断","type":"string","example":"44841312-7227-55C9-AE03-D59729BFAE38"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"task_id\\\": \\\"grcuU21a\\\",\\n      \\\"status\\\": \\\"Running\\\",\\n      \\\"service_name\\\": \\\"memgraph\\\",\\n      \\\"command\\\": \\\"{\\\\n    \\\\\\\"jobs\\\\\\\":[\\\\n        {\\\\n            \\\\\\\"cmd\\\\\\\":\\\\\\\"mkdir -p /var/log/sysak && sysak podmem -r 100  -a -j /var/log/sysak/podmem.json > /dev/null 2>&1 && cat /var/log/sysak/podmem.json\\\\\\\",\\\\n            \\\\\\\"instance\\\\\\\":\\\\\\\"172.20.12.174\\\\\\\",\\\\n            \\\\\\\"fetch_file_list\\\\\\\":[\\\\n\\\\n            ]\\\\n        }\\\\n    ],\\\\n    \\\\\\\"in_order\\\\\\\":true,\\\\n    \\\\\\\"offline_mode\\\\\\\":false,\\\\n    \\\\\\\"offline_results\\\\\\\":[\\\\n\\\\n    ]\\\\n}\\\",\\n      \\\"params\\\": \\\"{\\\\n    \\\\\\\"type\\\\\\\":\\\\\\\"all\\\\\\\",\\\\n    \\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\n    \\\\\\\"channel\\\\\\\":\\\\\\\"ssh\\\\\\\",\\\\n    \\\\\\\"instance\\\\\\\":\\\\\\\"172.1.2.174\\\\\\\",\\\\n    \\\\\\\"service_name\\\\\\\":\\\\\\\"filecache\\\\\\\"\\\\n}\\\",\\n      \\\"code\\\": 0,\\n      \\\"err_msg\\\": \\\"Diagnosis failed\\\",\\n      \\\"result\\\": \\\"{\\\\n    \\\\\\\"summary\\\\\\\":\\\\\\\"  memory cgroup leak\\\\\\\",\\\\n    \\\\\\\"dataMemEvent\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"Util\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":20\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"MemLeak\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":\\\\\\\"OK\\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"MemcgLeak\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":\\\\\\\"NG\\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"MemFrag\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":\\\\\\\"OK\\\\\\\"\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataMemOverView\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"app\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":10937332\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"free\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":806800\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"kernel\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":4527660\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataKerMem\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"SReclaimable\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":3411292\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"VmallocUsed\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":30980\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"allocPage\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":177732\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"KernelStack\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":9280\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"PageTables\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":38056\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"SUnreclaim\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":170248\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"reserved\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":690072\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataUserMem\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"filecache\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":8010008\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"anon\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":2468608\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"mlock\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":0\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"huge1G\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":0\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"huge2M\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":0\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"buffers\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":458608\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"shmem\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":2284\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataCacheList\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":0,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/lib/mysql/sysom/sys_handler_log.ibd\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":576764,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"mysqld_78575 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":1,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/log/sysom/sysom-migration-access.log\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":276688,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"gunicorn_33647 ,gunicorn_460836 ,gunicorn_559934 ,gunicorn_731758 ,gunicorn_2362682 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":2,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/log/sysom/sysom-rtdemo-access.log\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":229404,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"gunicorn_60718 ,gunicorn_720734 ,gunicorn_722168 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":3,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/log/sysom/sysom-monitor-server-access.log\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":197368,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"gunicorn_33682 ,gunicorn_671155 ,gunicorn_714998 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":4,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/log/sysom/sysom-channel-access.log\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":180276,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"gunicorn_33233 ,gunicorn_499735 ,gunicorn_725497 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":5,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"total cached of close file\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":3729668,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"\\\\\\\"\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataProcMemList\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":0,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"mysqld\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":240856,\\\\n                \\\\\\\"RssAnon\\\\\\\":218248,\\\\n                \\\\\\\"RssFile\\\\\\\":22608\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":1,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"systemd-journal\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":150248,\\\\n                \\\\\\\"RssAnon\\\\\\\":74300,\\\\n                \\\\\\\"RssFile\\\\\\\":75944\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":2,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":144640,\\\\n                \\\\\\\"RssAnon\\\\\\\":114200,\\\\n                \\\\\\\"RssFile\\\\\\\":30440\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":3,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":141480,\\\\n                \\\\\\\"RssAnon\\\\\\\":111040,\\\\n                \\\\\\\"RssFile\\\\\\\":30440\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":4,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"grafana-server\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":103660,\\\\n                \\\\\\\"RssAnon\\\\\\\":42732,\\\\n                \\\\\\\"RssFile\\\\\\\":60928\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":5,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":97444,\\\\n                \\\\\\\"RssAnon\\\\\\\":76256,\\\\n                \\\\\\\"RssFile\\\\\\\":21188\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":6,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":97260,\\\\n                \\\\\\\"RssAnon\\\\\\\":76072,\\\\n                \\\\\\\"RssFile\\\\\\\":21188\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":7,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"prometheus\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":95356,\\\\n                \\\\\\\"RssAnon\\\\\\\":45376,\\\\n                \\\\\\\"RssFile\\\\\\\":49980\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":8,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":90144,\\\\n                \\\\\\\"RssAnon\\\\\\\":76456,\\\\n                \\\\\\\"RssFile\\\\\\\":13688\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":9,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":89796,\\\\n                \\\\\\\"RssAnon\\\\\\\":76108,\\\\n                \\\\\\\"RssFile\\\\\\\":13688\\\\n            }\\\\n        ]\\\\n    }\\\\n}\\\",\\n      \\\"url\\\": \\\"/diagnose/detail/qe3Z34sa\\\",\\n      \\\"created_at\\\": \\\"2024-12-25T15:08:19\\\",\\n      \\\"updated_at\\\": \\\"2024-12-25T15:08:19\\\"\\n    }\\n  ],\\n  \\\"total\\\": 319,\\n  \\\"RequestId\\\": \\\"44841312-7227-55C9-AE03-D59729BFAE38\\\"\\n}\",\"type\":\"json\"}]","title":"获取诊断列表"},"GetDiagnosisResult":{"summary":"获取诊断结果。","path":"/api/v1/openapi/diagnosis/get_diagnosis_results","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxV02H6G"]},"parameters":[{"name":"task_id","in":"query","schema":{"description":"诊断任务ID","type":"string","required":true,"example":"quzuYl23"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"\"\""},"data":{"description":"返回数据。","type":"object","properties":{"task_id":{"description":"任务ID。","type":"string","example":"grcuU21a"},"status":{"description":"诊断任务执行状态。\n取值：\n- **Ready**：就绪\n- **Running**：正在执行\n- **Success**：执行成功\n- **Fail**：执行失败","type":"string","example":"Running","enum":["Success","Fail","Ready","Running"]},"service_name":{"description":"诊断类型","type":"string","example":"memgraph"},"command":{"description":"诊断命令","type":"any","example":"{\n    \"jobs\":[\n        {\n            \"cmd\":\"mkdir -p /var/log/sysak && sysak podmem -r 100  -a -j /var/log/sysak/podmem.json > /dev/null 2>&1 && cat /var/log/sysak/podmem.json\",\n            \"instance\":\"172.20.12.174\",\n            \"fetch_file_list\":[\n\n            ]\n        }\n    ],\n    \"in_order\":true,\n    \"offline_mode\":false,\n    \"offline_results\":[\n\n    ]\n}"},"params":{"description":"诊断参数","type":"any","example":"{\n    \"type\":\"all\",\n    \"value\":\"\",\n    \"channel\":\"ssh\",\n    \"instance\":\"172.1.2.174\",\n    \"service_name\":\"filecache\"\n}"},"code":{"description":"错误码（0表示无错误）","type":"integer","format":"int32","example":"0"},"err_msg":{"description":"错误信息","type":"string","example":"Diagnosis failed"},"result":{"description":"诊断结果","type":"any","example":"{\n    \"summary\":\"  memory cgroup leak\",\n    \"dataMemEvent\":{\n        \"data\":[\n            {\n                \"key\":\"Util\",\n                \"value\":20\n            },\n            {\n                \"key\":\"MemLeak\",\n                \"value\":\"OK\"\n            },\n            {\n                \"key\":\"MemcgLeak\",\n                \"value\":\"NG\"\n            },\n            {\n                \"key\":\"MemFrag\",\n                \"value\":\"OK\"\n            }\n        ]\n    },\n    \"dataMemOverView\":{\n        \"data\":[\n            {\n                \"key\":\"app\",\n                \"value\":10937332\n            },\n            {\n                \"key\":\"free\",\n                \"value\":806800\n            },\n            {\n                \"key\":\"kernel\",\n                \"value\":4527660\n            }\n        ]\n    },\n    \"dataKerMem\":{\n        \"data\":[\n            {\n                \"key\":\"SReclaimable\",\n                \"value\":3411292\n            },\n            {\n                \"key\":\"VmallocUsed\",\n                \"value\":30980\n            },\n            {\n                \"key\":\"allocPage\",\n                \"value\":177732\n            },\n            {\n                \"key\":\"KernelStack\",\n                \"value\":9280\n            },\n            {\n                \"key\":\"PageTables\",\n                \"value\":38056\n            },\n            {\n                \"key\":\"SUnreclaim\",\n                \"value\":170248\n            },\n            {\n                \"key\":\"reserved\",\n                \"value\":690072\n            }\n        ]\n    },\n    \"dataUserMem\":{\n        \"data\":[\n            {\n                \"key\":\"filecache\",\n                \"value\":8010008\n            },\n            {\n                \"key\":\"anon\",\n                \"value\":2468608\n            },\n            {\n                \"key\":\"mlock\",\n                \"value\":0\n            },\n            {\n                \"key\":\"huge1G\",\n                \"value\":0\n            },\n            {\n                \"key\":\"huge2M\",\n                \"value\":0\n            },\n            {\n                \"key\":\"buffers\",\n                \"value\":458608\n            },\n            {\n                \"key\":\"shmem\",\n                \"value\":2284\n            }\n        ]\n    },\n    \"dataCacheList\":{\n        \"data\":[\n            {\n                \"key\":0,\n                \"Name\":\"/var/lib/mysql/sysom/sys_handler_log.ibd\",\n                \"cached\":576764,\n                \"Task\":\"mysqld_78575 \"\n            },\n            {\n                \"key\":1,\n                \"Name\":\"/var/log/sysom/sysom-migration-access.log\",\n                \"cached\":276688,\n                \"Task\":\"gunicorn_33647 ,gunicorn_460836 ,gunicorn_559934 ,gunicorn_731758 ,gunicorn_2362682 \"\n            },\n            {\n                \"key\":2,\n                \"Name\":\"/var/log/sysom/sysom-rtdemo-access.log\",\n                \"cached\":229404,\n                \"Task\":\"gunicorn_60718 ,gunicorn_720734 ,gunicorn_722168 \"\n            },\n            {\n                \"key\":3,\n                \"Name\":\"/var/log/sysom/sysom-monitor-server-access.log\",\n                \"cached\":197368,\n                \"Task\":\"gunicorn_33682 ,gunicorn_671155 ,gunicorn_714998 \"\n            },\n            {\n                \"key\":4,\n                \"Name\":\"/var/log/sysom/sysom-channel-access.log\",\n                \"cached\":180276,\n                \"Task\":\"gunicorn_33233 ,gunicorn_499735 ,gunicorn_725497 \"\n            },\n            {\n                \"key\":5,\n                \"Name\":\"total cached of close file\",\n                \"cached\":3729668,\n                \"Task\":\"\"\n            }\n        ]\n    },\n    \"dataProcMemList\":{\n        \"data\":[\n            {\n                \"key\":0,\n                \"task\":\"mysqld\",\n                \"MemTotal\":240856,\n                \"RssAnon\":218248,\n                \"RssFile\":22608\n            },\n            {\n                \"key\":1,\n                \"task\":\"systemd-journal\",\n                \"MemTotal\":150248,\n                \"RssAnon\":74300,\n                \"RssFile\":75944\n            },\n            {\n                \"key\":2,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":144640,\n                \"RssAnon\":114200,\n                \"RssFile\":30440\n            },\n            {\n                \"key\":3,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":141480,\n                \"RssAnon\":111040,\n                \"RssFile\":30440\n            },\n            {\n                \"key\":4,\n                \"task\":\"grafana-server\",\n                \"MemTotal\":103660,\n                \"RssAnon\":42732,\n                \"RssFile\":60928\n            },\n            {\n                \"key\":5,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":97444,\n                \"RssAnon\":76256,\n                \"RssFile\":21188\n            },\n            {\n                \"key\":6,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":97260,\n                \"RssAnon\":76072,\n                \"RssFile\":21188\n            },\n            {\n                \"key\":7,\n                \"task\":\"prometheus\",\n                \"MemTotal\":95356,\n                \"RssAnon\":45376,\n                \"RssFile\":49980\n            },\n            {\n                \"key\":8,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":90144,\n                \"RssAnon\":76456,\n                \"RssFile\":13688\n            },\n            {\n                \"key\":9,\n                \"task\":\"gunicorn\",\n                \"MemTotal\":89796,\n                \"RssAnon\":76108,\n                \"RssFile\":13688\n            }\n        ]\n    }\n}"},"url":{"description":"诊断详情URL","type":"string","example":"/diagnose/detail/qe3Z34sa"},"created_at":{"description":"创建时间","type":"string"},"updated_at":{"description":"更新时间","type":"string"}}},"request_id":{"description":"请求 RequestId","type":"string","example":"9515E5A0-8905-59B0-9BBF-5F0BE568C3A0"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"grcuU21a\\\",\\n    \\\"status\\\": \\\"Running\\\",\\n    \\\"service_name\\\": \\\"memgraph\\\",\\n    \\\"command\\\": \\\"{\\\\n    \\\\\\\"jobs\\\\\\\":[\\\\n        {\\\\n            \\\\\\\"cmd\\\\\\\":\\\\\\\"mkdir -p /var/log/sysak && sysak podmem -r 100  -a -j /var/log/sysak/podmem.json > /dev/null 2>&1 && cat /var/log/sysak/podmem.json\\\\\\\",\\\\n            \\\\\\\"instance\\\\\\\":\\\\\\\"172.20.12.174\\\\\\\",\\\\n            \\\\\\\"fetch_file_list\\\\\\\":[\\\\n\\\\n            ]\\\\n        }\\\\n    ],\\\\n    \\\\\\\"in_order\\\\\\\":true,\\\\n    \\\\\\\"offline_mode\\\\\\\":false,\\\\n    \\\\\\\"offline_results\\\\\\\":[\\\\n\\\\n    ]\\\\n}\\\",\\n    \\\"params\\\": \\\"{\\\\n    \\\\\\\"type\\\\\\\":\\\\\\\"all\\\\\\\",\\\\n    \\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\n    \\\\\\\"channel\\\\\\\":\\\\\\\"ssh\\\\\\\",\\\\n    \\\\\\\"instance\\\\\\\":\\\\\\\"172.1.2.174\\\\\\\",\\\\n    \\\\\\\"service_name\\\\\\\":\\\\\\\"filecache\\\\\\\"\\\\n}\\\",\\n    \\\"code\\\": 0,\\n    \\\"err_msg\\\": \\\"Diagnosis failed\\\",\\n    \\\"result\\\": \\\"{\\\\n    \\\\\\\"summary\\\\\\\":\\\\\\\"  memory cgroup leak\\\\\\\",\\\\n    \\\\\\\"dataMemEvent\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"Util\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":20\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"MemLeak\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":\\\\\\\"OK\\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"MemcgLeak\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":\\\\\\\"NG\\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"MemFrag\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":\\\\\\\"OK\\\\\\\"\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataMemOverView\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"app\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":10937332\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"free\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":806800\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"kernel\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":4527660\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataKerMem\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"SReclaimable\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":3411292\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"VmallocUsed\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":30980\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"allocPage\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":177732\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"KernelStack\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":9280\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"PageTables\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":38056\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"SUnreclaim\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":170248\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"reserved\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":690072\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataUserMem\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"filecache\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":8010008\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"anon\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":2468608\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"mlock\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":0\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"huge1G\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":0\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"huge2M\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":0\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"buffers\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":458608\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":\\\\\\\"shmem\\\\\\\",\\\\n                \\\\\\\"value\\\\\\\":2284\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataCacheList\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":0,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/lib/mysql/sysom/sys_handler_log.ibd\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":576764,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"mysqld_78575 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":1,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/log/sysom/sysom-migration-access.log\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":276688,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"gunicorn_33647 ,gunicorn_460836 ,gunicorn_559934 ,gunicorn_731758 ,gunicorn_2362682 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":2,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/log/sysom/sysom-rtdemo-access.log\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":229404,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"gunicorn_60718 ,gunicorn_720734 ,gunicorn_722168 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":3,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/log/sysom/sysom-monitor-server-access.log\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":197368,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"gunicorn_33682 ,gunicorn_671155 ,gunicorn_714998 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":4,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"/var/log/sysom/sysom-channel-access.log\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":180276,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"gunicorn_33233 ,gunicorn_499735 ,gunicorn_725497 \\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":5,\\\\n                \\\\\\\"Name\\\\\\\":\\\\\\\"total cached of close file\\\\\\\",\\\\n                \\\\\\\"cached\\\\\\\":3729668,\\\\n                \\\\\\\"Task\\\\\\\":\\\\\\\"\\\\\\\"\\\\n            }\\\\n        ]\\\\n    },\\\\n    \\\\\\\"dataProcMemList\\\\\\\":{\\\\n        \\\\\\\"data\\\\\\\":[\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":0,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"mysqld\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":240856,\\\\n                \\\\\\\"RssAnon\\\\\\\":218248,\\\\n                \\\\\\\"RssFile\\\\\\\":22608\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":1,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"systemd-journal\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":150248,\\\\n                \\\\\\\"RssAnon\\\\\\\":74300,\\\\n                \\\\\\\"RssFile\\\\\\\":75944\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":2,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":144640,\\\\n                \\\\\\\"RssAnon\\\\\\\":114200,\\\\n                \\\\\\\"RssFile\\\\\\\":30440\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":3,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":141480,\\\\n                \\\\\\\"RssAnon\\\\\\\":111040,\\\\n                \\\\\\\"RssFile\\\\\\\":30440\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":4,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"grafana-server\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":103660,\\\\n                \\\\\\\"RssAnon\\\\\\\":42732,\\\\n                \\\\\\\"RssFile\\\\\\\":60928\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":5,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":97444,\\\\n                \\\\\\\"RssAnon\\\\\\\":76256,\\\\n                \\\\\\\"RssFile\\\\\\\":21188\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":6,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":97260,\\\\n                \\\\\\\"RssAnon\\\\\\\":76072,\\\\n                \\\\\\\"RssFile\\\\\\\":21188\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":7,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"prometheus\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":95356,\\\\n                \\\\\\\"RssAnon\\\\\\\":45376,\\\\n                \\\\\\\"RssFile\\\\\\\":49980\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":8,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":90144,\\\\n                \\\\\\\"RssAnon\\\\\\\":76456,\\\\n                \\\\\\\"RssFile\\\\\\\":13688\\\\n            },\\\\n            {\\\\n                \\\\\\\"key\\\\\\\":9,\\\\n                \\\\\\\"task\\\\\\\":\\\\\\\"gunicorn\\\\\\\",\\\\n                \\\\\\\"MemTotal\\\\\\\":89796,\\\\n                \\\\\\\"RssAnon\\\\\\\":76108,\\\\n                \\\\\\\"RssFile\\\\\\\":13688\\\\n            }\\\\n        ]\\\\n    }\\\\n}\\\",\\n    \\\"url\\\": \\\"/diagnose/detail/qe3Z34sa\\\",\\n    \\\"created_at\\\": \\\"\\\",\\n    \\\"updated_at\\\": \\\"\\\"\\n  },\\n  \\\"request_id\\\": \\\"9515E5A0-8905-59B0-9BBF-5F0BE568C3A0\\\"\\n}\",\"type\":\"json\"}]","title":"获取诊断结果","description":"诊断的流程是异步的，因此调用本接口时，诊断可能还在执行没有结束，可以通过返回数据中 `data.status` 字段进行判断，当 `data.status == Success ` 时，表示诊断成功，可以从 `data.result` 中读取到诊断的结果。"},"InvokeDiagnosis":{"summary":"发起诊断。","path":"/api/v1/openapi/diagnosis/invoke_diagnosis","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"high","chargeType":"free","abilityTreeNodes":["FEATUREalinuxV02H6G"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"service_name":{"title":"诊断类型","description":"诊断类型，用于区分不同类型的诊断","type":"string","required":true,"docRequired":true,"enumValueTitles":{"iofsstat":"IO流量分析","jruntime":"Java运行时分析","oomcheck":"内存OOM诊断","iohang":"IO Hang诊断","pingtrace":"网络时延诊断","rtdelay":"RT时延分析","memgraph":"内存大盘诊断","retran":"网络重传诊断","jitter":"网络抖动诊断","iolatency":"IO时延分析","procdiag":"应用抖动诊断","loadtask":"系统负载诊断","filecache":"内存Cache分析诊断","schedmoni":"调度抖动诊断","packetdrop":"网络丢包诊断"},"example":"memgraph"},"channel":{"title":"诊断通道，固定为 openapi_cloud_assist","description":"诊断通道（目前固定为ecs通道）","type":"string","required":true,"enumValueTitles":{"ecs":"ECS通道"},"example":"ecs"},"params":{"description":"诊断参数，不同类型的诊断要求传递不同的诊断参数，每种诊断所需的参数参见下面的请求参数补充说明。\n\n><notice>请传递 json 格式的字符串></notice>","type":"string","required":true,"example":"{\n    \"instance\": \"i-wz9gdv7qmdhusamc4dl01\",\n    \"uid\": \"xxxxxxxxxxxxxx\",\n    \"region\": \"cn-shenzhen\"\n}"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"code":{"description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"data":{"description":"返回结果。","type":"object","properties":{"task_id":{"description":"诊断任务ID，可以凭借该ID调用 `GetDiagnosisResult` 接口查询诊断结果","type":"string","example":"ihqhAcrt"}}},"request_id":{"description":"请求 RequestId","type":"string","example":"43A910E9-A739-525E-855D-A32C257F1826"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"data\\\": {\\n    \\\"task_id\\\": \\\"ihqhAcrt\\\"\\n  },\\n  \\\"request_id\\\": \\\"43A910E9-A739-525E-855D-A32C257F1826\\\"\\n}\",\"type\":\"json\"}]","title":"发起诊断","description":"对目标 ECS 实例进行诊断有如下要求：\n- 目标 ECS 实例状态必须为运行中（Running）；\n- 目标 ECS 实例必须已经安装云助手，如果未安装，请参考 [安装云助手Agent](https://help.aliyun.com/zh/ecs/user-guide/install-the-cloud-assistant-agent) 进行安装；\n- 必须调用 AuthDiagnosis 接口授权 SysOM 对目标 ECS 进行诊断，如果没有授权本接口会直接失败；\n- 本接口依赖于SysOM服务关联角色（AliyunServiceRoleForSysom）已经创建，本接口不会主动创建服务角色，如果服务角色不存在需要首先调用 AuthDiagnosis 进行授权，该接口会创建前述服务角色。","requestParamsDescription":"## 诊断参数说明\n\n### 内存大盘诊断（memgraph）参数\n\n| 参数名称 | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                    |\n| -------- | -------- | -------- | -------- | ------ | ------------------------------------------------------- |\n| instance | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID， 我们将在会这台机器内部发起诊断 |\n\n### 内存Cache分析诊断（filecache）参数\n\n| 参数名称 | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                       |\n| -------- | -------- | -------- | -------- | ------ | ---------------------------------------------------------- |\n| instance | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID， 我们将在会这台机器内部发起诊断    |\n| value    | string   | 容器     | 否       |        | 请输入你要诊断的容器ID,Pod名,cgroup                        |\n| type     | string   | 诊断类型 | 否       | all    | 请输入需要诊断的类型(容器,POD,cgroup, host, all(所有容器)) |\n\n### 内存OOM诊断（oomcheck）参数\n\n| 参数名称 | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                    |\n| -------- | -------- | -------- | -------- | ------ | ------------------------------------------------------- |\n| instance | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID， 我们将在会这台机器内部发起诊断 |\n| time     | string   | 诊断时间 | 否       |        | 请输入需要诊断OOM的时间点，默认为最近一次               |\n\n### 系统负载诊断（loadtask）参数\n\n| 参数名称 | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                    |\n| -------- | -------- | -------- | -------- | ------ | ------------------------------------------------------- |\n| instance | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID， 我们将在会这台机器内部发起诊断 |\n\n### 调度抖动诊断（schedmoni）参数\n\n| 参数名称  | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                    |\n| --------- | -------- | -------- | -------- | ------ | ------------------------------------------------------- |\n| instance  | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID， 我们将在会这台机器内部发起诊断 |\n| timeout   | string   | 诊断时间 | 否       | 20     | 本次的期望的诊断时间，默认20秒                          |\n| threshold | string   | 诊断阈值 | 否       | 20     | 延迟的阈值，超过这个阈值就记录，默认20ms                |\n\n### IO延迟诊断（iolatency）参数\n\n| 参数名称  | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                         |\n| --------- | -------- | -------- | -------- | ------ | ------------------------------------------------------------ |\n| instance  | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID，我们将在会这台机器内部发起IO时延诊断 |\n| timeout   | string   | 诊断时长 | 否       | 10     | 请输入你要诊断的时长,单位秒                                  |\n| threshold | string   | 时间阈值 | 否       | 1000   | 保留IO延迟大于设定时间阈值的IO（时间单位：ms）               |\n| disk      | string   | 目标磁盘 | 否       | \"\"     | 请输入你要诊断的磁盘,如vda,sdb,缺省为所有磁盘                |\n\n### IO流量分析诊断（iofsstat）参数\n\n| 参数名称 | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                         |\n| -------- | -------- | -------- | -------- | ------ | ------------------------------------------------------------ |\n| instance | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID，我们将在会这台机器内部发起IO流量统计 |\n| timeout  | string   | 诊断时长 | 否       | 15     | 诊断时长,也是IO流量统计周期,单位秒,建议不超过60秒            |\n| disk     | string   | 目标磁盘 | 否       | \"\"     | 请输入你要诊断的磁盘,如vda,sda,缺省为所有磁盘                |\n\n### IO Hang诊断（iohang）参数\n\n| 参数名称  | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                         |\n| --------- | -------- | -------- | -------- | ------ | ------------------------------------------------------------ |\n| instance  | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID，我们将在会这台机器内部发起IO HANG诊断 |\n| timeout   | string   | 诊断时长 | 否       | 10     | 请输入你要诊断的时长,单位秒                                  |\n| threshold | string   | 时间阈值 | 否       | 5000   | 保留IO HANG住时间超过阈值的IO,单位毫秒                       |\n| disk      | string   | 目标磁盘 | 否       | \"\"     | 请输入你要诊断的磁盘,如vda,sda,缺省为所有磁盘                |\n\n### 网络丢包诊断（packetdrop）参数\n\n| 参数名称 | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                    |\n| -------- | -------- | -------- | -------- | ------ | ------------------------------------------------------- |\n| instance | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID， 我们将在会这台机器内部发起诊断 |\n| time     | string   | 运行时间 | 否       | 10     | 请输入你要诊断的时间，单位秒                            |\n\n### 网络重传诊断（retran）参数\n\n| 参数名称 | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                    |\n| -------- | -------- | -------- | -------- | ------ | ------------------------------------------------------- |\n| instance | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID， 我们将在会这台机器内部发起诊断 |\n| time     | string   | 运行时间 | 否       | 10     | 请输入你要诊断的时间，单位秒                            |\n\n### 网络抖动诊断（jitter）参数\n\n| 参数名称 | 参数类型 | 参数说明 | 是否必填 | 默认值 | 备注                                                    |\n| -------- | -------- | -------- | -------- | ------ | ------------------------------------------------------- |\n| instance | string   | 实例ID   | 是       |        | 请输入你要诊断的实例ID， 我们将在会这台机器内部发起诊断 |\n| time     | string   | 运行时间 | 否       | 10     | 请输入你要诊断的时间，单位秒                            |\n\n### 网络时延诊断（pingtrace）参数\n\n| 参数名称        | 参数类型 | 参数说明   | 是否必填 | 默认值 | 备注                                                         |\n| --------------- | -------- | ---------- | -------- | ------ | ------------------------------------------------------------ |\n| origin_instance | string   | 源实例ID   | 是       |        | 请输入你要诊断的源实例ID， 我们将在会这台机器内部发起SysAK诊断 |\n| target_instance | string   | 目标实例ID | 是       |        | 请输入你要诊断的目标实例ID， 我们将在会这台机器内部发起SysAK诊断 |\n| pkg_num         | string   | 追踪包数   | 否       | 100    | 请输入你要追踪的包数                                         |\n| time_gap        | string   | 间隔毫秒数 | 否       | 1000   | 请输入发包间隔                                               |\n| type            | string   | 报文协议   | 否       | icmp   | 请输入报文协议(icmp,tcp,udp)                                 |"},"AuthDiagnosis":{"summary":"本接口用于授权 SysOM 对本账号下的 ECS 实例进行诊断，只有在调用本接口对特定的ECS进行授权后，才可以调用 InvokeDiagnosis 接口对其发起诊断。","path":"/api/v1/openapi/diagnosis/auth","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"tenantRelevance":"publicInformation"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"instances":{"title":"授权诊断的机器列表","description":"授权诊断的机器列表","type":"array","items":{"type":"object","properties":{"instance":{"description":"实例ID。","type":"string","required":false,"example":"i-wz9b9vucz1iubsz8sjqo"},"region":{"description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}},"required":false,"example":"i-wz9gdv7qmdhntqmc4rjd"},"required":true,"docRequired":true},"autoCreateRole":{"title":"是否自动创建服务角色","description":"自动创建角色","type":"boolean","required":false},"autoInstallAgent":{"title":"如果没有安装Agent，是否自动安装最新版本的 Agent","description":"自动安装agent","type":"boolean","required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回结果","type":"object","properties":{"code":{"title":"Id of the request","description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"data":{"description":"本接口没有返回数据","type":"any","example":"{}"},"request_id":{"description":"请求 RequestId","type":"string","example":"35F91AAB-5FDF-5A22-B211-C7C6B00817D0"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"data\\\": \\\"{}\\\",\\n  \\\"request_id\\\": \\\"35F91AAB-5FDF-5A22-B211-C7C6B00817D0\\\"\\n}\",\"type\":\"json\"}]","title":"授权诊断","description":"><notice>诊断功能需要在 RAM 用户下创建服务角色，调用本接口会自定检查服务角色是否创建，如果服务角色不存在则会自动创建，这要求调用本接口的 RAM 用户具有 ram:CreateServiceLinkedRole 权限</notice>\n\n调用本接口授权 SysOM 对 ECS 进行诊断有如下注意事项：\n- 一次授权有效期为 7 天，7 天之后授权会失效，需要再次调用本接口进行授权；\n- 调用本接口进行授权时如果SysOM服务关联角色（AliyunServiceRoleForSysom）不存在会自动创建，这要求调用本接口的RAM用户具有 `ram:CreateServiceLinkedRole` 权限。\n- 调用本接口对特定实例进行授权，会自动给目标ecs实例打上标签 `sysom:diagnosis`，sysom只允许对打了这个标签的实例进行诊断。"},"GetCopilotHistory":{"summary":"获取copilot历史聊天记录","path":"/api/v1/copilot/get_copilot_history","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinuxGP5QJE"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"count":{"title":"请求历史聊天记录的数量，一般小于100条","description":"请求历史聊天记录的数量，一般小于100条","type":"integer","format":"int64","required":true,"example":"100"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"description":"错误码","type":"string","example":"SysomOpenAPI.InvalidParameter"},"message":{"description":"错误信息\n- 如果 `code == Success`，则本字段为空；\n- 否则本字段包含请求错误信息。","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"},"data":{"title":"聊天记录列表，长度为请求数量，若聊天记录小于请求数量，则为实际的聊天记录数量，格式：[{\"user\":“”,\"content\":“”.question,\"time\":\"“},{...}]","description":"聊天记录列表，长度为请求数量，若聊天记录小于请求数量，则为实际的聊天记录数量，格式：[{\"user\":“”,\"content\":“”.question,\"time\":\"“},{...}]","type":"array","items":{"description":"返回数据。","type":"object","properties":{"user":{"title":"user/copilot，user为用户，copilot为机器人","description":"user/copilot，user为用户，copilot为机器人","type":"string","example":"user\ncopilot"},"content":{"title":"聊天内容文本","description":"聊天内容文本","type":"string","example":"copilot回复的具体内容"},"time":{"title":"聊天记录时间，string类型","description":"聊天记录时间，string类型","type":"string","example":"2024-09-02 10:02:39"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"SysomOpenAPI.InvalidParameter\\\",\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"user\\\": \\\"user\\\\ncopilot\\\",\\n      \\\"content\\\": \\\"copilot回复的具体内容\\\",\\n      \\\"time\\\": \\\"2024-09-02 10:02:39\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取copilot流式接口的聊天记录"},"GenerateCopilotStreamResponse":{"summary":"流式copilot服务接口","path":"/api/v1/copilot/generate_copilot_stream_response","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":[],"produces":[],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"tenantRelevance":"publicInformation"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"llmParamString":{"title":"对接copilot llm服务的入参，参考标准LLM接口入参dict，需要转化成string并传入llmParamString中","description":"对接copilot llm服务的入参，参考标准LLM接口入参dict，需要转化成string并传入llmParamString中","type":"string","required":false,"example":"\"{\\\"model\\\":\\\"Qwen-7B-Chat\\\",\\\"temperature\\\":0.9,\\\"max_tokens\\\":1000,\\\"top_p\\\":1,\\\"frequency_penalty\\\":0.0,\\\"presence_penalty\\\":0.6,\\\"messages\\\":[{\\\"role\\\":\\\"user\\\",\\\"content\\\":\\\"我是os工程师\\\"},{\\\"role\\\":\\\"assistant\\\",\\\"content\\\":\\\"您好。我是AI语言模型，很高兴为您服 务。有什么我能帮助您的呢\\\"},{\\\"role\\\":\\\"user\\\",\\\"content\\\":\\\"你知道什么是alinux吗\\\"}]}\""}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"title":"错误码","description":"错误码","type":"string","example":"SysomOpenAPI.ServerError\n"},"message":{"title":"错误码描述，若无错误则为空","description":"错误码描述，若无错误则为空","type":"string","example":"Requests for llm service failed\n"},"data":{"title":"llm服务返回的data，字符串类型，如为dict需自行转换解析","description":"llm服务返回的data，字符串类型，如为dict需自行转换解析","type":"string","example":"{'choices': [{'finish_reason': 'stop', 'index': 0, 'message': {'content': 'Alinux是一个基于Linux的开源操作系统，它主要由阿里巴巴集团开发和维护，专为大规模云计算和大数据处理环境设计。这个系统针对高并发、低延迟以及资源利用率优化进行了深度定制和改良，以适应阿里内部复杂且庞大的业务需求。由于其在性能和稳定性方面的优秀表现，Alinux也在逐渐被外部的一些企业和研究机构采用，特别是在需要处理高负载场景的领域。与标准Linux发行版相比，Alinux可能包含特定的内核补丁、优化工具集以及其他阿里巴巴内部研发的特性。然而，值得注意的是，尽管名称中的“Ali”可能让人联想到与阿里巴巴的紧密关系，但Alinux作为一个项目，已经于2021年成为开放原子开源基金会（OpenAtom Foundation）下的一个子项目，即 OpenAnolis，这标志着它的社区化和广泛化的进程。', 'role': 'assistant'}}], 'model': 'Qwen1.5', 'sentiment': [], 'status_code': 200, 'time': 6.836989402770996, 'usage': {'completion_tokens': 180, 'prompt_tokens': 176, 'time_dict': {'auto_regression_time': 0.03798324399524265, 'speed': 26.327398474054736, 'total_generate_time': 6.836983919143677}, 'total_tokens': 356}}"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\\n\\\",\\n  \\\"message\\\": \\\"Requests for llm service failed\\\\n\\\",\\n  \\\"data\\\": \\\"{'choices': [{'finish_reason': 'stop', 'index': 0, 'message': {'content': 'Alinux是一个基于Linux的开源操作系统，它主要由阿里巴巴集团开发和维护，专为大规模云计算和大数据处理环境设计。这个系统针对高并发、低延迟以及资源利用率优化进行了深度定制和改良，以适应阿里内部复杂且庞大的业务需求。由于其在性能和稳定性方面的优秀表现，Alinux也在逐渐被外部的一些企业和研究机构采用，特别是在需要处理高负载场景的领域。与标准Linux发行版相比，Alinux可能包含特定的内核补丁、优化工具集以及其他阿里巴巴内部研发的特性。然而，值得注意的是，尽管名称中的“Ali”可能让人联想到与阿里巴巴的紧密关系，但Alinux作为一个项目，已经于2021年成为开放原子开源基金会（OpenAtom Foundation）下的一个子项目，即 OpenAnolis，这标志着它的社区化和广泛化的进程。', 'role': 'assistant'}}], 'model': 'Qwen1.5', 'sentiment': [], 'status_code': 200, 'time': 6.836989402770996, 'usage': {'completion_tokens': 180, 'prompt_tokens': 176, 'time_dict': {'auto_regression_time': 0.03798324399524265, 'speed': 26.327398474054736, 'total_generate_time': 6.836983919143677}, 'total_tokens': 356}}\\\"\\n}\",\"type\":\"json\"}]","title":"请求os copilot服务流式sse接口","description":"- 需配合aliyun-tea-openapi-inner包的call_sseapi接口使用\n- 需要按通用LLM服务输入参数填充参数，转为string后赋给llmParamString\n- 返回数据需将string转为dict后使用，参考通用LLM服务返回格式"},"GenerateCopilotResponse":{"summary":"获取copilot服务的返回结果","path":"/api/v1/copilot/generate_copilot_response","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"tenantRelevance":"publicInformation"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"llmParamString":{"title":"对接copilot llm服务的入参，参考标准LLM接口入参dict，需要转化成string并传入llmParamString中","description":"对接copilot llm服务的入参，参考标准LLM接口入参dict，需要转化成string并传入llmParamString中","type":"string","required":false,"example":"\"{\\\"model\\\":\\\"Qwen-7B-Chat\\\",\\\"temperature\\\":0.9,\\\"max_tokens\\\":1000,\\\"top_p\\\":1,\\\"frequency_penalty\\\":0.0,\\\"presence_penalty\\\":0.6,\\\"messages\\\":[{\\\"role\\\":\\\"user\\\",\\\"content\\\":\\\"我是os工程师\\\"},{\\\"role\\\":\\\"assistant\\\",\\\"content\\\":\\\"您好。我是AI语言模型，很高兴为您服 务。有什么我能帮助您的呢\\\"},{\\\"role\\\":\\\"user\\\",\\\"content\\\":\\\"你知道什么是alinux吗\\\"}]}\""}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822"},"code":{"title":"错误码","description":"错误码","type":"string","example":"SysomOpenAPI.ServerError"},"massage":{"title":"错误码描述，若无错误则为空","description":"错误码描述，若无错误则为空","type":"string","example":"Requests for llm service failed"},"data":{"title":"llm服务返回的data，字符串类型，如为dict需自行转换解析","description":"llm服务返回的data，字符串类型，如为dict需自行转换解析","type":"string","example":"{'choices': [{'finish_reason': 'stop', 'index': 0, 'message': {'content': 'Alinux是一个基于Linux的开源操作系统，它主要由阿里巴巴集团开发和维护，专为大规模云计算和大数据处理环境设计。这个系统针对高并发、低延迟以及资源利用率优化进行了深度定制和改良，以适应阿里内部复杂且庞大的业务需求。由于其在性能和稳定性方面的优秀表现，Alinux也在逐渐被外部的一些企业和研究机构采用，特别是在需要处理高负载场景的领域。与标准Linux发行版相比，Alinux可能包含特定的内核补丁、优化工具集以及其他阿里巴巴内部研发的特性。然而，值得注意的是，尽管名称中的“Ali”可能让人联想到与阿里巴巴的紧密关系，但Alinux作为一个项目，已经于2021年成为开放原子开源基金会（OpenAtom Foundation）下的一个子项目，即 OpenAnolis，这标志着它的社区化和广泛化的进程。', 'role': 'assistant'}}], 'model': 'Qwen1.5', 'sentiment': [], 'status_code': 200, 'time': 6.836989402770996, 'usage': {'completion_tokens': 180, 'prompt_tokens': 176, 'time_dict': {'auto_regression_time': 0.03798324399524265, 'speed': 26.327398474054736, 'total_generate_time': 6.836983919143677}, 'total_tokens': 356}}"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\",\\n  \\\"code\\\": \\\"SysomOpenAPI.ServerError\\\",\\n  \\\"massage\\\": \\\"Requests for llm service failed\\\",\\n  \\\"data\\\": \\\"{'choices': [{'finish_reason': 'stop', 'index': 0, 'message': {'content': 'Alinux是一个基于Linux的开源操作系统，它主要由阿里巴巴集团开发和维护，专为大规模云计算和大数据处理环境设计。这个系统针对高并发、低延迟以及资源利用率优化进行了深度定制和改良，以适应阿里内部复杂且庞大的业务需求。由于其在性能和稳定性方面的优秀表现，Alinux也在逐渐被外部的一些企业和研究机构采用，特别是在需要处理高负载场景的领域。与标准Linux发行版相比，Alinux可能包含特定的内核补丁、优化工具集以及其他阿里巴巴内部研发的特性。然而，值得注意的是，尽管名称中的“Ali”可能让人联想到与阿里巴巴的紧密关系，但Alinux作为一个项目，已经于2021年成为开放原子开源基金会（OpenAtom Foundation）下的一个子项目，即 OpenAnolis，这标志着它的社区化和广泛化的进程。', 'role': 'assistant'}}], 'model': 'Qwen1.5', 'sentiment': [], 'status_code': 200, 'time': 6.836989402770996, 'usage': {'completion_tokens': 180, 'prompt_tokens': 176, 'time_dict': {'auto_regression_time': 0.03798324399524265, 'speed': 26.327398474054736, 'total_generate_time': 6.836983919143677}, 'total_tokens': 356}}\\\"\\n}\",\"type\":\"json\"}]","title":"请求copilot服务","description":"- 需要按通用LLM服务输入参数填充参数，转为string后赋给llmParamString\n- 返回数据需将string转为dict后使用，参考通用LLM服务返回格式"},"CheckInstanceSupport":{"summary":"检查目标实例是否被 SysOM 支持","path":"/api/v1/am/supportInstanceList/checkInstanceSupport","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREalinux586OFI"],"autoTest":true,"tenantRelevance":"publicInformation"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"region":{"title":"实例所属 Region，务必保证 instances 中传递的所有实例ID都属于同一个 region","description":"实例所属 Region，务必保证 instances 中传递的所有实例ID都属于同一个 region","type":"string","required":false,"example":"cn-hangzhou"},"instances":{"title":"需要检查的实例ID列表","description":"需要检查的实例ID列表","type":"array","items":{"title":"实例ID","description":"实例ID","type":"string","required":false,"example":"i-2zxxxxxx"},"required":false,"example":"[\"i-2zxxxxxx\"]"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"2D693121-C925-5154-8DF6-C09A8B369822\n"},"code":{"title":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","description":"状态码\n- `code == Success` 则代表授权成功；\n- 其它状态码代表授权失败，授权失败时查看 `message` 字段获取详细的错误信息；","type":"string","example":"Success"},"data":{"title":"返回数据。","description":"返回数据。","type":"array","items":{"title":"返回结果。","description":"返回结果。","type":"object","properties":{"support":{"title":"是否支持被 SysOM 纳管\n\n- **true**：支持被 SysOM 纳管\n\n- **false**：不支持被 SysOM 纳管","description":"是否支持被 SysOM 纳管\n\n- **true**：支持被 SysOM 纳管\n\n- **false**：不支持被 SysOM 纳管","type":"boolean","example":"true"},"reason":{"title":"当success为false时，该值不为空，表示不支持被纳管的原因","description":"当success为false时，该值不为空，表示不支持被纳管的原因","type":"string","example":"instance not found in ecs"},"instance":{"title":"ECS实例ID","description":"ECS实例ID","type":"string","example":"i-wz9d00ut2ska3mlyhn6j"}}}},"message":{"title":"错误信息，code != Success 时，在此处存放错误信息","description":"错误信息，code != Success 时，在此处存放错误信息","type":"string","example":"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2D693121-C925-5154-8DF6-C09A8B369822\\\\n\\\",\\n  \\\"code\\\": \\\"Success\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"support\\\": true,\\n      \\\"reason\\\": \\\"instance not found in ecs\\\",\\n      \\\"instance\\\": \\\"i-wz9d00ut2ska3mlyhn6j\\\"\\n    }\\n  ],\\n  \\\"message\\\": \\\"SysomOpenAPIAssumeRoleException: EntityNotExist.Role The role not exists: acs:ram::xxxxx:role/aliyunserviceroleforsysom\\\"\\n}\",\"type\":\"json\"}]","title":"检查实例是否支持","description":"当前接口获取的实例列表是已经被 SysOM 纳管的机器列表，如果某个ECS实例存在但是没有被 SysOM 纳管，则不会出现在列表当中。"}},"endpoints":[{"regionId":"cn-hangzhou","endpoint":"sysom.cn-hangzhou.aliyuncs.com"}]}