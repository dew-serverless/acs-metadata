{"version":"1.0","info":{"style":"RPC","product":"waf-openapi","version":"2021-10-01"},"directories":[{"id":283136,"title":"实例信息","type":"directory","children":["CreatePostpaidInstance","DescribeInstance","ReleaseInstance"]},{"id":283140,"title":"接入配置","type":"directory","children":[{"id":283141,"title":"云产品接入","type":"directory","children":["DescribeAbnormalCloudResources","ReCreateCloudResource","SyncProductInstance","DescribeCloudResources","DescribeProductInstances","DescribeResourceSupportRegions","DescribeResourceRegionId","DescribeResourceInstanceCerts","CreateCloudResource","ModifyCloudResource","DeleteCloudResource","DescribeCloudResourceAccessedPorts","DescribeCloudResourceAccessPortDetails"]},{"id":283155,"title":"CNAME 接入","type":"directory","children":["DescribeDomainUsedPorts","CreateDomain","ModifyDomain","DeleteDomain","DescribeDomains","DescribeDomainDetail","DescribePunishedDomains","ModifyDomainPunishStatus","DescribeCertDetail","DescribeCerts","DescribeDomainDNSRecord","DescribeWafSourceIpSegment","DescribeResourcePort","DescribeDDoSStatus","CreateSM2Cert","DescribeCnameCount","DescribeDefaultHttps","ModifyDefaultHttps","CreateCerts"]},{"id":283175,"title":"混合云接入","type":"directory","children":["DescribeHybridCloudResources"]}]},{"id":283177,"title":"防护配置","type":"directory","children":[{"id":283178,"title":"防护对象","type":"directory","children":["CreateDefenseResource","DeleteDefenseResource","CreateDefenseResourceGroup","ModifyDefenseResourceGroup","DeleteDefenseResourceGroup","DescribeDefenseResourceGroup","DescribeDefenseResourceGroups","DescribeDefenseResourceGroupNames","DescribeDefenseResource","DescribeDefenseResources","DescribeDefenseResourceNames","DescribeDefenseResourceOwnerUid","ModifyDefenseResourceXff","DescribePauseProtectionStatus","DescribeDefenseGroupValidResources"]},{"id":283194,"title":"防护规则","type":"directory","children":["CreateDefenseTemplate","ModifyDefenseTemplate","ModifyDefenseTemplateStatus","CopyDefenseTemplate","DeleteDefenseTemplate","DescribeDefenseTemplate","DescribeDefenseTemplates","ModifyTemplateResources","DescribeTemplateResources","DescribeTemplateResourceCount","DescribeDefenseTemplateValidResources","DescribeDefenseTemplateValidGroups","DescribeDefenseResourceTemplates","CreateDefenseRule","ModifyDefenseRule","ModifyDefenseRuleStatus","DeleteDefenseRule","DescribeDefenseRules","DescribeDefenseRule","ModifyDefenseRuleCache","DeleteDefenseRuleBlockIp","DescribeIpAbroadCountryInfos","DescribeRuleGroups","ModifyDefenseSceneConfig","DescribeDefenseSceneConfig","DescribeDefenseRuleStatistics","DescribeBaseSystemRules"]},{"id":283222,"title":"重保场景","type":"directory","children":["CreateMajorProtectionBlackIp","ModifyMajorProtectionBlackIp","DeleteMajorProtectionBlackIp","ClearMajorProtectionBlackIp","DescribeMajorProtectionBlackIps"]}]},{"id":283228,"title":"API安全","type":"directory","children":["DeleteApisecAbnormals","ModifyApisecAbnormals","DescribeApisecAssetTrend","DescribeApisecAbnormalDomainStatistic","DescribeApisecEventDomainStatistic","DescribeApisecSensitiveDomainStatistic","ModifyApisecEvents","DeleteApisecEvents","ModifyApisecLogDeliveryStatus","CreateApiExport","DescribeApiExports","DescribeApisecAbnormals","DescribeApisecApiResources","ModifyApisecStatus","ModifyApisecModuleStatus","ModifyApisecApiResource","DescribeUserEventType","DescribeUserEventTrend","DescribeUserAsset","DescribeUserApiRequest","DescribeUserAbnormalType","DescribeUserAbnormalTrend","DescribeSensitiveStatistic","DescribeSensitiveRequests","DescribeSensitiveRequestLog","DescribeSensitiveOutboundTrend","DescribeSensitiveOutboundStatistic","DescribeSensitiveOutboundDistribution","DescribeSensitiveDetectionResult","DescribeSensitiveApiStatistic","DescribeFreeUserEvents","DescribeFreeUserEventTypes","DescribeFreeUserEventCount","DescribeFreeUserAssetCount","DescribeApisecUserOperations","DescribeApisecSuggestions","DescribeApisecStatistics","DescribeApisecRules","DescribeApisecProtectionResources","DescribeApisecProtectionGroups","DescribeApisecMatchedHosts","DescribeApisecEvents"]},{"id":283271,"title":"报表信息","type":"directory","children":["DescribeNetworkFlowTimeSeriesMetric","DescribeSecurityEventTopNMetric","DescribeSecurityEventTimeSeriesMetric","DescribeSecurityEventLogs","DescribeNetworkFlowTopNMetric","DescribeFlowChart","DescribePeakTrend","DescribeResponseCodeTrendGraph","DescribeVisitUas","DescribeVisitTopIp","DescribeRuleHitsTopResource","DescribeRuleHitsTopRuleId","DescribeRuleHitsTopTuleType","DescribeRuleHitsTopUrl","DescribeRuleHitsTopClientIp","DescribeFlowTopResource","DescribeRuleHitsTopUa","DescribeFlowTopUrl"]},{"id":283290,"title":"日志配置","type":"directory","children":["DescribeUserLogFieldConfig","ModifyUserLogFieldConfig","DescribeCommonLogFields","ModifyUserWafLogStatus","DescribeUserWafLogStatus","DescribeUserSlsLogRegions","DescribeSlsAuthStatus","DescribeSlsLogStoreStatus","DescribeSlsLogStore","ModifyResourceLogStatus","DescribeResourceLogStatus"]},{"id":283302,"title":"混合云集群管理","type":"directory","children":["DescribeHybridCloudClusterServers","DescribeHybridCloudBasicMonitor","CreateHybridCloudCluster","DescribeHybridCloudServerRegions","DescribeHybridCloudUnassignedMachines","ModifyHybridCloudClusterBypassStatus","DescribeHybridCloudUser","DescribeHybridCloudGroups","CreateHybridCloudGroup","DescribeHybridCloudClusterRule","DescribeHybridCloudClusters","ModifyHybridCloudClusterRule","ModifyHybridCloudGroup","ModifyHybridCloudGroupExpansionServer","ModifyHybridCloudGroupShrinkServer","ModifyHybridCloudSdkPullinStatus","ModifyHybridCloudServer","DeleteHybridCloudClusterRule","CreateHybridCloudClusterRule","DescribeHybridCloudClusterRules","DescribeHybridCloudProcessMonitor","DescribeHybridCloudResourceDetail","DescribeHybridCloudSdkServers","DescribeHybridCloudSupportRegions","DescribeHybridCloudUnsupportPorts","ModifyHybridCloudCluster"]},{"id":283329,"title":"多账号统一管理","type":"directory","children":["CreateMemberAccounts","ModifyMemberAccount","DeleteMemberAccount","DescribeAccountDelegatedStatus","DescribeMemberAccounts"]},{"id":283335,"title":"资源组管理","type":"directory","children":["ChangeResourceGroup"]},{"id":283337,"title":"标签管理","type":"directory","children":["ListTagKeys","UntagResources","ListTagResources","ListTagValues","TagResources"]},{"id":283343,"title":"其他","type":"directory","children":["DescribeApisecLogDeliveries","DescribeApisecSlsLogStores","DescribeApisecSlsProjects","ModifyApisecLogDelivery","ModifyPauseProtectionStatus","DescribeCustomBaseRuleCompileResult","DescribeChargeResult","DescribeChargeModule"]}],"components":{"schemas":{}},"apis":{"CreatePostpaidInstance":{"summary":"创建Web应用防火墙3.0（按量付费）实例。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"166793","abilityTreeNodes":["FEATUREwafHU8RSD"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm4gh****wela"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"73A4E786-8235-50C0-9631-87C8****4A36"},"InstanceId":{"title":"实例ID","description":"WAF实例ID。","type":"string","example":"waf_v2_public_cn-x0r****gr1i"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"73A4E786-8235-50C0-9631-87C8****4A36\\\",\\n  \\\"InstanceId\\\": \\\"waf_v2_public_cn-x0r****gr1i\\\"\\n}\",\"type\":\"json\"}]","title":"创建Web应用防火墙3.0（按量付费）实例"},"DescribeInstance":{"summary":"获取当前阿里云账号下WAF实例的详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"107334","abilityTreeNodes":["FEATUREwafHU8RSD"],"autoTest":true},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。\n","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Status":{"description":"实例的当前状态，取值：\n- **1**：表示正常。\n- **2**：表示到期。\n- **3**：表示释放。","type":"integer","format":"int32","example":"1"},"Details":{"title":"实例详情","description":"实例详情。","type":"object","properties":{"DefenseObjectInGroupMaxCount":{"title":"一个防护组内最大包含对象数量","description":"一个防护组内包含的防护对象的最大数量。","type":"integer","format":"int64","example":"100"},"Tamperproof":{"description":"是否支持网页防篡改。取值：\n- **true**：表示支持。\n- **false**：表示不支持。","type":"boolean","example":"true"},"BotApp":{"description":"是否支持App防爬场景化防护。取值：\n- **true**：表示支持。\n- **false**：表示不支持。","type":"string","example":"true"},"IpBlacklistRuleInTemplateMaxCount":{"title":"IP黑名单模板包含规则数","description":"单个黑名单模板中包含的防护规则的最大数量。","type":"integer","format":"int64","example":"100"},"WhitelistRuleCondition":{"title":"白名单规则匹配条件","description":"白名单规则匹配字段。更多信息，请参见[CreateDefenseRule](~~461421~~)中**白名单规则（whitelist）conditions**的参数描述。","type":"string","example":"URL"},"CustomRuleCondition":{"title":"自定义规则匹配条件","description":"自定义规则匹配条件。更多信息，请参见[CreateDefenseRule](~~461421~~)中**自定义规则（custom_acl）conditions**的参数描述。","type":"string","example":"URL"},"CustomResponse":{"title":"支持自定义响应","description":"是否支持自定义响应。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"HttpPorts":{"title":"HTTP端口可用范围","description":"HTTP端口可用范围。更多信息，请参见[WAF支持的端口范围](~~385578~~)。","type":"string","example":"80"},"Gslb":{"title":"Gslb","description":"是否支持GSLB。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"Ipv6":{"title":"Ipv6","description":"是否支持IPv6。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"Bot":{"description":"是否支持Bot管理。取值：\n- **true**：表示支持。\n- **false**：表示不支持。","type":"boolean","example":"true"},"CustomRule":{"title":"支持自定义规则","description":"是否支持自定义规则。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"IpBlacklist":{"title":"支持IP黑名单","description":"是否支持IP黑名单。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"CnameResourceMaxCount":{"title":"最大可添加CNAME数","description":"可添加的CNAME的最大数量。","type":"integer","format":"int64","example":"1000"},"BackendMaxCount":{"title":"最大回源数","description":"可配置的回源IP的最大数量。","type":"integer","format":"int64","example":"20"},"ExclusiveIp":{"title":"独享IP","description":"是否支持独享IP。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"CustomResponseRuleInTemplateMaxCount":{"title":"自定义响应模板包含规则数","description":"单个自定义响应模板中包含的防护规则的最大数量。","type":"integer","format":"int64","example":"100"},"IpBlacklistIpInRuleMaxCount":{"title":"IP黑名单规则包含IP数","description":"黑名单规则中可添加IP的最大数量。","type":"integer","format":"int64","example":"200"},"AclRuleMaxIpCount":{"description":"匹配内容中可添加IP的最大数量。关于匹配内容的更多说明，请参见[匹配条件说明](~~374354~~)。","type":"integer","format":"int64","example":"100"},"BotTemplateMaxCount":{"description":"可配置的Bot管理防护模板的最大数量。","type":"integer","format":"int64","example":"50"},"DefenseGroupMaxCount":{"title":"最大防护组数量","description":"可配置的防护组的最大数量。","type":"integer","format":"int64","example":"100"},"VastIpBlacklistInFileMaxCount":{"title":"海量IP单次上传文件IP的最大数量","description":"单次批量导入IP黑名单的最大数量。","type":"integer","format":"int64","example":"2,000"},"AntiScanTemplateMaxCount":{"title":"扫描防护模板数","description":"可配置的扫描防护模板的最大数量。","type":"integer","format":"int64","example":"20"},"WhitelistLogical":{"title":"白名单规则匹配条件","description":"白名单规则逻辑符。更多信息，请参见[CreateDefenseRule](~~461421~~)中**白名单规则（whitelist）conditions**的参数描述。","type":"string","example":"contain"},"CustomRuleTemplateMaxCount":{"title":"自定义规则模板数","description":"可配置的自定义规则模板的最大数量。","type":"integer","format":"int64","example":"20"},"TamperproofTemplateMaxCount":{"description":"可配置的网页防篡改防护模板的最大数量。","type":"integer","format":"int64","example":"50"},"IpBlacklistTemplateMaxCount":{"title":"/黑名单模板数","description":"可配置的黑名单模板的最大数量。","type":"integer","format":"int64","example":"20"},"HttpsPorts":{"title":"HTTPS端口可用范围","description":"HTTPS端口可用范围。更多信息，请参见[WAF支持的端口范围](~~385578~~)。","type":"string","example":"443"},"DlpTemplateMaxCount":{"description":"可配置的信息泄露防护模板的最大数量。","type":"integer","format":"int64","example":"50"},"CustomRuleRatelimitor":{"title":"自定义规则限速对象","description":"自定义规则限速对象。","type":"string","example":"header"},"DefenseObjectMaxCount":{"title":"最大防护对象数量","description":"可配置的防护对象的最大数量。","type":"integer","format":"int64","example":"20,000"},"Dlp":{"description":"是否支持信息泄露防护。取值：\n- **true**：表示支持。\n- **false**：表示不支持。","type":"boolean","example":"true"},"DefenseObjectInTemplateMaxCount":{"title":"一个模板内关联对象的最大数量","description":"一个模板内关联的防护对象的最大数量。","type":"integer","format":"int64","example":"100"},"CustomRuleAction":{"title":"包含字符串","description":"自定义规则包含的字符串。","type":"string","example":"block"},"TamperproofRuleInTemplateMaxCount":{"description":"单个网页防篡改模板中包含的防护规则的最大数量。","type":"integer","format":"int64","example":"50"},"DlpRuleInTemplateMaxCount":{"description":"单个信息泄露防护模板中包含的防护规则的最大数量。","type":"integer","format":"int64","example":"50"},"WhitelistTemplateMaxCount":{"title":"白名单模板数","description":"可配置的白名单模板的最大数量。","type":"integer","format":"int64","example":"20"},"MajorProtection":{"title":"是否支持重保","description":"是否支持重保场景防护。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"BaseWafGroupRuleTemplateMaxCount":{"title":"基础防护规则最大数量","description":"可配置的基础防护规则模板的最大数量。","type":"integer","format":"int64","example":"20"},"BotWeb":{"description":"是否支持网页防爬场景化防护。取值：\n- **true**：表示支持。\n- **false**：表示不支持。","type":"string","example":"true"},"CustomRuleInTemplateMaxCount":{"title":"自定义规则模板包含规则数","description":"单个自定义规则模板中包含的防护规则的最大数量。","type":"integer","format":"int64","example":"100"},"VastIpBlacklistInOperationMaxCount":{"title":"海量IP单次页面操作的最大数量","description":"单次页面添加IP黑名单的最大数量。","type":"integer","format":"int64","example":"500"},"WhitelistRuleInTemplateMaxCount":{"title":"白名单模板包含规则数","description":"单个白名单模板中包含的防护规则的最大数量。","type":"integer","format":"int64","example":"100"},"AntiScan":{"title":"支持扫描防护","description":"是否支持扫描防护。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"CustomResponseTemplateMaxCount":{"title":"自定义响应模板数","description":"可配置的自定义响应模板的最大数量。","type":"integer","format":"int64","example":"20"},"BaseWafGroupRuleInTemplateMaxCount":{"title":"基础防护规则","description":"单个基础防护规则模板中包含的防护规则的最大数量。","type":"integer","format":"int64","example":"100"},"MajorProtectionTemplateMaxCount":{"title":"重保模板的最大数量","description":"可配置的重保场景防护模板的最大数量。","type":"integer","format":"int64","example":"20"},"BaseWafGroup":{"title":"基础防护","description":"是否支持基础防护规则。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"Whitelist":{"title":"是否支持白名单","description":"是否支持IP白名单。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"LogService":{"title":"日志服务是否开启","description":"是否支持日志服务。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"VastIpBlacklistMaxCount":{"title":"海量IP的最大数量（单用户）","description":"单用户可配置的IP黑名单的最大数量。","type":"integer","format":"int64","example":"50,000"}}},"RequestId":{"description":"本次请求的ID。","type":"string","example":"66A98669-CC6E-4F3E-80A6-3014697B11AE"},"EndTime":{"description":"实例到期时间。","type":"integer","format":"int64","example":"4809859200000"},"InstanceId":{"title":"实例ID","description":"WAF实例ID。","type":"string","example":"waf-cn-xxx"},"InDebt":{"description":"当前实例是否欠费：\n- **0**：表示正常。\n- **1**：表示已欠费。","type":"string","example":"1"},"StartTime":{"description":"购买时间。格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","example":"1668496310000"},"RegionId":{"title":"RegionId","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","example":"cn-hangzhou"},"PayType":{"description":"实例的付费类型。取值：\n\n- **POSTPAY**：表示已开通按量付费WAF实例。\n\n- **PREPAY**：表示已开通包年包月WAF实例。\n","type":"string","example":"POSTPAY"},"Edition":{"title":"套餐","description":"WAF版本。","type":"string","example":"default_version"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Status\\\": 1,\\n  \\\"Details\\\": {\\n    \\\"DefenseObjectInGroupMaxCount\\\": 100,\\n    \\\"Tamperproof\\\": true,\\n    \\\"BotApp\\\": \\\"true\\\",\\n    \\\"IpBlacklistRuleInTemplateMaxCount\\\": 100,\\n    \\\"WhitelistRuleCondition\\\": \\\"URL\\\",\\n    \\\"CustomRuleCondition\\\": \\\"URL\\\",\\n    \\\"CustomResponse\\\": true,\\n    \\\"HttpPorts\\\": \\\"80\\\",\\n    \\\"Gslb\\\": true,\\n    \\\"Ipv6\\\": true,\\n    \\\"Bot\\\": true,\\n    \\\"CustomRule\\\": true,\\n    \\\"IpBlacklist\\\": true,\\n    \\\"CnameResourceMaxCount\\\": 1000,\\n    \\\"BackendMaxCount\\\": 20,\\n    \\\"ExclusiveIp\\\": true,\\n    \\\"CustomResponseRuleInTemplateMaxCount\\\": 100,\\n    \\\"IpBlacklistIpInRuleMaxCount\\\": 200,\\n    \\\"AclRuleMaxIpCount\\\": 100,\\n    \\\"BotTemplateMaxCount\\\": 50,\\n    \\\"DefenseGroupMaxCount\\\": 100,\\n    \\\"VastIpBlacklistInFileMaxCount\\\": 0,\\n    \\\"AntiScanTemplateMaxCount\\\": 20,\\n    \\\"WhitelistLogical\\\": \\\"contain\\\",\\n    \\\"CustomRuleTemplateMaxCount\\\": 20,\\n    \\\"TamperproofTemplateMaxCount\\\": 50,\\n    \\\"IpBlacklistTemplateMaxCount\\\": 20,\\n    \\\"HttpsPorts\\\": \\\"443\\\",\\n    \\\"DlpTemplateMaxCount\\\": 50,\\n    \\\"CustomRuleRatelimitor\\\": \\\"header\\\",\\n    \\\"DefenseObjectMaxCount\\\": 0,\\n    \\\"Dlp\\\": true,\\n    \\\"DefenseObjectInTemplateMaxCount\\\": 100,\\n    \\\"CustomRuleAction\\\": \\\"block\\\",\\n    \\\"TamperproofRuleInTemplateMaxCount\\\": 50,\\n    \\\"DlpRuleInTemplateMaxCount\\\": 50,\\n    \\\"WhitelistTemplateMaxCount\\\": 20,\\n    \\\"MajorProtection\\\": true,\\n    \\\"BaseWafGroupRuleTemplateMaxCount\\\": 20,\\n    \\\"BotWeb\\\": \\\"true\\\",\\n    \\\"CustomRuleInTemplateMaxCount\\\": 100,\\n    \\\"VastIpBlacklistInOperationMaxCount\\\": 500,\\n    \\\"WhitelistRuleInTemplateMaxCount\\\": 100,\\n    \\\"AntiScan\\\": true,\\n    \\\"CustomResponseTemplateMaxCount\\\": 20,\\n    \\\"BaseWafGroupRuleInTemplateMaxCount\\\": 100,\\n    \\\"MajorProtectionTemplateMaxCount\\\": 20,\\n    \\\"BaseWafGroup\\\": true,\\n    \\\"Whitelist\\\": true,\\n    \\\"LogService\\\": true,\\n    \\\"VastIpBlacklistMaxCount\\\": 0\\n  },\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-3014697B11AE\\\",\\n  \\\"EndTime\\\": 4809859200000,\\n  \\\"InstanceId\\\": \\\"waf-cn-xxx\\\",\\n  \\\"InDebt\\\": \\\"1\\\",\\n  \\\"StartTime\\\": 1668496310000,\\n  \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n  \\\"PayType\\\": \\\"POSTPAY\\\",\\n  \\\"Edition\\\": \\\"default_version\\\"\\n}\",\"type\":\"json\"}]","title":"获取WAF实例详情"},"ReleaseInstance":{"summary":"释放WAF3.0的实例。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"115002","abilityTreeNodes":["FEATUREwafHU8RSD"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-***"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"65626467-8002-5022-9F5F-***"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"65626467-8002-5022-9F5F-***\\\"\\n}\",\"type\":\"json\"}]","title":"释放实例"},"DescribeAbnormalCloudResources":{"summary":"查询异常的云产品接入资源。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeCode":"265430","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4","FEATUREwafMF0FT6"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-***"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"66A98669-CC6E-4F3E-80A6-***"},"AbnormalCloudResources":{"description":"异常状态的云产品接入信息","type":"array","items":{"description":"异常状态的云产品接入信息","type":"object","properties":{"ResourceInstanceId":{"description":"已接入WAF的实例ID。","type":"string","example":"lb-***"},"ResourceInstancePort":{"description":"已接入WAF的实例端口。","type":"integer","format":"int32","example":"80"},"ResourceInstanceName":{"description":"已接入WAF的实例名称。","type":"string","example":"test-name"},"ResourceProduct":{"description":"资源所属云产品，默认返回ALB、MSE、FC和SAE产品的实例，取值：\n\n- **alb**：表示ALB产品。\n\n- **mse**：表示MSE产品。\n\n- **fc**：表示FC产品。\n\n- **sae**：表示SAE产品。\n\n- **ecs**：表示ECS产品。\n- **clb4**：表示CLB(TCP)产品。\n- **clb7**：表示CLB(HTTP/HTTPS)产品。\n- **nlb**：表示NLB产品。\n\n> 每个产品支持的地域不同，产品筛选字段有值时，需要参考地域支持的产品，否则可能导致筛选失败。","type":"string","example":"clb7"},"Reason":{"description":"异常原因，取值：\n\n- **InvalidCert**：表示无效证书。\n\n- **ClientCertOpend**：表示开启了双向认证。\n\n- **NetworkConfigLost**：表示网络异常。\n\n- **UserUploadCert**：表示存在用户上传的证书。\n\n- **CertNotExistInCertCenter**：表示证书ID在数字证书管理服务不存在。\n- **CertExpired**：表示证书过期。\n- **EmptyCertCN**：表示CommonName空。","type":"string","example":"CertExpired"},"Details":{"description":"异常的具体信息。","type":"array","items":{"description":"异常的具体信息。","type":"object","properties":{"Code":{"description":"异常原因，取值：\n\nInvalidCert：表示无效证书。\n\nClientCertOpend：表示开启了双向认证。\n\nNetworkConfigLost：表示网络异常。\n\nUserUploadCert：表示存在用户上传的证书。\n\nCertNotExistInCertCenter：表示证书ID在数字证书管理服务不存在。\n\nCertExpired：表示证书过期。\n\nEmptyCertCN：表示CommonName空。","type":"string","example":"CertExpired"},"CertName":{"description":"数字证书管理服务的证书名称。","type":"string","example":"test-name"},"ProductCertId":{"description":"在云产品控制台配置的证书ID。","type":"string","example":"123-cn-hangzhou"},"ProductCertName":{"description":"在云产品控制台配置证书的证书名称。","type":"string","example":"test-cert-name"},"ProductDomainExtension":{"description":"云产品控制台配置的扩展域名。","type":"string","example":"www.test.com"},"AppliedType":{"description":"HTTPS协议的证书类型。取值：\n\n- **default**：表示默认证书。\n\n- **extension**：表示拓展证书。","type":"string","example":"default"},"CommonName":{"description":"通用名称（CN）。","type":"string","example":"www.test.com\n"},"ExpireTime":{"description":"证书的到期时间。使用时间戳表示，单位：毫秒。","type":"integer","format":"int64","example":"1735009193"}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.CertNotExist","errorMessage":"Certificate does not exist in SSL Certificate Center, certificate type:%s, certificate ID:%s."},{"errorCode":"Waf.Pullin.ResourceNotExist","errorMessage":"The accessed resource already exists. Resource:%s."},{"errorCode":"Waf.Pullin.AlreadyAccessed","errorMessage":"The cloud product has been accessed. Instance ID:%s, Port:%s, Product Type:%s."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-***\\\",\\n  \\\"AbnormalCloudResources\\\": [\\n    {\\n      \\\"ResourceInstanceId\\\": \\\"lb-***\\\",\\n      \\\"ResourceInstancePort\\\": 80,\\n      \\\"ResourceInstanceName\\\": \\\"test-name\\\",\\n      \\\"ResourceProduct\\\": \\\"clb7\\\",\\n      \\\"Reason\\\": \\\"CertExpired\\\",\\n      \\\"Details\\\": [\\n        {\\n          \\\"Code\\\": \\\"CertExpired\\\",\\n          \\\"CertName\\\": \\\"test-name\\\",\\n          \\\"ProductCertId\\\": \\\"123-cn-hangzhou\\\",\\n          \\\"ProductCertName\\\": \\\"test-cert-name\\\",\\n          \\\"ProductDomainExtension\\\": \\\"www.test.com\\\",\\n          \\\"AppliedType\\\": \\\"default\\\",\\n          \\\"CommonName\\\": \\\"www.test.com\\\\n\\\",\\n          \\\"ExpireTime\\\": 1735009193\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护异常状态的云产品接入"},"ReCreateCloudResource":{"summary":"云产品重新接入WAF，仅在云产品接入的状态为防护异常时使用。","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free","abilityTreeCode":"264065","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4","FEATUREwafMF0FT6"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-***"}},{"name":"ResourceInstanceId","in":"query","schema":{"description":"云产品实例的ID。","type":"string","required":true,"example":"lb-bp*********k5uj2p"}},{"name":"Port","in":"query","schema":{"description":"接入WAF的云产品端口。","type":"integer","format":"int32","required":true,"example":"443"}},{"name":"ResourceProduct","in":"query","schema":{"description":"云产品类型。取值：\n\n- **clb4**：表示四层CLB产品。\n\n- **clb7**：表示七层CLB产品。\n\n- **ecs**：表示ECS产品。\n- **nlb**：表示NLB产品。","type":"string","required":true,"example":"clb7","enum":["clb7","clb4","ecs","nlb"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.CertNotExist","errorMessage":"Certificate does not exist in SSL Certificate Center, certificate type:%s, certificate ID:%s."},{"errorCode":"Waf.Pullin.ResourceNotExist","errorMessage":"The accessed resource already exists. Resource:%s."},{"errorCode":"Waf.Pullin.AlreadyAccessed","errorMessage":"The cloud product has been accessed. Instance ID:%s, Port:%s, Product Type:%s."},{"errorCode":"Waf.Pullin.CertExpired","errorMessage":"Certificate expired, certificate ID:%s ."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"云产品重新接入WAF"},"SyncProductInstance":{"summary":"同步用户的ECS、CLB和NLB资产。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"143827","abilityTreeNodes":["FEATUREwafHU8RSD"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-zsk****fb09"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm4co****f5qa"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"45BA2382-7C3F-5B29-9A83-C3BCE586****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"45BA2382-7C3F-5B29-9A83-C3BCE586****\\\"\\n}\",\"type\":\"json\"}]","title":"透明接入同步用户的ECS、CLB和NLB资产","description":"调用接口后系统会异步执行同步，请使用[DescribeProductInstances](~~2743168~~)接口查询同步结果。"},"DescribeCloudResources":{"summary":"查询接入到WAF的云产品列表情况。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"112176","abilityTreeNodes":["FEATUREwafJ7PT1V","FEATUREwafOV749M","FEATUREwafCMMRA4","FEATUREwafM61JTL","FEATUREwafFJZ9SV","FEATUREwafL6Q7OZ"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-lbj****cn0c","default":""}},{"name":"ResourceInstanceId","in":"query","schema":{"title":"资源的实例ID","description":"资源的实例ID。","type":"string","required":false,"example":"alb-43glijk0fr****gths"}},{"name":"ResourceName","in":"query","schema":{"title":"资源的实例名称","description":"资源的实例名称。","type":"string","deprecated":true,"required":false,"example":"alb-name"}},{"name":"ResourceRegionId","in":"query","schema":{"title":"资源归属RegionId","description":"资源归属地域ID，取值请查看返回参数补充说明。\n\n> 每个产品支持的地域不同，产品筛选字段有值时，需要参考地域支持的产品，否则可能导致筛选失败。","type":"string","required":false,"example":"cn-beijing"}},{"name":"ResourceProduct","in":"query","schema":{"title":"资源所属产品","description":"资源所属云产品，默认返回ALB、MSE、FC和SAE产品的实例，取值：\n\n- **alb**：表示ALB产品。\n\n- **mse**：表示MSE产品。\n\n- **fc**：表示FC产品。\n\n- **sae**：表示SAE产品。\n\n- **ecs**：表示ECS产品。\n- **clb4**：表示CLB(TCP)产品。\n- **clb7**：表示CLB(HTTP/HTTPS)产品。\n- **nlb**：表示NLB产品。\n\n> 每个产品支持的地域不同，产品筛选字段有值时，需要参考地域支持的产品，否则可能导致筛选失败。","type":"string","required":false,"example":"alb"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询请求时返回的页码。默认值为**1**。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时每页的行数。默认值为**10**。","type":"integer","format":"int64","required":false,"maximum":"100","minimum":"10","example":"10","default":"10"}},{"name":"ResourceRouteName","in":"query","schema":{"description":"资源的路由名称，当MSE接入可以使用该字段查询。","type":"string","required":false,"example":"mse-default-traffic"}},{"name":"ResourceDomain","in":"query","schema":{"description":"资源的域名名称，当FC，SAE接入可以使用该字段查询。","type":"string","required":false,"example":"fc-domain-test"}},{"name":"ResourceFunction","in":"query","schema":{"description":"资源的函数名称，当FC接入可以使用该字段查询。","type":"string","required":false,"example":"fc-test"}},{"name":"OwnerUserId","in":"query","schema":{"description":"资源归属用户UID。","type":"string","required":false,"example":"11769793******"}},{"name":"ResourceInstanceName","in":"query","schema":{"description":"已接入WAF的实例名称。","type":"string","required":false,"example":"test-name"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm4gh****wela"}}],"responses":{"200":{"schema":{"description":"云产品接入列表。","type":"object","properties":{"TotalCount":{"description":"查询到的云产品接入总数量。","type":"integer","format":"int64","example":"121"},"RequestId":{"description":"请求ID。","type":"string","example":"C327F81A-CCE2-5B21-817C-F93E29C5****"},"CloudResources":{"description":"云产品接入列表。","type":"array","items":{"description":"云产品接入信息。","type":"object","properties":{"ResourceRouteName":{"description":"资源的路由名称，当mse接入时，该字段有值。","type":"string","example":"test-route-name"},"ResourceRegionId":{"title":"RegionId","description":"资源归属地。","type":"string","example":"cn-hangzhou"},"ResourceFunction":{"description":"资源的函数名称，当FC接入时，该字段有值。","type":"string","example":"test-resource-function"},"ResourceName":{"title":"实例名称","description":"实例名称","type":"string","deprecated":true,"example":"test-resource-name"},"ResourceInstance":{"description":"资源实例ID。","type":"string","deprecated":true,"example":"alb-ffff****"},"ResourceProduct":{"description":"资源所属云产品。取值：\n\n- **alb**：表示ALB产品。\n\n- **mse**：表示MSE产品。\n\n- **fc**：表示FC产品。\n\n- **sae**：表示SAE产品。\n- **ecs**：表示ECS产品。\n- **clb4**：表示CLB(TCP)产品。\n- **clb7**：表示CLB(HTTP/HTTPS)产品。\n- **nlb**：表示NLB产品。","type":"string","example":"alb"},"ResourceService":{"description":"资源的服务名称，当FC接入时，该字段有值。","type":"string","example":"test-resource-service"},"ResourceDomain":{"description":"资源的域名名称，当FC，SAE接入时，该字段有值。","type":"string","example":"test-resource-domain"},"OwnerUserId":{"description":"资源归属用户UID。","type":"string","example":"11769793******"},"HttpPortCount":{"description":"已接入WAF的HTTP协议端口数。\n> 只有ECS和CLB实例才返回。","type":"integer","format":"int32","example":"1"},"HttpsPortCount":{"description":"已接入WAF的HTTPS协议端口数。\n> 只有ECS和CLB实例才返回。","type":"integer","format":"int32","example":"1"},"ResourceInstanceIp":{"description":"已接入WAF的实例IP。","type":"string","example":"1.1.1.1"},"ResourceInstanceId":{"description":"已接入WAF的实例ID。","type":"string","example":"lb-uf60ub45fr9b***"},"ResourceInstanceName":{"description":"已接入WAF的实例名称。","type":"string","example":"test-name"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 121,\\n  \\\"RequestId\\\": \\\"C327F81A-CCE2-5B21-817C-F93E29C5****\\\",\\n  \\\"CloudResources\\\": [\\n    {\\n      \\\"ResourceRouteName\\\": \\\"test-route-name\\\",\\n      \\\"ResourceRegionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"ResourceFunction\\\": \\\"test-resource-function\\\",\\n      \\\"ResourceName\\\": \\\"test-resource-name\\\",\\n      \\\"ResourceInstance\\\": \\\"alb-ffff****\\\",\\n      \\\"ResourceProduct\\\": \\\"alb\\\",\\n      \\\"ResourceService\\\": \\\"test-resource-service\\\",\\n      \\\"ResourceDomain\\\": \\\"test-resource-domain\\\",\\n      \\\"OwnerUserId\\\": \\\"11769793******\\\",\\n      \\\"HttpPortCount\\\": 1,\\n      \\\"HttpsPortCount\\\": 1,\\n      \\\"ResourceInstanceIp\\\": \\\"1.1.1.1\\\",\\n      \\\"ResourceInstanceId\\\": \\\"lb-uf60ub45fr9b***\\\",\\n      \\\"ResourceInstanceName\\\": \\\"test-name\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询云产品接入WAF的实例列表","requestParamsDescription":"| 地域ID         | 地域名称       | 支持的产品      |\n| ------------- | ------------- | ------------- |\n|cn-hangzhou| 华东1（杭州）| SAE,ALB,FC,MSE,ECS,CLB,NLB|\n|cn-shanghai| 华东2（上海）| SAE,ALB,FC,MSE,ECS,CLB,NLB|\n|cn-shenzhen| 华南1（深圳）| SAE,ALB,FC,MSE,ECS,CLB,NLB|\n|cn-beijing| 华北2（北京）| SAE,ALB,FC,MSE,ECS,CLB,NLB|\n|cn-zhangjiakou| 华北3（张家口）| SAE,ALB,FC,MSE,ECS,CLB,NLB|\n|cn-chengdu| 西南1（成都）| ALB,ECS,CLB,NLB|\n|cn-qingdao| 华北1（青岛）| ALB,ECS,CLB,NLB|\n|cn-guangzhou| 华南3（广州）| ALB|\n|cn-wulanchabu| 华北6（乌兰察布）| ALB|\n|cn-hongkong| 中国香港| ALB,MSE,ECS,CLB,NLB|\n|cn-fuzhou| 华东6（福州-本地地域-关停中）| ALB|\n|ap-southeast-6| 菲律宾（马尼拉）| ALB|\n|ap-southeast-5| 印度尼西亚（雅加达）| ALB,ECS,CLB,NLB|\n|ap-northeast-1| 日本（东京）| ALB|\n|ap-southeast-3| 马来西亚（吉隆坡）| ALB,MSE,ECS,CLB,NLB|\n|ap-southeast-1| 新加坡| ALB,MSE|\n|eu-central-1| 德国（法兰克福）| ALB|\n|us-west-1| 美国（硅谷）| ALB|\n|us-east-1| 美国（弗吉尼亚）| ALB|"},"DescribeProductInstances":{"summary":"查询已同步的云产品资产列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"144614","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-zxu****9d02"}},{"name":"ResourceInstanceId","in":"query","schema":{"title":"资源的实例ID","description":"云产品的实例ID。","type":"string","required":false,"example":"lb-2zeugkfj81jvo****4tqm"}},{"name":"ResourceName","in":"query","schema":{"title":"资源的实例名称","description":"云产品的实例名称。","type":"string","deprecated":true,"required":false,"example":"exampleResourceName"}},{"name":"ResourceRegionId","in":"query","schema":{"title":"资源归属RegionId","description":"云产品归属地域ID。取值：\n- **cn-chengdu**：表示西南1（成都）。\n\n- **cn-beijing**：表示华北2（北京）。\n\n- **cn-zhangjiakou**：表示华北3（张家口）。\n\n- **cn-hangzhou**：表示华东1（杭州）。\n\n- **cn-shanghai**：表示华东2（上海）。\n\n- **cn-shenzhen**：表示华南1（深圳）。\n\n- **cn-qingdao**：表示华北1（青岛）。\n\n- **cn-hongkong**：表示中国（香港）。\n\n- **ap-southeast-3**：表示马来西亚（吉隆坡）。\n\n- **ap-southeast-5**：表示印度尼西亚（雅加达）。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"ResourceProduct","in":"query","schema":{"title":"资源所属产品","description":"云产品类型。取值：\n\n- **clb4**：表示四层CLB产品。\n\n- **clb7**：表示七层CLB产品。\n\n- **ecs**：表示ECS产品。\n- **nlb**：表示NLB产品。","type":"string","required":false,"example":"clb7"}},{"name":"PageNumber","in":"query","schema":{"description":"当前页码。默认值：**1**。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页的行数。默认值为**10**。","type":"integer","format":"int64","required":false,"maximum":"100","minimum":"10","example":"10"}},{"name":"ResourceIp","in":"query","schema":{"description":"云产品的公网IP。","type":"string","deprecated":true,"required":false,"example":"1.X.X.1"}},{"name":"OwnerUserId","in":"query","schema":{"description":"资源归属用户UID。","type":"string","required":false,"example":"1704********9107"}},{"name":"ResourceInstanceIp","in":"query","schema":{"description":"已接入WAF的实例IP。","type":"string","required":false,"example":"1.X.X.1"}},{"name":"ResourceInstanceName","in":"query","schema":{"description":"已接入WAF的实例名称。","type":"string","required":false,"example":"demoInstanceName"}},{"name":"ResourceInstanceAccessStatus","in":"query","schema":{"description":"WAF防护状态。取值：\n\n- **all**：表示全部防护。\n- **any**：表示已防护。\n- **part**：表示部分防护。\n\n- **non**：表示未防护。","type":"string","required":false,"example":"all","enum":["all","part","non","any"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekz6ql****5uzi"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"FDCBAE1E-2B3F-5C13-AD20-844B9473****"},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"100"},"ProductInstances":{"description":"云产品信息列表。","type":"array","items":{"description":"云产品信息。","type":"object","properties":{"ResourceInstanceId":{"title":"实例ID","description":"云产品实例ID。","type":"string","example":"i-2ze1tm4pvghp****cluv"},"ResourceName":{"title":"实例名称","description":"云产品实例名称。","type":"string","deprecated":true,"example":"ecs-test"},"ResourceRegionId":{"title":"RegionId","description":"云产品归属地域ID，取值：\n- **cn-chengdu**：表示西南1（成都）。\n\n- **cn-beijing**：表示华北2（北京）。\n\n- **cn-zhangjiakou**：表示华北3（张家口）。\n\n- **cn-hangzhou**：表示华东1（杭州）。\n\n- **cn-shanghai**：表示华东2（上海）。\n\n- **cn-shenzhen**：表示华南1（深圳）。\n\n- **cn-qingdao**：表示华北1（青岛）。\n\n- **cn-hongkong**：表示中国（香港）。\n\n- **ap-southeast-3**：表示马来西亚（吉隆坡）。\n\n- **ap-southeast-5**：表示印度尼西亚（雅加达）。","type":"string","example":"cn-beijing"},"ResourceProduct":{"description":"云产品类型。取值：\n\n- **clb4**：表示四层CLB产品。\n\n- **clb7**：表示七层CLB产品。\n\n- **ecs**：表示ECS产品。\n- **nlb**：表示NLB产品。","type":"string","example":"clb4"},"ResourcePorts":{"description":"端口信息列表。","type":"array","items":{"description":"端口信息。","type":"object","properties":{"Port":{"description":"端口。","type":"integer","format":"int32","example":"443"},"Protocol":{"description":"网络协议类型。取值：\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。","type":"string","example":"https"},"Certificates":{"description":"证书信息列表。","type":"array","items":{"description":"证书信息。","type":"object","properties":{"CertificateName":{"description":"SSL证书名称。","type":"string","example":"demoCertName"},"CertificateId":{"description":"证书ID。","type":"string","example":"1234567"},"Domain":{"description":"证书绑定的域名","type":"string","example":"www.test.com"},"AppliedType":{"description":"HTTPS协议的证书类型。取值：\n\n- **default**：表示默认证书。\n\n- **extension**：表示拓展证书。","type":"string","example":"default"}}}}}}},"ResourceIp":{"description":"云产品的公网IP。","type":"string","deprecated":true,"example":"1.X.X.1"},"OwnerUserId":{"description":"资源归属用户UID。","type":"string","example":"1704********9107"},"ResourceInstanceIp":{"description":"云产品实例IP。","type":"string","example":"1.X.X.1"},"ResourceInstanceName":{"description":"云产品实例名称。","type":"string","example":"demoInstanceName"},"AccessPorts":{"description":"已接入WAF的端口列表。","type":"array","items":{"description":"已接入WAF的端口。","type":"integer","format":"int32","example":"80"}},"ResourceInstanceAccessStatus":{"description":"WAF防护状态。取值：\n\n- **all**：表示全部防护。\n- **any**：表示已防护。\n- **part**：表示部分防护。\n\n- **non**：表示未防护。","type":"string","example":"all"},"AccessPortAndProtocols":{"description":"已接入WAF云产品的端口和协议信息。","type":"array","items":{"description":"已接入WAF云产品的端口和协议信息。","type":"object","properties":{"Port":{"description":"接入WAF的云产品端口。","type":"integer","format":"int32","example":"443"},"Protocol":{"description":"协议类型。取值：\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。","type":"string","example":"http"},"CertificateIds":{"description":"证书ID列表","type":"array","items":{"description":"证书ID","type":"string","example":"5379758"}}}}},"AccessInstanceId":{"description":"已接入WAF的实例ID","type":"string","example":"i-2ze1tm4pvghp****cluv\n"},"ResourceInstanceEdition":{"description":"云产品实例的版本。","type":"string","example":"ecs.e-c1m1.large"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"FDCBAE1E-2B3F-5C13-AD20-844B9473****\\\",\\n  \\\"TotalCount\\\": 100,\\n  \\\"ProductInstances\\\": [\\n    {\\n      \\\"ResourceInstanceId\\\": \\\"i-2ze1tm4pvghp****cluv\\\",\\n      \\\"ResourceName\\\": \\\"ecs-test\\\",\\n      \\\"ResourceRegionId\\\": \\\"cn-beijing\\\",\\n      \\\"ResourceProduct\\\": \\\"clb4\\\",\\n      \\\"ResourcePorts\\\": [\\n        {\\n          \\\"Port\\\": 443,\\n          \\\"Protocol\\\": \\\"https\\\",\\n          \\\"Certificates\\\": [\\n            {\\n              \\\"CertificateName\\\": \\\"demoCertName\\\",\\n              \\\"CertificateId\\\": \\\"1234567\\\",\\n              \\\"Domain\\\": \\\"www.test.com\\\",\\n              \\\"AppliedType\\\": \\\"default\\\"\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"ResourceIp\\\": \\\"1.X.X.1\\\",\\n      \\\"OwnerUserId\\\": \\\"1704********9107\\\",\\n      \\\"ResourceInstanceIp\\\": \\\"1.X.X.1\\\",\\n      \\\"ResourceInstanceName\\\": \\\"demoInstanceName\\\",\\n      \\\"AccessPorts\\\": [\\n        80\\n      ],\\n      \\\"ResourceInstanceAccessStatus\\\": \\\"all\\\",\\n      \\\"AccessPortAndProtocols\\\": [\\n        {\\n          \\\"Port\\\": 443,\\n          \\\"Protocol\\\": \\\"http\\\",\\n          \\\"CertificateIds\\\": [\\n            \\\"5379758\\\"\\n          ]\\n        }\\n      ],\\n      \\\"AccessInstanceId\\\": \\\"i-2ze1tm4pvghp****cluv\\\\n\\\",\\n      \\\"ResourceInstanceEdition\\\": \\\"ecs.e-c1m1.large\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询已同步的云产品资产列表"},"DescribeResourceSupportRegions":{"summary":"查询云产品接入的支持区域列表，主要指CLB，ECS产品。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"144618","abilityTreeNodes":["FEATUREwafHU8RSD"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"ResourceProduct","in":"query","schema":{"description":"资源所属云产品，默认返回ALB、MSE、FC和SAE产品的实例，取值：\n\n- **alb**：表示ALB产品。\n\n- **mse**：表示MSE产品。\n\n- **fc**：表示FC产品。\n\n- **sae**：表示SAE产品。\n\n- **ecs**：表示ECS产品。\n- **clb4**：表示CLB(TCP)产品。\n- **clb7**：表示CLB(HTTP/HTTPS)产品。\n- **apig**：表示APIG产品。\n- **nlb**：表示NLB产品。\n\n> 每个产品支持的地域不同，产品筛选字段有值时，需要参考地域支持的产品，否则可能导致筛选失败。","type":"string","required":false,"example":"clb7"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzpks****kdjq"}}],"responses":{"200":{"schema":{"description":"查询结果。","type":"object","properties":{"SupportRegions":{"description":"透明接入支持的地域ID列表。","type":"array","items":{"description":"地域ID。取值：\n- **cn-chengdu**：表示西南1（成都）。\n\n- **cn-beijing**：表示华北2（北京）。\n\n- **cn-zhangjiakou**：表示华北3（张家口）。\n\n- **cn-hangzhou**：表示华东1（杭州）。\n\n- **cn-shanghai**：表示华东2（上海）。\n\n- **cn-shenzhen**：表示华南1（深圳）。\n\n- **cn-qingdao**：表示华北1（青岛）。\n\n- **cn-hongkong**：表示中国（香港）。\n\n- **ap-southeast-3**：表示马来西亚（吉隆坡）。\n\n- **ap-southeast-5**：表示印度尼西亚（雅加达）。","type":"string","example":"cn-hangzhou"}},"RequestId":{"description":"请求ID。","type":"string","example":"58FDF266-3D56-5DE8-91E0-96A26BAB****"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"SupportRegions\\\": [\\n    \\\"cn-hangzhou\\\"\\n  ],\\n  \\\"RequestId\\\": \\\"58FDF266-3D56-5DE8-91E0-96A26BAB****\\\"\\n}\",\"type\":\"json\"}]","title":"查询云产品接入的支持区域列表"},"DescribeResourceRegionId":{"summary":"查询SDK集成的资源的地域ID，主要指ALB和MSE产品。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"112185","abilityTreeNodes":["FEATUREwafHU8RSD"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"要操作的WAF实例ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek2lrm****6pnq"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F5905D3F-F674-5177-9E48-466DD3B8****"},"ResourceRegionIds":{"description":"SDK集成的资源的地域ID列表。","type":"array","items":{"description":"地域ID。地域ID的中文名称请查看：<props=\"china\">[阿里云地域详情](https://help.aliyun.com/document_detail/40654.html?spm=5176.28426678.J_HeJR_wZokYt378dwP-lLl.1.4cf85181JIAGSR&scm=20140722.S_help@@%E6%96%87%E6%A1%A3@@40654.S_RQW@ag0+BB2@ag0+BB1@ag0+hot+os0.ID_40654-RL_%E5%9C%B0%E5%9F%9F-LOC_search~UND~helpdoc~UND~item-OR_ser-V_3-P0_0)。</props>\n\n<props=\"intl\">[阿里云地域详情](https://www.alibabacloud.com/help/zh/egs/regions-and-zones?spm=a3c0i.23458820.2359477120.9.6f4f6e9b9NShFZ)。</props>","type":"string","example":"cn-hangzhou"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F5905D3F-F674-5177-9E48-466DD3B8****\\\",\\n  \\\"ResourceRegionIds\\\": [\\n    \\\"cn-hangzhou\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询SDK集成的资源的地域ID"},"DescribeResourceInstanceCerts":{"summary":"查询云产品实例的证书列表。该接口返回当前委派管理员和实例所属用户的证书列表，该接口仅在多账号场景下使用。如：用户A是委派管控员，有证书cert1，云产品实例lb-xx-1是成员用户B，有证书cert2，查询实例lb-xx-1时，接口返回cert1和cert2。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"212899","abilityTreeNodes":["FEATUREwafOV749M"]},"parameters":[{"name":"ResourceInstanceId","in":"query","schema":{"title":"域名","description":"云产品实例ID","type":"string","required":false,"example":"lb-bp1*****jqnnqk5uj2p"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"1000","example":"10","default":"10"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-*"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"D7861F61-***-6B19160D5EB0"},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"1"},"Certs":{"description":"证书结果","type":"array","items":{"description":"证书结果","type":"object","properties":{"Domain":{"description":"证书支持的域名","type":"string","example":"waf.aliyundemo.com"},"CertName":{"description":"证书名称","type":"string","example":"测试用证书名"},"CertIdentifier":{"description":"全局证书ID，证书ID+\"-cn-hangzhou\"。如果证书ID=123，则CertIdentifier=“123-cn-hangzhou”。","type":"string","example":"123-cn-hangzhou"},"CommonName":{"description":"通用名称（CN）","type":"string","example":"www.aliyundemo.com"},"IsChainCompleted":{"description":"证书链是否完整","type":"boolean","example":"true"},"AfterDate":{"description":"证书到期时间。","type":"integer","format":"int64","example":"1708415521211"},"BeforeDate":{"description":"证书的签发时间。","type":"integer","format":"int64","example":"1708415521211"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-***-6B19160D5EB0\\\",\\n  \\\"TotalCount\\\": 1,\\n  \\\"Certs\\\": [\\n    {\\n      \\\"Domain\\\": \\\"waf.aliyundemo.com\\\",\\n      \\\"CertName\\\": \\\"测试用证书名\\\",\\n      \\\"CertIdentifier\\\": \\\"123-cn-hangzhou\\\",\\n      \\\"CommonName\\\": \\\"www.aliyundemo.com\\\",\\n      \\\"IsChainCompleted\\\": true,\\n      \\\"AfterDate\\\": 1708415521211,\\n      \\\"BeforeDate\\\": 1708415521211\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询云产品实例的证书列表"},"CreateCloudResource":{"summary":"云产品接入WAF，当前只支持ECS和CLB。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","abilityTreeCode":"226535","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-***"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Listen","in":"query","style":"json","schema":{"description":"配置监听信息。","type":"object","properties":{"TLSVersion":{"description":"要添加的TLS版本。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n- **tlsv1**\n- **tlsv1.1**\n- **tlsv1.2**","type":"string","required":false,"example":"tlsv1"},"EnableTLSv3":{"description":"是否支持TLS1.3版本。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","required":false,"example":"true"},"CipherSuite":{"description":"要添加的加密套件类型。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。仅**TLSVersion**取值为**tlsv1.2**时，可选择该取值。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int32","required":false,"example":"1"},"CustomCiphers":{"description":"要添加的具体自定义加密套件。仅**CipherSuite**配置为**99**时，使用该参数。","type":"array","items":{"description":"要添加的具体自定义加密套件。仅**CipherSuite**配置为**99**时，使用该参数。","type":"string","required":false,"example":"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-ECDSA-AES256-SHA384"},"required":false},"ResourceProduct":{"description":"云产品类型。取值：\n\n- **clb4**：表示四层CLB产品。\n\n- **clb7**：表示七层CLB产品。\n\n- **ecs**：表示ECS产品。\n- **nlb**：表示NLB产品。","type":"string","required":true,"example":"clb4","enum":["ecs","clb4","clb7","nlb"]},"ResourceInstanceId":{"description":"云产品实例的ID。","type":"string","required":true,"example":"lb-bp1*****"},"Port":{"description":"接入WAF的云产品端口。","type":"integer","format":"int32","required":true,"example":"80"},"Protocol":{"description":"协议类型。取值：\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。","type":"string","required":true,"example":"http","enum":["http","https"]},"Certificates":{"description":"证书ID列表。","type":"array","items":{"description":"证书信息。","type":"object","properties":{"CertificateId":{"description":"要添加的证书的ID。\n\n> 您可以调用[DescribeResourceInstanceCerts](~~2718120~~)查询云产品实例关联的所有SSL证书的ID。","type":"string","required":false,"example":"123-cn-hangzhou"},"AppliedType":{"description":"HTTPS协议的证书类型。取值：\n\n- **default**：表示默认证书。\n\n- **extension**：表示拓展证书。","type":"string","required":false,"example":"default"}},"required":false},"required":false},"Http2Enabled":{"description":"是否开启HTTP2。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示开启HTTP2。\n\n- **false**（默认）：表示不开启HTTP2。","type":"boolean","required":false,"example":"true"}},"required":true}},{"name":"Redirect","in":"query","style":"json","schema":{"description":"配置转发信息。","type":"object","properties":{"RequestHeaders":{"description":"该参数值的格式为[**{\"k\":\"_key_\",\"v\":\"_value_\"}**]。其中，**_key_**表示所指定的自定义请求头部字段，**_value_**表示为该字段设定的值。\n\n> 如果请求中已存在该自定义头部字段，系统将用所设定的流量标记值覆盖请求中该自定义字段的值。","type":"array","items":{"description":"该参数值的格式为[**{\"k\":\"_key_\",\"v\":\"_value_\"}**]。其中，**_key_**表示所指定的自定义请求头部字段，**_value_**表示为该字段设定的值。","type":"object","properties":{"Key":{"description":"指定的自定义请求头部字段。","type":"string","required":false,"example":"key1"},"Value":{"description":"自定义请求头部字段设定的值。","type":"string","required":false,"example":"value1"}},"required":false},"required":false,"maxItems":5},"XffHeaderMode":{"description":"WAF获取客户端真实IP的方式。取值：\n\n- **0**：表示客户端访问流量到WAF前没有经过其他七层代理转发。\n\n- **1**：表示WAF读取请求头中X-Forwarded-For（XFF）字段的第一个值作为客户端IP。\n\n- **2**：表示WAF读取请求头中由您设置的自定义字段值作为客户端IP。","type":"integer","format":"int32","required":false,"example":"1"},"XffHeaders":{"description":"设置用于获取客户端IP的自定义字段列表，使用[**\"header1\",\"header2\",……**]格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"array","items":{"description":"设置用于获取客户端IP的自定义字段列表，使用[**\"header1\",\"header2\",……**]格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"string","required":false,"example":"header1"},"required":false},"ReadTimeout":{"description":"读超时时长，单位：秒。\n取值范围：1~3600。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"1","default":"120"},"WriteTimeout":{"description":"写超时时长，单位：秒。\n取值范围：1~3600。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"1","default":"120"},"Keepalive":{"description":"是否保持长连接。取值：\n\n- **true**（默认）：表示保持长连接。\n\n- **false**：表示不保持长连接。","type":"boolean","required":false,"example":"true","default":"true"},"KeepaliveRequests":{"description":"复用长连接的请求个数。取值范围：60~1000，单位：个。\n\n> 开启长连接后，复用多少个长连接。","type":"integer","format":"int32","required":false,"maximum":"1000","minimum":"60","example":"1000","default":"1000"},"KeepaliveTimeout":{"description":"空闲长连接超时时间，取值范围：10~3600，默认3600，单位：秒。\n\n> 复用的长连接空闲多久后释放。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"10","example":"3600","default":"3600"},"XffProto":{"description":"X-Forward-For-Proto 传递WAF的协议。取值：\n\n- **true**（默认）：表示传递WAF的协议。\n\n- **false**：表示不传递WAF的协议。","type":"boolean","required":false,"example":"true"}},"required":false}},{"name":"Tag","in":"query","style":"repeatList","schema":{"title":"标签列表，最多包含20个子项","description":"标签列表，最多包含20个子项","type":"array","items":{"type":"object","properties":{"Key":{"title":"标签键","description":"标签键","type":"string","required":false,"example":"TagKey1"},"Value":{"title":"标签值","description":"标签值","type":"string","required":false,"example":"TagValue1"}},"required":false},"required":false,"maxItems":21}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"OwnerUserId","in":"query","schema":{"description":"当前资源归属UID","type":"string","required":false,"example":"123"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"66A98669-ER12-WE34-23PO-301469*****E"},"CloudResourceId":{"description":"接入的资源ID，由WAF自动生成。","type":"string","example":"lb-***"}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.CertNotExist","errorMessage":"Certificate does not exist in SSL Certificate Center, certificate type:%s, certificate ID:%s."},{"errorCode":"Waf.Pullin.CertExpired","errorMessage":"Certificate expired, certificate ID:%s ."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-ER12-WE34-23PO-301469*****E\\\",\\n  \\\"CloudResourceId\\\": \\\"lb-***\\\"\\n}\",\"type\":\"json\"}]","title":"云产品接入WAF"},"ModifyCloudResource":{"summary":"修改已接入WAF的产品配置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"226537","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-***"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Listen","in":"query","style":"json","schema":{"description":"配置监听信息。","type":"object","properties":{"TLSVersion":{"description":"要添加的TLS版本。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **tlsv1**\n\n- **tlsv1.1**\n\n- **tlsv1.2**","type":"string","required":false,"example":"tlsv1.2"},"EnableTLSv3":{"description":"是否支持TLS1.3版本。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","required":false,"example":"true"},"CipherSuite":{"description":"要添加的加密套件类型。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。仅**TLSVersion**取值为**tlsv1.2**时，可选择该取值。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int32","required":false,"example":"1"},"CustomCiphers":{"description":"自定义加密套件。","type":"array","items":{"description":"要添加的具体自定义加密套件。仅**CipherSuite**配置为**99**时，使用该参数。","type":"string","required":false,"example":"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:AES128-GCM-SHA256:AES256-GCM-SHA384"},"required":false},"ResourceProduct":{"description":"云产品类型。取值：\n\n- **clb4**：表示四层CLB产品。\n\n- **clb7**：表示七层CLB产品。\n\n- **ecs**：表示ECS产品。\n- **nlb**：表示NLB产品。","type":"string","required":true,"example":"clb7","enum":["ecs","clb4","clb7","nlb"]},"ResourceInstanceId":{"description":"资源的实例ID。","type":"string","required":true,"example":"lb-***"},"Port":{"description":"接入WAF的云产品端口。","type":"integer","format":"int32","required":true,"example":"80"},"Protocol":{"description":"协议类型。取值：\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。","type":"string","required":true,"example":"http","enum":["http","https"]},"Certificates":{"description":"证书信息。","type":"array","items":{"description":"证书信息。","type":"object","properties":{"CertificateId":{"description":"证书ID。","type":"string","required":false,"example":"123-cn-hangzhou"},"AppliedType":{"description":"HTTPS协议的证书类型。取值：\n\n- **default**：表示默认证书。\n\n- **extension**：表示拓展证书。","type":"string","required":false,"example":"default"}},"required":false},"required":false},"Http2Enabled":{"description":"是否开启HTTP2。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示开启HTTP2。\n\n- **false**（默认）：表示不开启HTTP2。","type":"boolean","required":false,"example":"true"}},"required":true}},{"name":"Redirect","in":"query","style":"json","schema":{"description":"配置转发信息。","type":"object","properties":{"RequestHeaders":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。","type":"array","items":{"description":"该参数值的格式为[**{\"k\":\"_key_\",\"v\":\"_value_\"}**]。其中，**_key_**表示所指定的自定义请求头部字段，**_value_**表示为该字段设定的值。\n\n> 如果请求中已存在该自定义头部字段，系统将用所设定的流量标记值覆盖请求中该自定义字段的值。","type":"object","properties":{"Key":{"description":"指定的自定义请求头部字段。","type":"string","required":false,"example":"key1"},"Value":{"description":"自定义请求头部字段设定的值。","type":"string","required":false,"example":"value1"}},"required":false},"required":false,"maxItems":5},"XffHeaderMode":{"description":"WAF获取客户端真实IP的方式。取值：\n\n- **0**：表示客户端访问流量到WAF前没有经过其他七层代理转发。\n\n- **1**：表示WAF读取请求头中X-Forwarded-For（XFF）字段的第一个值作为客户端IP。\n\n- **2**：表示WAF读取请求头中由您设置的自定义字段值作为客户端IP。","type":"integer","format":"int32","required":false,"example":"0"},"XffHeaders":{"description":"设置用于获取客户端IP的自定义字段列表，使用**[\"header1\",\"header2\",……]**格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"array","items":{"description":"设置用于获取客户端IP的自定义字段列表，使用**[\"header1\",\"header2\",……]**格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"string","required":false,"example":"header1","pattern":"^[^';<>=|\\(\\)]+$"},"required":false},"ReadTimeout":{"description":"读超时时长，单位：秒。\n取值范围：1~3600。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"1","default":"120"},"WriteTimeout":{"description":"写超时时长，单位：秒。\n取值范围：1~3600。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"1","default":"120"},"Keepalive":{"description":"是否保持长连接。取值：\n\n- **true**（默认）：表示保持长连接。\n\n- **false**：表示不保持长连接。","type":"boolean","required":false,"example":"true","default":"true"},"KeepaliveRequests":{"description":"复用长连接的请求个数。取值范围：60~1000，单位：个。\n\n> 开启长连接后，复用多少个长连接。","type":"integer","format":"int32","required":false,"maximum":"1000","minimum":"60","example":"1000","default":"1000"},"KeepaliveTimeout":{"description":"空闲长连接超时时间，取值范围：10~3600，默认3600，单位：秒。\n\n> 复用的长连接空闲多少长后释放。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"10","example":"15","default":"3600"},"XffProto":{"description":"X-Forward-For-Proto传递WAF的协议。取值：\n\n- **true**（默认）：表示传递WAF的协议。\n\n- **false**：表示不传递WAF的协议。","type":"boolean","required":false,"example":"true"}},"required":false}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-***"},"CloudResource":{"description":"接入资源ID","type":"string","example":"lb-xxx-80-clb7"}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.CertExpired","errorMessage":"Certificate expired, certificate ID:%s ."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-***\\\",\\n  \\\"CloudResource\\\": \\\"lb-xxx-80-clb7\\\"\\n}\",\"type\":\"json\"}]","title":"修改云产品接入的配置"},"DeleteCloudResource":{"summary":"取消云产品接入，当前仅支持ECS和CLB。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","abilityTreeCode":"226538","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-***"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"ResourceProduct","in":"query","schema":{"description":"云产品类型。取值：\n\n- **clb4**：表示四层CLB产品。\n\n- **clb7**：表示七层CLB产品。\n\n- **ecs**：表示ECS产品。\n- **nlb**：表示NLB产品。","type":"string","required":true,"example":"clb7"}},{"name":"ResourceInstanceId","in":"query","schema":{"description":"云产品实例的ID。","type":"string","required":true,"example":"lb-bp1*****jqnnqk5uj2p"}},{"name":"Port","in":"query","schema":{"description":"接入WAF的云产品端口。","type":"integer","format":"int32","required":true,"example":"443"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"D7861F61-5B61-46CE-A47C-***"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-***\\\"\\n}\",\"type\":\"json\"}]","title":"取消云产品接入"},"DescribeCloudResourceAccessedPorts":{"summary":"查询已接入WAF的云产品实例的端口列表，只支持ECS和CLB。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"226564","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-tl32ast****","default":""}},{"name":"ResourceInstanceId","in":"query","schema":{"title":"资源的实例ID","description":"资源的实例ID","type":"string","required":true,"example":"lb-bp1*****jqnnqk5uj2p"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzwwkpn****5i"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"C1823E96-EF4B-5BD2-9E02-1D18****3ED8"},"Http":{"description":"HTTP协议的端口。","type":"array","items":{"description":"HTTP协议的端口。","type":"integer","format":"int32","example":"[80]"}},"Https":{"description":"HTTPS协议端口。","type":"array","items":{"description":"HTTPS协议端口。","type":"integer","format":"int32","example":"[443]"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C1823E96-EF4B-5BD2-9E02-1D18****3ED8\\\",\\n  \\\"Http\\\": [\\n    0\\n  ],\\n  \\\"Https\\\": [\\n    0\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询已接入WAF的云产品实例端口列表"},"DescribeCloudResourceAccessPortDetails":{"summary":"查询已接入WAF的云产品实例端口详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"226583","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"ResourceInstanceId","in":"query","schema":{"title":"资源的实例ID","description":"资源的实例ID","type":"string","required":true,"example":"lb-2zeugkfj81jvo****4tqm"}},{"name":"Port","in":"query","schema":{"description":"接入WAF的云产品端口。","type":"string","required":false,"example":"443"}},{"name":"Protocol","in":"query","schema":{"description":"协议类型。取值：\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。","type":"string","required":false,"example":"https","enum":["http","https"]}},{"name":"PageNumber","in":"query","schema":{"description":"列表的页码。默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页的行数。默认值为**10**。","type":"integer","format":"int32","required":false,"example":"10","default":"10"}},{"name":"ResourceProduct","in":"query","schema":{"description":"云产品类型。取值：\n\n- **clb4**：表示四层CLB产品。\n\n- **clb7**：表示七层CLB产品。\n\n- **ecs**：表示ECS产品。\n- **nlb**：表示NLB产品。","type":"string","required":false,"example":"clb7"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2EFCFE18-78F8-5079-B312-07***48B"},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int32","example":"10"},"AccessPortDetails":{"description":"已接入WAF的云产品端口详情","type":"array","items":{"description":"已接入WAF的云产品端口详情","type":"object","properties":{"Protocol":{"description":"协议类型。取值：\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。","type":"string","example":"https"},"Port":{"description":"接入WAF的云产品端口。","type":"integer","format":"int32","example":"443"},"Certificates":{"description":"已接入云产品端口的证书列表。","type":"array","items":{"description":"已接入云产品端口的证书信息。","type":"object","properties":{"CertificateName":{"description":"证书名称。","type":"string","example":"cert-name1"},"CertificateId":{"description":"已添加的证书的ID。","type":"string","example":"123-cn-hangzhou"},"AppliedType":{"description":"HTTPS协议的证书类型。取值：\n\n- **default**：表示默认证书。\n\n- **extension**：表示拓展证书。","type":"string","example":"default"}}}},"XffHeaderMode":{"description":"WAF获取客户端真实IP的方式。取值：\n\n- **0**：表示客户端访问流量到WAF前没有经过其他七层代理转发。\n\n- **1**：表示WAF读取请求头中X-Forwarded-For（XFF）字段的第一个值作为客户端IP。\n\n- **2**：表示WAF读取请求头中由您设置的自定义字段值作为客户端IP。","type":"integer","format":"int32","example":"0"},"XffHeaders":{"description":"设置用于获取客户端IP的自定义字段列表，使用**[\"header1\",\"header2\",……]**格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"array","items":{"description":"设置用于获取客户端IP的自定义字段列表，使用**[\"header1\",\"header2\",……]**格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"string","example":"header1"}},"LogHeaders":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。\n\n> 仅当域名开启了流量标记功能时，返回该参数。","type":"array","items":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。\n\n> 仅当域名开启了流量标记功能时，返回该参数。","type":"object","properties":{"Key":{"description":"指定的自定义请求头部字段。","type":"string","example":"key1"},"Value":{"description":"指定的自定义请求头部字段设定的值。","type":"string","example":"value1"}}}},"Status":{"description":"域名状态。取值：\n\n- **1**：表示端口处于正常状态。\n\n- **2**：表示端口创建中。\n\n- **3**：表示端口修改中。\n\n- **4**：表示端口释放中。","type":"integer","format":"int32","example":"1"},"TLSVersion":{"description":"TLS的版本。取值：\n\n- **tlsv1**\n\n- **tlsv1.1**\n\n- **tlsv1.2**","type":"string","example":"tlsv1"},"EnableTLSv3":{"description":"是否支持TLS1.3版本。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","example":"true"},"CipherSuite":{"description":"加密套件类型。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int32","example":"1"},"CustomCiphers":{"description":"要添加的具体自定义加密套件。仅**CipherSuite**配置为**99**时，使用该参数。","type":"array","items":{"description":"自定义加密套件。","type":"string","example":"ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384"}},"ReadTimeout":{"description":"读超时时长，单位：秒。\n取值范围：1~3600。","type":"integer","format":"int32","example":"5"},"WriteTimeout":{"description":"写超时时长，单位：秒。\n取值范围：1~3600。","type":"integer","format":"int32","example":"1"},"Keepalive":{"description":"是否保持长连接。取值：\n\n- **true**（默认）：表示保持长连接。\n\n- **false**：表示不保持长连接。","type":"boolean","example":"true"},"KeepaliveRequests":{"description":"复用长连接的请求个数。取值范围：60~1000，单位：个。\n\n> 开启长连接后，复用多少个长连接。","type":"integer","format":"int32","example":"1000"},"KeepaliveTimeout":{"description":"空闲长连接超时时间，取值范围：10~3600，默认15，单位：秒。\n\n> 复用的长连接空闲多久后释放。","type":"integer","format":"int32","example":"10"},"Http2Enabled":{"description":"是否开启HTTP2。取值：\n\n- **true**：表示开启HTTP2。\n\n- **false**：表示不开启HTTP2。","type":"boolean","example":"True"},"XffProto":{"description":"X-Forward-For-Proto传递WAF的协议。取值：\n\n- **true**（默认）：表示传递WAF的协议。\n\n- **false**：表示不传递WAF的协议。","type":"boolean","example":"true"},"OwnerUserId":{"description":"云产品资源归属UID","type":"string","example":"123"},"SubStatus":{"description":"防护异常状态。取值：\n\n- **InvalidCert**：表示无效证书。\n\n- **ClientCertOpend**：表示开启双写认证。\n- **NetworkConfigLost**：表示云产品网络配置异常。","type":"string","example":"InvalidCert"},"SubStatusDetails":{"description":"防护异常状态具体原因，仅在SubStatus为InvalidCert时有值。","type":"array","items":{"description":"防护异常状态具体原因，仅在SubStatus为InvalidCert时有值。","type":"object","properties":{"CertName":{"description":"SSL证书中心的证书名称。","type":"string","example":"test-name"},"Domain":{"description":"证书绑定的域名。","type":"string","example":"test.aliyun.com"},"CertId":{"description":"SSL证书中心的证书ID。","type":"string","example":"123-cn-hangzhou"},"AppliedType":{"description":"HTTPS协议的证书类型。取值：\n\n- **default**：表示默认证书。\n\n- **extension**：表示拓展证书。","type":"string","example":"default"},"ProductCertName":{"description":"云产品保存的证书名称。","type":"string","example":"test-name"},"ProductCertId":{"description":"云产品保存的证书ID。","type":"string","example":"123"},"CommonName":{"description":"通用名称（CN）","type":"string","example":"test.aliyun.com"},"ReasonCode":{"description":"防护异常状态的具体原因。取值：\n\n- **UserUploadCert**：表示手工上传证书。\n\n- **CertNotExistInCertCenter**：表示在证书SSL证书中心不存在。\n- **CertExpired**：表示云证书已过期。\n- **EmptyCertCN**：表示证书的CN为空。","type":"string","example":"CertNotExistInCertCenter"},"ExpireTime":{"description":"证书的过期时间，格式为Unix时间戳，单位：秒。","type":"integer","format":"int64","example":"1746328456000"}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Instance.ValidFaild","errorMessage":"WAF instance check failed. Check whether the instance ID is correct."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2EFCFE18-78F8-5079-B312-07***48B\\\",\\n  \\\"TotalCount\\\": 10,\\n  \\\"AccessPortDetails\\\": [\\n    {\\n      \\\"Protocol\\\": \\\"https\\\",\\n      \\\"Port\\\": 443,\\n      \\\"Certificates\\\": [\\n        {\\n          \\\"CertificateName\\\": \\\"cert-name1\\\",\\n          \\\"CertificateId\\\": \\\"123-cn-hangzhou\\\",\\n          \\\"AppliedType\\\": \\\"default\\\"\\n        }\\n      ],\\n      \\\"XffHeaderMode\\\": 0,\\n      \\\"XffHeaders\\\": [\\n        \\\"header1\\\"\\n      ],\\n      \\\"LogHeaders\\\": [\\n        {\\n          \\\"Key\\\": \\\"key1\\\",\\n          \\\"Value\\\": \\\"value1\\\"\\n        }\\n      ],\\n      \\\"Status\\\": 1,\\n      \\\"TLSVersion\\\": \\\"tlsv1\\\",\\n      \\\"EnableTLSv3\\\": true,\\n      \\\"CipherSuite\\\": 1,\\n      \\\"CustomCiphers\\\": [\\n        \\\"ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384\\\"\\n      ],\\n      \\\"ReadTimeout\\\": 5,\\n      \\\"WriteTimeout\\\": 1,\\n      \\\"Keepalive\\\": true,\\n      \\\"KeepaliveRequests\\\": 1000,\\n      \\\"KeepaliveTimeout\\\": 10,\\n      \\\"Http2Enabled\\\": true,\\n      \\\"XffProto\\\": true,\\n      \\\"OwnerUserId\\\": \\\"123\\\",\\n      \\\"SubStatus\\\": \\\"InvalidCert\\\",\\n      \\\"SubStatusDetails\\\": [\\n        {\\n          \\\"CertName\\\": \\\"test-name\\\",\\n          \\\"Domain\\\": \\\"test.aliyun.com\\\",\\n          \\\"CertId\\\": \\\"123-cn-hangzhou\\\",\\n          \\\"AppliedType\\\": \\\"default\\\",\\n          \\\"ProductCertName\\\": \\\"test-name\\\",\\n          \\\"ProductCertId\\\": \\\"123\\\",\\n          \\\"CommonName\\\": \\\"test.aliyun.com\\\",\\n          \\\"ReasonCode\\\": \\\"CertNotExistInCertCenter\\\",\\n          \\\"ExpireTime\\\": 1746328456000\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询已接入WAF的云产品实例端口详情"},"DescribeDomainUsedPorts":{"summary":"查用户所有域名使用的端口，只包含CNAME接入的域名和混合云CNAME域名开启公网容灾的域名。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"217316","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-*-A47C-*"},"UsedPorts":{"description":"已使用的端口列表","type":"array","items":{"description":"已使用的端口","type":"integer","format":"int32","example":"80"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-*-A47C-*\\\",\\n  \\\"UsedPorts\\\": [\\n    80\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询用户域名所有使用的端口"},"CreateDomain":{"summary":"将域名接入WAF实例进行防护。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"106298","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Domain","in":"query","schema":{"description":"要查询的域名名称。","type":"string","required":true,"example":"www.aliyundoc.com"}},{"name":"Listen","in":"query","style":"json","schema":{"description":"配置监听信息。","type":"object","properties":{"HttpsPorts":{"description":"HTTPS协议的监听端口。","type":"array","items":{"description":"HTTPS协议的监听端口，使用 [**port1,port2,......,portN**] 格式。","type":"integer","format":"int32","required":false,"example":"[443,8443]"},"required":false},"HttpPorts":{"description":"HTTP协议的监听端口。","type":"array","items":{"description":"HTTP协议的监听端口，使用[**port1,port2,……**]格式。","type":"integer","format":"int32","required":false,"example":"[80,81]"},"required":false},"Http2Enabled":{"description":"是否开启HTTP2。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示开启HTTP2。\n\n- **false**（默认）：表示不开启HTTP2。","type":"boolean","required":false,"enumValueTitles":{},"example":"true"},"CertId":{"description":"要添加的证书的ID。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。","type":"string","required":false,"example":"123"},"SM2Enabled":{"description":"是否开启国密证书","type":"boolean","required":false,"example":"true","default":"false"},"SM2CertId":{"description":"要添加的国密证书的ID。仅SM2Enabled取值为true时，使用该参数。","type":"string","required":false,"example":"123-cn-hangzhou"},"SM2AccessOnly":{"description":"是否仅客端访问。仅SM2Enabled取值为true时，使用该参数。\n\n- true：仅国密客户端才可以访问。\n\n- false：国密和非国密均可以访问。","type":"boolean","required":false,"example":"true","default":"false"},"TLSVersion":{"description":"要添加的TLS版本。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n- **tlsv1**\n- **tlsv1.1**\n- **tlsv1.2**","type":"string","required":false,"example":"tlsv1"},"EnableTLSv3":{"description":"是否支持TLS1.3版本。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","required":false,"example":"true"},"CipherSuite":{"description":"要添加的加密套件类型。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。仅**TLSVersion**取值为**tlsv1.2**时，可选择该取值。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int32","required":false,"example":"2"},"CustomCiphers":{"description":"要添加的具体自定义加密套件。","type":"array","items":{"description":"要添加的具体自定义加密套件。仅**CipherSuite**配置为**99**时，使用该参数。","type":"string","required":false,"example":"[\"xxx\",\"ffas\"]"},"required":false},"FocusHttps":{"description":"是否开启HTTPS的强制跳转。仅HttpsPorts取值不为空（表示域名使用HTTPS协议），且HttpPorts取值为空（表示域名未使用HTTP协议）时，使用该参数。取值：\n\n- **true**：表示开启HTTPS的强制跳转。\n\n- **false**：表示不开启HTTPS的强制跳转。","type":"boolean","required":false,"example":"true"},"XffHeaderMode":{"description":"WAF获取客户端真实IP的方式。取值：\n\n- **0**（默认）：表示客户端访问流量到WAF前没有经过其他七层代理转发。\n\n- **1**：表示WAF读取请求头中X-Forwarded-For（XFF）字段的第一个值作为客户端IP。\n\n- **2**：表示WAF读取请求头中由您设置的自定义字段值作为客户端IP。","type":"integer","format":"int32","required":false,"example":"1"},"XffHeaders":{"description":"设置用于获取客户端IP的自定义字段列表。","type":"array","items":{"description":"设置用于获取客户端IP的自定义字段列表，使用[**\"header1\",\"header2\",……**]格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"string","required":false,"example":"[\"Client-ip\",\"cip\"]"},"required":false},"IPv6Enabled":{"description":"是否开启IPv6。取值：\n\n- **true**：表示开启IPv6。\n\n- **false**（默认）：表示不开启IPv6。","type":"boolean","required":false,"example":"true"},"ProtectionResource":{"description":"要使用的防护资源类型。取值：\n\n- **share**（默认）：表示使用共享集群。\n\n- **gslb**：表示使用共享集群智能负载均衡。","type":"string","required":false,"example":"share","default":"share"},"ExclusiveIp":{"description":"是否开启独享IP。仅**IPv6Enabled**取值为**false**（表示不开启IPv6），且**ProtectionResource**取值为**share**时（表示使用共享集群）时，使用该参数。取值：\n\n- **true**：表示开启独享IP。\n\n- **false**（默认）：表示不开启独享IP。","type":"boolean","required":false,"example":"true"}},"required":true}},{"name":"Redirect","in":"query","style":"json","schema":{"description":"配置转发信息。","type":"object","properties":{"Backends":{"description":"域名对应的源站服务器IP或服务器回源域名。","type":"array","items":{"description":"域名对应的源站服务器IP或服务器回源域名。您只能选择设置源站服务器IP或服务器回源域名中的一种，回源地址为域名时，只支持IPv4，暂不支持IPv6：\n\n- 设置源站服务器IP时，使用[**\"ip1\",\"ip2\",……**]格式表示。最多支持添加20个IP。\n\n- 设置服务器回源域名时，使用[**\"domain\"**]格式表示。最多支持添加20个域名地址。","type":"string","required":false,"example":"[\n    \"1.1.XX.XX\",\n    \"2.2.XX.XX\"\n]"},"required":false},"Loadbalance":{"description":"回源时采用的负载均衡算法。取值：\n\n- **iphash**：表示IPHash算法。\n\n- **roundRobin**：表示轮询算法。\n\n- **leastTime**：表示Least Time算法。仅**ProtectionResource**取值为**gslb**（表示防护资源类型使用共享集群智能负载均衡）时，可选择该取值。","type":"string","required":true,"example":"roundRobin","default":"iphash"},"FocusHttpBackend":{"description":"是否开启强制HTTP回源。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示开启强制HTTP回源。\n\n- **false**：表示不开启强制HTTP回源。","type":"boolean","required":false,"example":"true"},"SniEnabled":{"description":"是否开启回源SNI。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示开启回源SNI。\n\n- **false**（默认）：表示不开启回源SNI。","type":"boolean","required":false,"example":"true"},"SniHost":{"description":"设置自定义SNI扩展字段的值。如果不设置该参数，则默认使用请求头中**Host**字段的值作为SNI扩展字段的值。\n一般情况无需自定义SNI，除非您的业务有特殊配置要求，希望WAF在回源请求中使用与实际请求Host不一致的SNI（即此处设置的自定义SNI）。\n\n> 仅在**SniEnabled**取值为**true**（表示开启回源SNI），需要设置该参数。","type":"string","required":false,"example":"www.aliyundoc.com"},"RequestHeaders":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。\n\n通过指定自定义请求头部字段和对应的值，当域名的访问流量经过WAF时，WAF自动在请求头部中添加所设定的自定义字段值作为流量标记，便于后端服务统计相关信息。","type":"array","items":{"description":"该参数值的格式为[**{\"k\":\"_key_\",\"v\":\"_value_\"}**]。其中，**_key_**表示所指定的自定义请求头部字段，**_value_**表示为该字段设定的值。","type":"object","properties":{"Key":{"description":"指定的自定义请求头部字段。","type":"string","required":false,"example":"aaa"},"Value":{"description":"自定义请求头部字段设定的值。","type":"string","required":false,"example":"bbb"}},"required":false},"required":false,"maxItems":5},"ConnectTimeout":{"description":"连接超时时长。单位：秒。\n取值范围：1~3600。\n默认值：5。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"120","default":"5"},"ReadTimeout":{"description":"读超时时长，单位：秒。\n取值范围：1~3600。\n默认值：120。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"200","default":"120"},"WriteTimeout":{"description":"写超时时长，单位：秒。\n取值范围：1~3600。\n默认值：120。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"200","default":"120"},"CnameEnabled":{"description":"是否开启公共云容灾。取值：\n\n- **true**：表示开启公共云容灾。\n\n- **false**（默认）：表示不开启公共云容灾。","type":"boolean","required":false,"example":"true"},"RoutingRules":{"description":"混合云转发规则。使用JSON数组转化的字符串格式表示。JSON数组中的每个元素是一个结构体，包含以下字段：\n- **rs**：Array类型 | 表示回源IP地址或者回源CNAME列表\n\n- **backupRs**：Array类型 | 表示回源备用IP地址或者回源CNAME列表，必填，[]表示不设置\n\n- **location**：String类型 | 表示防护节点名称\n\n- **locationId**：Long类型 | 表示防护节点ID","type":"string","required":false,"example":"[\n    {\n        \"rs\":\n        [\n            \"1.1.XX.XX\"\n        ],\n        \"backupRs\":\n        [\n            \"2.2.XX.XX\"\n        ],\n        \"locationId\": 535,\n        \"location\": \"test1111\"\n    }\n]"},"Keepalive":{"description":"是否保持长连接。取值：\n\n- **true**（默认）：表示保持长连接。\n\n- **false**：表示不保持长连接。","type":"boolean","required":false,"example":"true","default":"true"},"Retry":{"description":"WAF回源失败时，是否重试。取值：\n\n- **true**（默认）：表示重试。\n\n- **false**：表示不重试。","type":"boolean","required":false,"example":"true","default":"true"},"KeepaliveRequests":{"description":"复用长连接的请求个数。取值范围：60~1000，默认值：1000，单位：个。\n\n> 开启长连接后，复用多少个长连接。","type":"integer","format":"int32","required":false,"maximum":"1000","minimum":"60","example":"1000","default":"1000"},"KeepaliveTimeout":{"description":"空闲长连接超时时间，取值范围：1~60，默认15，单位：秒。\n\n> 复用的长连接空闲多久后释放。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"10","example":"15","default":"15"},"XffProto":{"description":"X-Forward-For-Proto 传递WAF的协议。取值：\n\n- **true**（默认）：表示传递WAF的协议。\n\n- **false**：表示不传递WAF的协议。","type":"boolean","required":false,"example":"false","default":"true"},"BackupBackends":{"description":"域名对应的备用源站服务器IP或服务器回源域名。","type":"array","items":{"description":"域名对应的备用源站服务器IP或服务器回源域名。您只能选择设置源站服务器IP或服务器回源域名中的一种，回源地址为域名时，只支持IPv4，暂不支持IPv6：\n\n- 设置源站服务器IP时，使用[**\"ip1\",\"ip2\",……**]格式表示。最多支持添加20个IP。\n\n- 设置服务器回源域名时，使用[**\"domain\"**]格式表示。最多支持添加20个域名地址。","type":"string","required":false,"example":"[\n    \"1.1.XX.XX\",\n    \"2.2.XX.XX\"\n]"},"required":false},"XClientIp":{"description":"是否允许WAF覆盖X-Client-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","required":false,"example":"true"},"XTrueIp":{"description":"是否允许WAF覆盖X-True-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","required":false,"example":"true"},"WebServerType":{"description":"是否允许WAF覆盖Web-Server-Type。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","required":false,"example":"true"},"WLProxyClientIp":{"description":"是否允许WAF覆盖WL-Proxy-Client-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","required":false,"example":"true"},"BackendPorts":{"description":"自定义端口配置。","type":"array","items":{"description":"自定义端口配置。","type":"object","properties":{"ListenPort":{"description":"监听端口。","type":"integer","format":"int32","required":false,"example":"80"},"BackendPort":{"description":"回源端口。","type":"integer","format":"int32","required":false,"example":"80"},"Protocol":{"description":"监听端口的协议。取值：\n\n- **http**：表示监听端口的协议为HTTP。\n\n- **https**：表示监听端口的协议HTTPS。","type":"string","required":false,"example":"http"}},"required":false},"required":false}},"required":true}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"AccessType","in":"query","schema":{"description":"WAF实例的接入类型。取值：\n\n- **share**（默认）：表示CNAME接入。\n\n- **hybrid\\_cloud\\_cname**：表示混合云CNAME接入。","type":"string","required":false,"example":"share","default":"share"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"title":"标签列表，最多包含20个子项","description":"标签列表，最多包含20个子项","type":"array","items":{"description":"资源的标签，最多支持20个子项。","type":"object","properties":{"Key":{"title":"标签键","description":"标签键。","type":"string","required":false,"example":"Tagkey1"},"Value":{"title":"标签值","description":"标签值","type":"string","required":false,"example":"TagValue1"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"description":"添加域名后的返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"DomainInfo":{"description":"已添加的域名信息。","type":"object","properties":{"Cname":{"description":"WAF为域名分配的CNAME地址。","type":"string","example":"xxxxxwww.****.com"},"Domain":{"description":"已添加的域名名称。","type":"string","example":"www.aliyundoc.com"},"DomainId":{"description":"域名ID","type":"string","example":"www.aliyundoc.com-waf"}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.ResourceExsit","errorMessage":"Access resource already exists, resource:%s."},{"errorCode":"Waf.Pullin.BusinessViolation","errorMessage":"The web services are suspected of violating regulations. If you have any questions, please submit a work order. Violating resource: %s."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"DomainInfo\\\": {\\n    \\\"Cname\\\": \\\"xxxxxwww.****.com\\\",\\n    \\\"Domain\\\": \\\"www.aliyundoc.com\\\",\\n    \\\"DomainId\\\": \\\"www.aliyundoc.com-waf\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"添加CNAME接入资源"},"ModifyDomain":{"summary":"修改CNAME接入域名。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"114036","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"Domain","in":"query","schema":{"description":"要操作的域名名称。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"DomainId","in":"query","schema":{"description":"域名ID。","type":"string","required":false,"example":"www.aliyundoc.com-waf"}},{"name":"Listen","in":"query","style":"json","schema":{"description":"配置监听信息。","type":"object","properties":{"HttpsPorts":{"description":"HTTPS协议的监听端口，使用[**port1,port2,……**]格式。","type":"array","items":{"description":"HTTPS协议的监听端口。","type":"integer","format":"int32","required":false,"example":"443"},"required":false},"HttpPorts":{"description":"HTTP协议的监听端口，使用[**port1,port2,……**]格式。","type":"array","items":{"description":"HTTP协议的监听端口。","type":"integer","format":"int32","required":false,"example":"80"},"required":false},"Http2Enabled":{"description":"是否开启HTTP2。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示开启HTTP2。\n\n- **false**（默认）：表示不开启HTTP2。","type":"boolean","required":false,"example":"true"},"CertId":{"description":"要添加的证书的ID。","type":"string","required":false,"example":"123"},"SM2Enabled":{"description":"是否开启国密证书","type":"boolean","required":false,"example":"true"},"SM2CertId":{"description":"要添加的国密证书的ID。仅SM2Enable取值为true时，使用该参数。","type":"string","required":false,"example":"123-cn-hangzhou"},"SM2AccessOnly":{"description":"是否仅客端访问。仅SM2Enable取值为true时，使用该参数。\n\n- true：仅国密客户端才可以访问。\n\n- false：国密和非国密均可以访问。","type":"boolean","required":false,"example":"true"},"TLSVersion":{"description":"要添加的TLS版本。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **tlsv1**\n\n- **tlsv1.1**\n\n- **tlsv1.2**","type":"string","required":false,"example":"tlsv1"},"EnableTLSv3":{"description":"是否支持TLS1.3版本。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","required":false,"example":"true"},"CipherSuite":{"description":"要添加的加密套件类型。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。仅**TLSVersion**取值为**tlsv1.2**时，可选择该取值。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int32","required":false,"example":"2"},"CustomCiphers":{"description":"要添加的具体自定义加密套件。仅**CipherSuite**配置为**99**时，使用该参数。","type":"array","items":{"description":"自定义加密套件。","type":"string","required":false,"example":"[\"xxx\",\"ffas\"]"},"required":false},"FocusHttps":{"description":"是否开启HTTPS的强制跳转。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议），且**HttpPorts**取值为空（表示域名未使用HTTP协议）时，使用该参数。取值：\n\n- **true**：表示开启HTTPS的强制跳转。\n\n- **false**：表示不开启HTTPS的强制跳转。","type":"boolean","required":false,"example":"true"},"XffHeaderMode":{"description":"WAF获取客户端真实IP的方式。取值：\n\n- **0**（默认）：表示客户端访问流量到WAF前没有经过其他七层代理转发。\n\n- **1**：表示WAF读取请求头中X-Forwarded-For（XFF）字段的第一个值作为客户端IP。\n\n- **2**：表示WAF读取请求头中由您设置的自定义字段值作为客户端IP。","type":"integer","format":"int32","required":false,"enumValueTitles":{},"example":"2","enum":["0","1","2"]},"XffHeaders":{"description":"设置用于获取客户端IP的自定义字段列表，使用[**\"header1\",\"header2\",……**]格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"array","items":{"description":"用于获取客户端IP的自定义字段列表。","type":"string","required":false,"example":"Client-ip"},"required":false},"IPv6Enabled":{"description":"是否开启IPv6。取值：\n\n- **true**：表示开启IPv6。\n\n- **false**（默认）：表示不开启IPv6。","type":"boolean","required":false,"example":"true"},"ProtectionResource":{"description":"要使用的防护资源类型。取值：\n\n- **share**（默认）：表示使用共享集群。\n\n- **gslb**：表示使用共享集群智能负载均衡。","type":"string","required":false,"example":"share","default":"share"},"ExclusiveIp":{"description":"是否开启独享IP。仅**IPv6Enabled**取值为false（表示不开启IPv6），且**ProtectionResource**取值为**share**时（表示使用共享集群）时，使用该参数。取值：\n\n- **true**：表示开启独享IP。\n\n- **false**（默认）：表示不开启独享IP。","type":"boolean","required":false,"example":"true"}},"required":true}},{"name":"Redirect","in":"query","style":"json","schema":{"description":"配置转发信息。","type":"object","properties":{"Backends":{"description":"域名对应的源站服务器IP或服务器回源域名。您只能选择设置源站服务器IP或服务器回源域名中的一种，回源地址为域名时，只支持IPv4，暂不支持IPv6：\n\n- 设置源站服务器IP时，使用[**\"ip1\",\"ip2\",……**]格式表示。最多支持添加20个IP。\n\n- 设置服务器回源域名时，使用[**\"domain\"**]格式表示。最多支持添加20个域名地址。","type":"array","items":{"description":"源站服务器IP或服务器回源域名。","type":"string","required":false,"example":"1.1.XX.XX"},"required":false},"Loadbalance":{"description":"回源时采用的负载均衡算法。取值：\n\n- **iphash**：表示IP Hash算法。\n\n- **roundRobin**：表示轮询算法。\n\n- **leastTime**：表示Least Time算法。仅**ProtectionResource**取值为**gslb**（表示防护资源类型使用共享集群智能负载均衡）时，可选择该取值。","type":"string","required":true,"example":"iphash","default":"iphash"},"FocusHttpBackend":{"description":"是否开启强制HTTP回源。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示开启强制HTTP回源。\n- **false**：表示不开启强制HTTP回源。","type":"boolean","required":false,"example":"true"},"SniEnabled":{"description":"是否开启回源SNI。仅**HttpsPorts**取值不为空（表示域名使用HTTPS协议）时，使用该参数。取值：\n\n- **true**：表示开启回源SNI。\n- **false**（默认）：表示不开启回源SNI。","type":"boolean","required":false,"example":"true"},"SniHost":{"description":"设置自定义SNI扩展字段的值。如果不设置该参数，则默认使用请求头中**Host**字段的值作为SNI扩展字段的值。\n一般情况无需自定义SNI，除非您的业务有特殊配置要求，希望WAF在回源请求中使用与实际请求Host不一致的SNI（即此处设置的自定义SNI）。\n\n> 仅在**SniEnalbed**取值为xxx（表示自定义回源SNI）时，需要设置该参数。","type":"string","required":false,"example":"www.aliyundoc.com"},"RequestHeaders":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。\n\n通过指定自定义请求头部字段和对应的值，当域名的访问流量经过WAF时，WAF自动在请求头部中添加所设定的自定义字段值作为流量标记，便于后端服务统计相关信息。","type":"array","items":{"description":"该参数值的格式为[**{\"k\":\"_key_\",\"v\":\"_value_\"}**]。其中，**_key_**表示所指定的自定义请求头部字段，**_value_**表示为该字段设定的值。\n\n> 如果请求中已存在该自定义头部字段，系统将用所设定的流量标记值覆盖请求中该自定义字段的值。","type":"object","properties":{"Key":{"description":"指定的自定义请求头部字段。","type":"string","required":false,"example":"aaa"},"Value":{"description":"指定的自定义请求头部字段设定的值。","type":"string","required":false,"example":"bbb"}},"required":false},"required":false},"ConnectTimeout":{"description":"连接超时时长。单位：秒。\n取值范围：1~3600。\n默认值：5。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"120","default":"5"},"ReadTimeout":{"description":"读超时时长，单位：秒。\n取值范围：1~3600。\n默认值：120","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"200","default":"120"},"WriteTimeout":{"description":"写超时时长，单位：秒。\n取值范围：1~3600。\n默认值：120。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"1","example":"200","default":"120"},"CnameEnabled":{"description":"是否开启公共云容灾。取值：\n\n- **true**：表示开启公共云容灾。\n\n- **false**（默认）：表示不开启公共云容灾。","type":"boolean","required":false,"example":"true"},"RoutingRules":{"description":"混合云转发规则。使用JSON数组转化的字符串格式表示。JSON数组中的每个元素是一个结构体，包含以下字段：\n- **rs**：Array类型 | 表示回源IP地址或者回源CNAME列表\n\n- **backupRs**：Array类型 | 表示回源备用IP地址或者回源CNAME列表，必填，[]表示不设置\n\n- **location**：String类型 | 表示防护节点名称\n\n- **locationId**：Long类型 | 表示防护节点ID","type":"string","required":false,"example":"[\n    {\n        \"rs\":\n        [\n            \"1.1.XX.XX\"\n        ],\n        \"backupRs\":\n        [\n            \"2.2.XX.XX\"\n        ],\n        \"locationId\": 535,\n        \"location\": \"test1111\"\n    }\n]"},"Keepalive":{"description":"是否保持长连接。取值：\n\n- **true**（默认）：表示保持长连接。\n\n- **false**：表示不保持长连接。","type":"boolean","required":false,"example":"true","default":"true"},"Retry":{"description":"WAF回源失败时，是否重试。取值：\n\n- **true**（默认）：表示重试。\n- **false**：表示不重试。","type":"boolean","required":false,"example":"true","default":"true"},"KeepaliveRequests":{"description":"复用长连接的请求个数。取值范围：60~1000，默认值：1000，单位：个。\n\n> 开启长连接后，复用多少个长连接。","type":"integer","format":"int32","required":false,"maximum":"1000","minimum":"60","example":"1000","default":"1000"},"KeepaliveTimeout":{"description":"空闲长连接超时时间，取值范围：1~60，默认15，单位：秒。\n\n> 复用的长连接空闲多少长后释放。","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"10","example":"15","default":"15"},"XffProto":{"description":"X-Forward-For-Proto传递WAF的协议。取值：\n\n- **true**（默认）：表示传递WAF的协议。\n\n- **false**：表示不传递WAF的协议。","type":"boolean","required":false,"example":"true","default":"true"},"BackupBackends":{"description":"域名对应的备用源站服务器IP或服务器回源域名。","type":"array","items":{"description":"域名对应的备用源站服务器IP或服务器回源域名。您只能选择设置源站服务器IP或服务器回源域名中的一种，回源地址为域名时，只支持IPv4，暂不支持IPv6：\n\n- 设置源站服务器IP时，使用[**\"ip1\",\"ip2\",……**]格式表示。最多支持添加20个IP。\n\n- 设置服务器回源域名时，使用[**\"domain\"**]格式表示。最多支持添加20个域名地址。","type":"string","required":false,"example":"[\n    \"1.1.XX.XX\",\n    \"2.2.XX.XX\"\n]"},"required":false},"XClientIp":{"description":"是否允许WAF覆盖X-Client-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","required":false,"example":"true"},"XTrueIp":{"description":"是否允许WAF覆盖X-True-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","required":false,"example":"true"},"WebServerType":{"description":"是否允许WAF覆盖Web-Server-Type。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","required":false,"example":"true"},"WLProxyClientIp":{"description":"是否允许WAF覆盖WL-Proxy-Client-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","required":false,"example":"true"},"BackendPorts":{"description":"自定义端口配置。","type":"array","items":{"description":"自定义端口配置。","type":"object","properties":{"ListenPort":{"description":"监听端口","type":"integer","format":"int32","required":false,"example":"80"},"BackendPort":{"description":"回源端口。","type":"integer","format":"int32","required":false,"example":"80"},"Protocol":{"description":"监听端口的协议。取值：\n\n- **http**：表示监听端口的协议为HTTP。\n\n- **https**：表示监听端口的协议为HTTPS。","type":"string","required":false,"example":"http"}},"required":false},"required":false}},"required":true}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"AccessType","in":"query","schema":{"description":"WAF实例的接入类型。取值：\n\n- **share**（默认）：表示CNAME接入。\n\n- **hybrid\\_cloud\\_cname**：表示混合云CNAME接入。","type":"string","required":false,"example":"share","default":"share"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D****"},"DomainInfo":{"description":"返回添加的域名信息。","type":"object","properties":{"Cname":{"description":"WAF为域名分配的CNAME地址。","type":"string","example":"xxxxxcvdaf.****.com"},"Domain":{"description":"要修改的域名。","type":"string","example":"www.aliyundoc.com"},"DomainId":{"description":"域名ID","type":"string","example":"www.aliyundoc.com-waf"}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.BusinessViolation","errorMessage":"The web services are suspected of violating regulations. If you have any questions, please submit a work order. Violating resource: %s."},{"errorCode":"Waf.Control.DomainAndDomainIdBothEmpty","errorMessage":"domain and domainId cannot be empty at the same time."},{"errorCode":"Waf.Control.DomainAndDomainIdNotMatch","errorMessage":"domain and domainId do not match."},{"errorCode":"Waf.Control.DomainIdIsIllegal","errorMessage":"The input parameter, the domainId is illegal."},{"errorCode":"Waf.Pullin.BackupBackendConflict","errorMessage":"The backup  backend configuration conflicts."},{"errorCode":"Waf.Pullin.BackendPortIncompatible","errorMessage":"The back-to-source port is incompatible with the listening port, listening protocol:%s, listening port:%s, back-to-source port:%s."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D****\\\",\\n  \\\"DomainInfo\\\": {\\n    \\\"Cname\\\": \\\"xxxxxcvdaf.****.com\\\",\\n    \\\"Domain\\\": \\\"www.aliyundoc.com\\\",\\n    \\\"DomainId\\\": \\\"www.aliyundoc.com-waf\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"修改CNAME接入资源"},"DeleteDomain":{"summary":"删除CNAME接入域名。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"106552","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"Domain","in":"query","schema":{"description":"已接入WAF的域名名称。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"AccessType","in":"query","schema":{"description":"WAF实例的接入类型。取值：\n\n- **share**（默认）：表示CNAME接入。\n- **hybrid\\_cloud_cname** ：表示混合云反向代理接入。","type":"string","required":false,"example":"share","default":"share"}},{"name":"DomainId","in":"query","schema":{"description":"域名ID。","type":"string","required":false,"example":"www.aliyundoc.com-waf"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Control.DomainAndDomainIdBothEmpty","errorMessage":"domain and domainId cannot be empty at the same time."},{"errorCode":"Waf.Control.DomainAndDomainIdNotMatch","errorMessage":"domain and domainId do not match."},{"errorCode":"Waf.Control.DomainIdIsIllegal","errorMessage":"The input parameter, the domainId is illegal."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"删除CNAME接入资源"},"DescribeDomains":{"summary":"查询添加到 Web 应用防火墙的域名列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"112189","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Domain","in":"query","schema":{"title":"域名","description":"添加到WAF防护的域名。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"Backend","in":"query","schema":{"title":"回源地址","description":"域名对应的源站服务器IP或服务器回源域名。您只能选择设置源站服务器IP或服务器回源域名中的一种。","type":"string","required":false,"example":"1.1.XX.XX"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为1，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为10，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"50","example":"10","default":"10"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"资源的标签，最多支持20个子项。","type":"array","items":{"description":"资源的标签。","type":"object","properties":{"Key":{"description":"标签键。","type":"string","required":false,"example":"TagKey1"},"Value":{"description":"标签值","type":"string","required":false,"example":"TagValue1"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"description":"CNAME接入列表。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"ABF68BB3-2C48-5FA4-9750-D5FE55700E36"},"TotalCount":{"description":"查询到的域名配置的总数量。","type":"integer","format":"int64","example":"146"},"Domains":{"description":"CNAME接入列表。","type":"array","items":{"description":"CNAME接入详情。","type":"object","properties":{"Domain":{"title":"域名","description":"已接入WAF的域名名称。","type":"string","example":"www.aliyundoc.com"},"Status":{"title":"域名状态","description":"域名状态。取值：\n\n- **1**：表示域名处于正常状态。\n\n- **2**：表示域名创建中。\n\n- **3**：表示域名修改中。\n\n- **4**：表示域名释放中。\n\n- **5**：表示域名停止转发。","type":"integer","format":"int32","example":"1"},"Cname":{"title":"CNAME","description":"WAF为域名分配的CNAME地址。","type":"string","example":"xxxxxcvdaf.****.com"},"ListenPorts":{"description":"配置监听信息。","type":"object","properties":{"Http":{"description":"HTTP协议的监听端口列表。","type":"array","items":{"description":"HTTP协议的监听端口。","type":"integer","format":"int64","example":"80"}},"Https":{"description":"HTTPS协议的监听端口列表。","type":"array","items":{"description":"HTTPS协议的监听端口。","type":"integer","format":"int64","example":"443"}}}},"Backeds":{"description":"回源配置信息。","type":"object","properties":{"Http":{"description":"HTTP协议回源地址列表。","type":"array","items":{"description":"HTTP协议回源地址。","type":"object","properties":{"Backend":{"description":"HTTP协议回源地址。","type":"string","example":"1.1.XX.XX"}}}},"Https":{"description":"HTTPS协议回源地址列表。","type":"array","items":{"description":"HTTPS协议回源地址。","type":"object","properties":{"Backend":{"description":"HTTPS协议回源地址。","type":"string","example":"1.1.XX.XX"}}}}}},"ResourceManagerResourceGroupId":{"description":"阿里云资源组ID。","type":"string","example":"rg-acfmvtc5z52****"},"DomainId":{"description":"域名ID。","type":"string","example":"www.aliyundoc.com-waf"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"ABF68BB3-2C48-5FA4-9750-D5FE55700E36\\\",\\n  \\\"TotalCount\\\": 146,\\n  \\\"Domains\\\": [\\n    {\\n      \\\"Domain\\\": \\\"www.aliyundoc.com\\\",\\n      \\\"Status\\\": 1,\\n      \\\"Cname\\\": \\\"xxxxxcvdaf.****.com\\\",\\n      \\\"ListenPorts\\\": {\\n        \\\"Http\\\": [\\n          80\\n        ],\\n        \\\"Https\\\": [\\n          443\\n        ]\\n      },\\n      \\\"Backeds\\\": {\\n        \\\"Http\\\": [\\n          {\\n            \\\"Backend\\\": \\\"1.1.XX.XX\\\"\\n          }\\n        ],\\n        \\\"Https\\\": [\\n          {\\n            \\\"Backend\\\": \\\"1.1.XX.XX\\\"\\n          }\\n        ]\\n      },\\n      \\\"ResourceManagerResourceGroupId\\\": \\\"rg-acfmvtc5z52****\\\",\\n      \\\"DomainId\\\": \\\"www.aliyundoc.com-waf\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询CNAME接入列表"},"DescribeDomainDetail":{"summary":"查询域名接入详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"113957","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"DomainId","in":"query","schema":{"description":"域名ID。","type":"string","required":false,"example":"www.aliyundoc.com-waf"}},{"name":"Domain","in":"query","schema":{"title":"域名","description":"要查询的域名名称。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"description":"CNAME详情。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"BAEF9CA9-66A0-533E-BD09-5D5D7AA8****"},"Domain":{"title":"域名","description":"域名","type":"string","example":"www.aliyundoc.com"},"DomainId":{"title":"域名ID","description":"域名ID。","type":"string","example":"www.aliyundoc.com-waf"},"Status":{"title":"状态","description":"域名状态。取值：\n\n- **1**：表示域名处于正常状态。\n\n- **2**：表示域名创建中。\n\n- **3**：表示域名修改中。\n\n- **4**：表示域名释放中。\n\n- **5**：表示域名停止转发。","type":"integer","format":"int32","example":"1"},"Cname":{"description":"WAF为域名分配的CNAME地址。","type":"string","example":"xxxxxcvdaf.****.com"},"Listen":{"title":"监听配置","description":"配置监听信息。","type":"object","properties":{"HttpPorts":{"title":"HTTP端口","description":"HTTP协议的监听端口。","type":"array","items":{"description":"HTTP协议的监听端口。","type":"integer","format":"int64","example":"80"}},"HttpsPorts":{"title":"HTTPS端口","description":"HTTPS协议的监听端口。","type":"array","items":{"description":"HTTPS协议的监听端口。","type":"integer","format":"int64","example":"443\n"}},"Http2Enabled":{"title":"是否开启HTTP2","description":"是否开启HTTP2。取值：\n\n- **true**：表示开启HTTP2。\n\n- **false**：表示不开启HTTP2。","type":"boolean","example":"true"},"CertId":{"description":"证书的ID。","type":"string","example":"123"},"TLSVersion":{"title":"TLS版本","description":"TLS的版本。取值：\n\n- **tlsv1**\n\n- **tlsv1.1**\n\n- **tlsv1.2**","type":"string","example":"tlsv1.2"},"EnableTLSv3":{"title":"是否支持TLS1.3","description":"是否支持TLS1.3版本。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","example":"true"},"CipherSuite":{"description":"加密套件类型。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int64","example":"2"},"CustomCiphers":{"description":"自定义加密套件。","type":"array","items":{"description":"自定义加密套件。","type":"string","example":"xxx"}},"FocusHttps":{"description":"是否开启HTTPS的强制跳转。取值：\n\n- **true**：表示开启HTTPS的强制跳转。\n\n- **false**：表示不开启HTTPS的强制跳转。","type":"boolean","example":"true"},"SM2Enabled":{"description":"是否开启国密证书。 取值：\n\n- **true**：表示开启国密证书。\n\n- **false**：表示不开启国密证书。","type":"boolean","example":"true"},"SM2CertId":{"description":"要添加的国密证书的ID。仅SM2Enable取值为true时，使用该参数。","type":"string","example":"123-cn-hangzhou"},"SM2AccessOnly":{"description":"是否仅客端访问。仅SM2Enable取值为true时，使用该参数。\n\n- true：仅国密客户端才可以访问。\n\n- false：国密和非国密均可以访问。","type":"boolean","example":"true"},"XffHeaderMode":{"description":"WAF获取客户端真实IP的方式。取值：\n\n- **0**：表示客户端访问流量到WAF前没有经过其他七层代理转发。\n\n- **1**：表示WAF读取请求头中X-Forwarded-For（XFF）字段的第一个值作为客户端IP。\n\n- **2**：表示WAF读取请求头中由您设置的自定义字段值作为客户端IP。","type":"integer","format":"int64","example":"2"},"XffHeaders":{"description":"设置用于获取客户端IP的自定义字段列表。","type":"array","items":{"description":"设置用于获取客户端IP的自定义字段列表。","type":"string","example":"Client-ip"}},"IPv6Enabled":{"title":"是否开启IPv6","description":"是否开启IPv6。取值：\n\n- **true**：表示开启IPv6。\n\n- **false**：表示不开启IPv6。","type":"boolean","example":"true"},"ProtectionResource":{"title":"防护资源","description":"要使用的防护资源类型。取值：\n\n- **share**：表示使用共享集群。\n\n- **gslb**：表示使用共享集群智能负载均衡。","type":"string","example":"share"},"ExclusiveIp":{"title":"是否开启独享IP","description":"是否开启独享IP。取值：\n\n- **true**：表示开启独享IP。\n\n- **false**：表示不开启独享IP。","type":"boolean","example":"true"}}},"Redirect":{"title":"转发配置","description":"配置转发信息。","type":"object","properties":{"Backends":{"description":"域名对应的回源地址。\n\n> 该参数即将下线，推荐您使用**BackendList**获取相关信息。","type":"array","items":{"description":"源站服务器IP或服务器回源域名。","type":"object","properties":{"Backend":{"description":"域名对应的源站服务器IP或服务器回源域名。","type":"string","example":"1.1.XX.XX"}}},"deprecated":true},"Loadbalance":{"title":"负载均衡算法","description":"回源时采用的负载均衡算法。取值：\n\n- **iphash**：表示IP Hash算法。\n\n - **roundRobin**：表示轮询算法。\n\n- **leastTime**：表示Least Time算法。","type":"string","example":"iphash"},"FocusHttpBackend":{"description":"是否开启强制HTTP回源。取值：\n\n- **true**：表示开启强制HTTP回源。\n\n- **false**：表示不开启强制HTTP回源。","type":"boolean","example":"true"},"SniEnabled":{"title":"SNI","description":"是否开启回源SNI。取值：\n\n- **true**：表示开启回源SNI。\n\n- **false**（默认）：表示不开启回源SNI。","type":"boolean","example":"true"},"SniHost":{"description":"设置自定义SNI扩展字段的值。","type":"string","example":"www.aliyundoc.com"},"RequestHeaders":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。","type":"array","items":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。","type":"object","properties":{"Key":{"description":"指定的自定义请求头部字段。","type":"string","example":"aaa"},"Value":{"description":"指定的自定义请求头部字段设定的值。","type":"string","example":"bbb"}}}},"ConnectTimeout":{"description":"连接超时时长。单位：秒。\n取值范围：5~120。","type":"integer","format":"int32","example":"120"},"WriteTimeout":{"description":"写超时时长，单位：秒。\n取值范围：5~1800。","type":"integer","format":"int32","example":"200"},"ReadTimeout":{"description":"读超时时长，单位：秒。\n取值范围：5~1800。","type":"integer","format":"int32","example":"200"},"Keepalive":{"description":"是否保持长连接。取值：\n\n- **true**（默认）：表示保持长连接。\n\n- **false**：表示不保持长连接。","type":"boolean","example":"true","default":"true"},"Retry":{"description":"WAF回源失败时，是否重试。取值：\n\n- **true**（默认）：表示重试。\n\n- **false**：表示不重试。","type":"boolean","example":"true","default":"true"},"KeepaliveRequests":{"description":"复用长连接的请求个数。取值范围：60~1000，单位：个。\n\n> 开启长连接后，复用多少个长连接。","type":"integer","format":"int32","example":"1000","default":"100"},"KeepaliveTimeout":{"description":"空闲长连接超时时间，取值范围：1~60，默认15，单位：秒。\n\n> 复用的长连接空闲多长时间后释放。","type":"integer","format":"int32","example":"15","default":"15"},"XffProto":{"description":"X-Forward-For-Proto传递WAF的协议。取值：\n\n- **true**（默认）：表示传递WAF的协议。\n\n- **false**：表示不传递WAF的协议。","type":"boolean","example":"true"},"BackupBackends":{"description":"域名对应的备用回源地址。\n\n> 该参数即将下线，推荐您使用**BackUpBackendList**获取相关信息。","type":"array","items":{"description":"源站服务器IP或服务器回源域名。","type":"object","properties":{"Backend":{"description":"域名对应的备用源站服务器IP或服务器回源域名。","type":"string","example":"[\n    \"1.1.XX.XX\",\n    \"2.2.XX.XX\"\n]\n"}}},"deprecated":true},"XClientIp":{"description":"是否允许WAF覆盖X-Client-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","default":"false"},"XTrueIp":{"description":"是否允许WAF覆盖X-True-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","default":"false"},"WebServerType":{"description":"是否允许WAF覆盖Web-Server-Type。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","default":"false"},"WLProxyClientIp":{"description":"是否允许WAF覆盖WL-Proxy-Client-IP。取值：\n\n- **true**（默认）：表示允许WAF覆盖。\n\n- **false**：表示不允许WAF覆盖。","type":"boolean","default":"false"},"BackendList":{"description":"域名对应的源站服务器IP或服务器回源域名列表。","type":"array","items":{"description":"域名对应的源站服务器IP或服务器回源域名。","type":"string","example":"1.1.XX.XX"}},"BackUpBackendList":{"description":"域名对应的备用源站服务器 IP 或服务器回源域名列表。","type":"array","items":{"description":"域名对应的备用源站服务器 IP 或服务器回源域名。","type":"string","example":"2.2.XX.XX"}},"BackendPorts":{"description":"自定义端口配置，默认与监听端口一致。","type":"array","items":{"description":"自定义端口配置，默认与监听端口一致。","type":"object","properties":{"ListenPort":{"description":"监听端口","type":"integer","format":"int32","example":"80"},"BackendPort":{"description":"回源端口。","type":"integer","format":"int32","example":"80"},"Protocol":{"description":"监听端口的协议类型。取值：\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。","type":"string","example":"http"}}}}}},"ResourceManagerResourceGroupId":{"description":"阿里云资源组ID。","type":"string","example":"rg-acfm***q"},"CertDetail":{"description":"SSL证书详情。","type":"object","properties":{"Name":{"description":"证书名称","type":"string","example":"test-cert-name"},"Id":{"description":"SSL证书ID","type":"string","example":"123-cn-hangzhou"},"StartTime":{"description":"证书生效时间，格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","example":"1677772800000"},"EndTime":{"description":"证书到期时间，格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","example":"1685590400000"},"CommonName":{"description":"通用名称（CN）","type":"string","example":"test.aliyundoc.com"},"Sans":{"description":"证书绑定的所有域名。","type":"array","items":{"description":"证书绑定的所有域名。","type":"string","example":"www.aliyundoc.com"}}}},"SM2CertDetail":{"description":"国密证书信息","type":"object","properties":{"Name":{"description":"证书名称","type":"string","example":"test-sm2-cert-name"},"Id":{"description":"SSL证书ID","type":"string","example":"123-cn-hangzhou"},"StartTime":{"description":"证书生效时间，格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","example":"1657551525000"},"EndTime":{"description":"证书到期时间，格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","example":"1665590400000"},"CommonName":{"description":"通用名称（CN）","type":"string","example":"test.aliyundoc.com\n"},"Sans":{"description":"证书绑定的所有域名。","type":"array","items":{"description":"证书绑定的所有域名。","type":"string","example":"www.aliyundoc.com\n"}}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.DomainAndDomainIdBothEmpty","errorMessage":"domain and domainId cannot be empty at the same time."},{"errorCode":"Waf.Pullin.DomainAndDomainIdNotMatch","errorMessage":"domain and domainId do not match."},{"errorCode":"Waf.Pullin.DomainIdIsIllegal","errorMessage":"The input parameter, the domainId is illegal."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"BAEF9CA9-66A0-533E-BD09-5D5D7AA8****\\\",\\n  \\\"Domain\\\": \\\"www.aliyundoc.com\\\",\\n  \\\"DomainId\\\": \\\"www.aliyundoc.com-waf\\\",\\n  \\\"Status\\\": 1,\\n  \\\"Cname\\\": \\\"xxxxxcvdaf.****.com\\\",\\n  \\\"Listen\\\": {\\n    \\\"HttpPorts\\\": [\\n      80\\n    ],\\n    \\\"HttpsPorts\\\": [\\n      443\\n    ],\\n    \\\"Http2Enabled\\\": true,\\n    \\\"CertId\\\": \\\"123\\\",\\n    \\\"TLSVersion\\\": \\\"tlsv1.2\\\",\\n    \\\"EnableTLSv3\\\": true,\\n    \\\"CipherSuite\\\": 2,\\n    \\\"CustomCiphers\\\": [\\n      \\\"xxx\\\"\\n    ],\\n    \\\"FocusHttps\\\": true,\\n    \\\"SM2Enabled\\\": true,\\n    \\\"SM2CertId\\\": \\\"123-cn-hangzhou\\\",\\n    \\\"SM2AccessOnly\\\": true,\\n    \\\"XffHeaderMode\\\": 2,\\n    \\\"XffHeaders\\\": [\\n      \\\"Client-ip\\\"\\n    ],\\n    \\\"IPv6Enabled\\\": true,\\n    \\\"ProtectionResource\\\": \\\"share\\\",\\n    \\\"ExclusiveIp\\\": true\\n  },\\n  \\\"Redirect\\\": {\\n    \\\"Backends\\\": [\\n      {\\n        \\\"Backend\\\": \\\"1.1.XX.XX\\\"\\n      }\\n    ],\\n    \\\"Loadbalance\\\": \\\"iphash\\\",\\n    \\\"FocusHttpBackend\\\": true,\\n    \\\"SniEnabled\\\": true,\\n    \\\"SniHost\\\": \\\"www.aliyundoc.com\\\",\\n    \\\"RequestHeaders\\\": [\\n      {\\n        \\\"Key\\\": \\\"aaa\\\",\\n        \\\"Value\\\": \\\"bbb\\\"\\n      }\\n    ],\\n    \\\"ConnectTimeout\\\": 120,\\n    \\\"WriteTimeout\\\": 200,\\n    \\\"ReadTimeout\\\": 200,\\n    \\\"Keepalive\\\": true,\\n    \\\"Retry\\\": true,\\n    \\\"KeepaliveRequests\\\": 1000,\\n    \\\"KeepaliveTimeout\\\": 15,\\n    \\\"XffProto\\\": true,\\n    \\\"BackupBackends\\\": [\\n      {\\n        \\\"Backend\\\": \\\"[\\\\n    \\\\\\\"1.1.XX.XX\\\\\\\",\\\\n    \\\\\\\"2.2.XX.XX\\\\\\\"\\\\n]\\\\n\\\"\\n      }\\n    ],\\n    \\\"XClientIp\\\": true,\\n    \\\"XTrueIp\\\": true,\\n    \\\"WebServerType\\\": true,\\n    \\\"WLProxyClientIp\\\": true,\\n    \\\"BackendList\\\": [\\n      \\\"1.1.XX.XX\\\"\\n    ],\\n    \\\"BackUpBackendList\\\": [\\n      \\\"2.2.XX.XX\\\"\\n    ],\\n    \\\"BackendPorts\\\": [\\n      {\\n        \\\"ListenPort\\\": 80,\\n        \\\"BackendPort\\\": 80,\\n        \\\"Protocol\\\": \\\"http\\\"\\n      }\\n    ]\\n  },\\n  \\\"ResourceManagerResourceGroupId\\\": \\\"rg-acfm***q\\\",\\n  \\\"CertDetail\\\": {\\n    \\\"Name\\\": \\\"test-cert-name\\\",\\n    \\\"Id\\\": \\\"123-cn-hangzhou\\\",\\n    \\\"StartTime\\\": 1677772800000,\\n    \\\"EndTime\\\": 1685590400000,\\n    \\\"CommonName\\\": \\\"test.aliyundoc.com\\\",\\n    \\\"Sans\\\": [\\n      \\\"www.aliyundoc.com\\\"\\n    ]\\n  },\\n  \\\"SM2CertDetail\\\": {\\n    \\\"Name\\\": \\\"test-sm2-cert-name\\\",\\n    \\\"Id\\\": \\\"123-cn-hangzhou\\\",\\n    \\\"StartTime\\\": 1657551525000,\\n    \\\"EndTime\\\": 1665590400000,\\n    \\\"CommonName\\\": \\\"test.aliyundoc.com\\\\n\\\",\\n    \\\"Sans\\\": [\\n      \\\"www.aliyundoc.com\\\\n\\\"\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询CNAME接入详情"},"DescribePunishedDomains":{"summary":"查询已接入WAF域名的未备案处罚信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"124498","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-uqm****qa07"}},{"name":"Domains","in":"query","style":"repeatList","schema":{"description":"已接入WAF的域名列表。","type":"array","items":{"description":"已接入WAF的域名。","type":"string","required":false,"example":"demo.xxxaliyundoc.com"},"required":false,"maxItems":100}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"PunishType","in":"query","schema":{"description":"处罚类型，取值：\n- **beian**(默认)：表示备案中心。\n\n- **punishCenter**：表示处罚中心。","type":"string","required":false,"example":"beian","default":"beian"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekz7nc****aata"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"B1F4D802-55A1-5D53-A247-7E79****85E7"},"PunishedDomains":{"description":"未备案处罚的域名列表。","type":"array","items":{"description":"未备案处罚的域名。","type":"string","example":"demo.xxxaliyundoc.com\n"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B1F4D802-55A1-5D53-A247-7E79****85E7\\\",\\n  \\\"PunishedDomains\\\": [\\n    \\\"demo.xxxaliyundoc.com\\\\n\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询已接入WAF域名的未备案处罚信息"},"ModifyDomainPunishStatus":{"summary":"重新接入未备案处罚状态的域名。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"124497","abilityTreeNodes":["FEATUREwafD36LCH"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-zxu****0g02"}},{"name":"Domain","in":"query","schema":{"description":"未备案处罚状态的域名","type":"string","required":true,"example":"demo.xxxxaliyundoc.com"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的id。","type":"string","example":"70E65A35-22B8-567C-B0A0-A2E9****20AE"}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.DomainNotBeianOrInBlackList","errorMessage":"The domain does not have an ICP filling or has been blacklisted."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"70E65A35-22B8-567C-B0A0-A2E9****20AE\\\"\\n}\",\"type\":\"json\"}]","title":"重新接入未备案处罚状态的域名"},"DescribeCertDetail":{"summary":"查询证书详细信息，如证书名称、到期时间、签发时间，绑定域名等。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"167806","abilityTreeNodes":["FEATUREwafOV749M","FEATUREwafCMMRA4","FEATUREwafMF0FT6"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-uax****3k0e"}},{"name":"CertIdentifier","in":"query","schema":{"description":"证书ID。","type":"string","required":true,"example":"123-cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"3C115DBE-8E53-5A12-9CAF-FD3F****CDF6"},"CertDetail":{"description":"SSL证书详情。","type":"object","properties":{"Domain":{"description":"证书绑定的域名。","type":"string","example":"demo.xxxaliyun.com"},"CertName":{"description":"证书名称。","type":"string","example":"testCertName"},"CertIdentifier":{"description":"证书ID。","type":"string","example":"123-cn-hangzhou"},"CommonName":{"description":"主域名，通用域名。","type":"string","example":"*.xxxaliyun.com\n"},"AfterDate":{"description":"CA证书的到期日期。使用时间戳表示，单位：毫秒。","type":"integer","format":"int64","example":"1976256736582"},"BeforeDate":{"description":"证书签发时间，单位：毫秒。","type":"integer","format":"int64","example":"1976256736582"},"Sans":{"description":"证书绑定的其他域名列表。","type":"array","items":{"description":"证书绑定的其他域名。","type":"string","example":"demo.yyyaliyun.com"}}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.InvalidCertIdentifier","errorMessage":"Invalid certificate ID, certificate ID:%s."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"3C115DBE-8E53-5A12-9CAF-FD3F****CDF6\\\",\\n  \\\"CertDetail\\\": {\\n    \\\"Domain\\\": \\\"demo.xxxaliyun.com\\\",\\n    \\\"CertName\\\": \\\"testCertName\\\",\\n    \\\"CertIdentifier\\\": \\\"123-cn-hangzhou\\\",\\n    \\\"CommonName\\\": \\\"*.xxxaliyun.com\\\\n\\\",\\n    \\\"AfterDate\\\": 1976256736582,\\n    \\\"BeforeDate\\\": 1976256736582,\\n    \\\"Sans\\\": [\\n      \\\"demo.yyyaliyun.com\\\"\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询证书详细信息"},"DescribeCerts":{"summary":"查询用户的证书列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"Domain","in":"query","schema":{"title":"域名","description":"域名。","type":"string","required":false,"example":"example.aliyun.com"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询的页码。默认值：**1**。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页的行数。默认值为**10**，最大100。","type":"integer","format":"int64","required":false,"maximum":"1000","example":"10","default":"10"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-5yd****tb02"}},{"name":"Algorithm","in":"query","schema":{"description":"加密算法类型。取值：\n\n- **NotSM2（默认）**：表示非国密算法。\n\n- **SM2**：表示国密算法。","type":"string","required":false,"example":"SM2"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfmoiy****p2oq"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"19511B0D-5AE0-5600-BB8A-DC2C8345****"},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"8"},"Certs":{"description":"证书列表。","type":"array","items":{"description":"证书对象。","type":"object","properties":{"Domain":{"description":"证书支持的域名。","type":"string","example":"www.example.com\t\n"},"CertName":{"description":"证书名称。","type":"string","example":"waf1234"},"CertIdentifier":{"description":"全局证书ID，证书ID+\"-cn-hangzhou\"。如果证书ID=123，则CertIdentifier=“123-cn-hangzhou”。","type":"string","example":"12345-cn-hangzhou"},"CommonName":{"description":"通用域名。","type":"string","example":"*.example.com\t"},"IsChainCompleted":{"description":"证书链是否完整。取值：\n\n- **true**：表示完整。\n\n- **false**：表示不完整。","type":"boolean","example":"true"},"AfterDate":{"description":"到期时间。","type":"integer","format":"int64","example":"1976256736582"},"BeforeDate":{"description":"生效时间。","type":"integer","format":"int64","example":"1976256836582"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"19511B0D-5AE0-5600-BB8A-DC2C8345****\\\",\\n  \\\"TotalCount\\\": 8,\\n  \\\"Certs\\\": [\\n    {\\n      \\\"Domain\\\": \\\"www.example.com\\\\t\\\\n\\\",\\n      \\\"CertName\\\": \\\"waf1234\\\",\\n      \\\"CertIdentifier\\\": \\\"12345-cn-hangzhou\\\",\\n      \\\"CommonName\\\": \\\"*.example.com\\\\t\\\",\\n      \\\"IsChainCompleted\\\": true,\\n      \\\"AfterDate\\\": 1976256736582,\\n      \\\"BeforeDate\\\": 1976256836582\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询用户的可选证书列表"},"DescribeDomainDNSRecord":{"summary":"查询域名DNS是否正确。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"179230","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-nwy****is02"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Domain","in":"query","schema":{"description":"要查询的域名名称。","type":"string","required":true,"example":"xxx.aliyundoc.com"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D827FCFE-90A7-4330-9326-D33C8B4C****"},"DNSStatus":{"description":"DNS状态。取值：\n\n- **cnameMatched**：表示正常。\n\n- **vipMatched**：表示A记录。\n\n- **wafVip**：表示使用其他WAF的VIP。\n\n- **unRecord**：表示没有DNS解析。\n\n- **unUsed**：表示未过WAF。\n\n- **checkTimeout**：表示检测超时。","type":"string","example":"cnameMatched"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D827FCFE-90A7-4330-9326-D33C8B4C****\\\",\\n  \\\"DNSStatus\\\": \\\"cnameMatched\\\"\\n}\",\"type\":\"json\"}]","title":"查询CNAME域名DNS解析状态"},"DescribeWafSourceIpSegment":{"summary":"查询WAF回源网段。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"115641","abilityTreeNodes":["FEATUREwafD36LCH"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-*****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"查询结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"9087ADDC-9047-4D02-82A7-33021B58083C"},"WafSourceIp":{"description":"防护集群使用的WAF回源IP网段列表。","type":"object","properties":{"IPv6":{"description":"IPv6的回源网段列表。","type":"array","items":{"description":"IPv6的回源网段。","type":"string","example":"2408:XXXX:3c:4800::/56"}},"IPv4":{"description":"IPv4的回源网段列表。","type":"array","items":{"description":"IPv4的回源网段。","type":"string","example":"101.200.XX.XX/24"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"9087ADDC-9047-4D02-82A7-33021B58083C\\\",\\n  \\\"WafSourceIp\\\": {\\n    \\\"IPv6\\\": [\\n      \\\"2408:XXXX:3c:4800::/56\\\"\\n    ],\\n    \\\"IPv4\\\": [\\n      \\\"101.200.XX.XX/24\\\"\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取waf实例的回源IP网段列表"},"DescribeResourcePort":{"summary":"查询实例下的所有已接入WAF端口。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafHU8RSD"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"ResourceInstanceId","in":"query","schema":{"title":"资源的实例ID","description":"云产品实例的ID。","type":"string","required":true,"example":"8vb40vj87znu3ai7l5lv4-80****\n"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"查询结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"66A98669-CC6E-4F3E-80A6-3014697B11AE"},"ResourcePorts":{"description":"已接入WAF的所有HTTP协议和HTTPS协议的监听端口。","type":"array","items":{"description":"HTTP协议和HTTPS协议的监听端口。","type":"string","example":"80"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-3014697B11AE\\\",\\n  \\\"ResourcePorts\\\": [\\n    \\\"80\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询实例下的所有已接入WAF端口"},"DescribeDDoSStatus":{"summary":"当前WAF实例是否被DDoS攻击。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"194498","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-***"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-***"},"DDoSStatus":{"description":"当前DDoS状态","type":"array","items":{"description":"当前DDoS状态","type":"object","properties":{"Status":{"description":"DDoS状态：\n- **doing**：DDoS中。","type":"string","example":"doing"},"EventType":{"description":"事件类型名称。可能值：\n- defense：DDoS清洗事件。\n- blackhole：DDoS黑洞事件。","type":"string","example":"blackhole"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-***\\\",\\n  \\\"DDoSStatus\\\": [\\n    {\\n      \\\"Status\\\": \\\"doing\\\",\\n      \\\"EventType\\\": \\\"blackhole\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询当前DDoS攻击状态"},"CreateSM2Cert":{"summary":"CNAME接入WAF上传国密证书。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"CertName","in":"query","schema":{"description":"证书名称。","type":"string","required":false,"example":"test-sm2"}},{"name":"EncryptCertificate","in":"query","schema":{"description":"国密证书的证书内容。","type":"string","required":false,"example":"-----BEGIN CERTIFICATE-----\n***\n-----END CERTIFICATE-----"}},{"name":"EncryptPrivateKey","in":"query","schema":{"description":"国密证书的私钥内容。","type":"string","required":false,"example":"-----BEGIN PRIVATE KEY-----\n***\n-----END PRIVATE KEY-----"}},{"name":"SignCertificate","in":"query","schema":{"description":"国密证书的签名证书内容。","type":"string","required":false,"example":"-----BEGIN CERTIFICATE-----\n***\n-----END CERTIFICATE-----"}},{"name":"SignPrivateKey","in":"query","schema":{"description":"国密证书的签名证书私钥内容。","type":"string","required":false,"example":"-----BEGIN PRIVATE KEY-----\n***\n-----END PRIVATE KEY-----"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-***"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-***"},"CertIdentifier":{"description":"证书ID。","type":"string","example":"***-cn-hangzhou"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-***\\\",\\n  \\\"CertIdentifier\\\": \\\"***-cn-hangzhou\\\"\\n}\",\"type\":\"json\"}]","title":"CNAME接入WAF上传国密证书"},"DescribeCnameCount":{"summary":"查询已接入WAF的域名总数，包含CNAME接入和混合云接入的域名。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafHU8RSD"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-***"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"当前请求的id。","type":"string","example":"F35F45B0-5D6B-4238-BE02-A62D****E840"},"CnameCount":{"description":"CNAME接入数量","type":"object","properties":{"Total":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"1"},"HybridCloudCname":{"description":"混合云接入的数量。","type":"integer","format":"int64","example":"1"},"Cname":{"description":"公共云CNAME接入域名数量。","type":"integer","format":"int64","example":"1"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F35F45B0-5D6B-4238-BE02-A62D****E840\\\",\\n  \\\"CnameCount\\\": {\\n    \\\"Total\\\": 1,\\n    \\\"HybridCloudCname\\\": 1,\\n    \\\"Cname\\\": 1\\n  }\\n}\",\"type\":\"json\"}]","title":"查询已接入的域名总数"},"DescribeDefaultHttps":{"summary":"查询默认SSL/TLS设置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"226995","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"title":"实例ID","description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-7pp26f1****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F35F45B0-5D6B-4238-BE02-A62D****E840"},"DefaultHttps":{"description":"默认SSL/TLS设置","type":"object","properties":{"CustomCiphers":{"description":"自定义加密套件。","type":"string","example":"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384"},"TLSVersion":{"description":"TLS的版本。取值：\n\n- **tlsv1**\n\n- **tlsv1.1**\n\n- **tlsv1.2**","type":"string","example":"tlsv1"},"CertId":{"description":"证书的ID。","type":"string","example":"123-cn-hangzhou"},"CipherSuite":{"description":"加密套件类型。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。\n\n- **99**：表示添加自定义加密套件。","type":"string","example":"1"},"EnableTLSv3":{"description":"是否支持TLS1.3版本。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","example":"true"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F35F45B0-5D6B-4238-BE02-A62D****E840\\\",\\n  \\\"DefaultHttps\\\": {\\n    \\\"CustomCiphers\\\": \\\"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384\\\",\\n    \\\"TLSVersion\\\": \\\"tlsv1\\\",\\n    \\\"CertId\\\": \\\"123-cn-hangzhou\\\",\\n    \\\"CipherSuite\\\": \\\"1\\\",\\n    \\\"EnableTLSv3\\\": true\\n  }\\n}\",\"type\":\"json\"}]","title":"查询默认SSL/TLS设置"},"ModifyDefaultHttps":{"summary":"修改默认SSL/TLS设置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"226996","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"CertId","in":"query","schema":{"description":"证书的ID。","type":"string","required":true,"example":"123-cn-hangzhou"}},{"name":"TLSVersion","in":"query","schema":{"description":"TLS的版本。取值：\n\n- **tlsv1**\n\n- **tlsv1.1**\n\n- **tlsv1.2**","type":"string","required":true,"example":"tlsv1","enum":["tlsv1","tlsv1.1","tlsv1.2","tlsv1.3"]}},{"name":"CipherSuite","in":"query","schema":{"description":"加密套件类型。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int32","required":false,"example":"0","default":"1","enum":["1","2","99"]}},{"name":"CustomCiphers","in":"query","style":"repeatList","schema":{"description":"要添加的具体自定义加密套件。仅**CipherSuite**配置为**99**时，使用该参数。","type":"array","items":{"description":"自定义加密套件。","type":"string","required":false,"example":"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384","enum":["ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-RSA-AES128-SHA256","ECDHE-RSA-AES256-SHA384","AES128-GCM-SHA256","AES256-GCM-SHA384","AES128-SHA256","AES256-SHA256","ECDHE-ECDSA-AES128-SHA","ECDHE-ECDSA-AES256-SHA","ECDHE-RSA-AES128-SHA","ECDHE-RSA-AES256-SHA","AES128-SHA","AES256-SHA","DES-CBC3-SHA","RSA+3DES","!aNULL","!eNULL","!LOW","!MD5","!EXP","!DSS","!PSK","!SRP","!kECDH","!CAMELLIA","!IDEA","!SEED"]},"required":false,"maxItems":100}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-***"}},{"name":"EnableTLSv3","in":"query","schema":{"description":"是否支持TLS1.3版本。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","required":false,"example":"true"}},{"name":"RegionId","in":"query","schema":{"type":"string","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"276D7566-31C9-4192-9DD1-***"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"276D7566-31C9-4192-9DD1-***\\\"\\n}\",\"type\":\"json\"}]","title":"修改默认SSL/TLS设置"},"CreateCerts":{"summary":"CNAME接入WAF上传证书（国际证书）。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"167792","abilityTreeNodes":["FEATUREwafD36LCH"]},"parameters":[{"name":"CertName","in":"query","schema":{"description":"证书名称。","type":"string","required":false,"example":"testrsa1"}},{"name":"CertContent","in":"query","schema":{"description":"证书文件内容。","type":"string","required":false,"example":"-----BEGIN CERTIFICATE----- 62EcYPWd2****s6MTXcJSfN9Z7rZ9fmxWr2BFN2XbahgnsSXM48ixZJ4krc+1M+j2kcubVpsE2cgHdj4v8H6jUz9Ji4mr7vMNS6dXv8PUkl/qoDeNGCNdyTS5NIL5ir+g92cL8IGOkjgvhlqt9vc65Cgb4mL+n5+DV9uOyTZTW/MojmlgfUekC2xiXa54nxJf17Y1TADGSbyJbsC0Q9nIrHsPl8YKkvRWvIAqYxXZ7wRwWWmv4TMxFhWRiNY7yZIo2ZUhl02S****gIEeg== -----END CERTIFICATE-----\t"}},{"name":"CertKey","in":"query","schema":{"description":"证书对应的私钥文件内容。","type":"string","required":false,"example":"-----BEGIN RSA PRIVATE KEY----- DADTPZoOHd9WtZ3U****RgNQmioPQn2bqdKHop+B/dn/4VZL7Jt8zSDGM9sTMThLyvsmLQKBgQCr+ujntC1kN6pGBj2Fw2l/EA/W3rYEce2tyhjgmG7rZ+A/jVE9fld5sQra6ZdwBcQJaiygoIYoaMF2EjRwc0qwHaluq0C15f6ujSoHh2e+D5zdmkTg/3NKNjqNv6xA2gYpinVDzFdZ9Zujxvuh9o4Vqf0YF8****K5G04RtKadOw== -----END RSA PRIVATE KEY-----\t"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-20p****nw01"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5BBA38B1-07AE-559F-8766-AB50****C300"},"CertIdentifier":{"description":"证书ID。","type":"string","example":"123456-cn-hangzhou"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5BBA38B1-07AE-559F-8766-AB50****C300\\\",\\n  \\\"CertIdentifier\\\": \\\"123456-cn-hangzhou\\\"\\n}\",\"type\":\"json\"}]","title":"CNAME接入WAF上传证书（国际证书）"},"DescribeHybridCloudResources":{"summary":"查询混合云域名列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"156993","abilityTreeNodes":["FEATUREwafSBJ1DO"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-***********"}},{"name":"Domain","in":"query","schema":{"title":"域名","description":"要查询的域名名称。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"Backend","in":"query","schema":{"title":"回源地址","description":"域名对应的源站服务器IP或服务器回源域名。","type":"string","required":false,"example":"1.1.XX.XX"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"50","example":"10","default":"10"}},{"name":"CnameEnabled","in":"query","schema":{"description":"是否开启公共云容灾。取值：\n\n- **true**：表示开启公共云容灾。\n\n- **false**：表示不开启公共云容灾。","type":"boolean","required":false,"example":"true"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfmvtc5z52****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Domains":{"description":"本次获取的域名列表。","type":"array","items":{"description":"域名接入详情。","type":"object","properties":{"Status":{"title":"域名状态","description":"域名状态。取值：\n\n- **1**：表示域名处于正常状态。\n\n- **2**：表示域名创建中。\n\n- **3**：表示域名修改中。\n\n- **4**：表示域名释放中。\n\n- **5**：表示域名停止转发。","type":"integer","format":"int32","example":"1"},"ResourceManagerResourceGroupId":{"description":"阿里云资源组ID。","type":"string","example":"rg-acfmvtc5z52****"},"Uid":{"description":"用户ID。","type":"string","example":"130715431409****"},"Listen":{"description":"配置监听信息。","type":"object","properties":{"HttpsPorts":{"description":"HTTPS端口列表。","type":"array","items":{"description":"HTTPS协议的端口。","type":"integer","format":"int64","example":"443"}},"ProtectionResource":{"description":"要使用的防护资源类型。取值：\n\n- **share**：表示使用共享集群。\n\n- **gslb**：表示使用共享集群智能负载均衡。","type":"string","example":"share"},"CustomCiphers":{"description":"要添加的具体自定义加密套件。\n\n> 仅**CipherSuite**取值为**99**时，返回该参数。","type":"array","items":{"description":"自定义加密套件。","type":"string","example":"ECDHE-ECDSA-AES128-GCM-SHA256"}},"TLSVersion":{"description":"TLS的版本。取值：\n\n- **tlsv1**\n\n- **tlsv1.1**\n\n- **tlsv1.2**","type":"string","example":"tlsv1.2"},"Http2Enabled":{"description":"是否开启HTTP2。取值：\n\n- **true**：表示开启HTTP2。\n\n- **false**：表示不开启HTTP2。","type":"boolean","example":"false"},"CertId":{"description":"证书ID","type":"string","example":"72***76-cn-hangzhou"},"CipherSuite":{"description":"加密套件类型。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int32","example":"1"},"EnableTLSv3":{"description":"是否支持TLS1.3版本。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","example":"true"},"IPv6Enabled":{"description":"开启IPv6\t是否开启IPv6。取值：\n\n- **true**：表示开启IPv6。\n\n- **false**：表示不开启IPv6。","type":"boolean","example":"false"},"FocusHttps":{"description":"是否开启HTTPS的强制跳转。取值：\n\n- **true**：表示开启HTTPS的强制跳转。\n\n- **false**：表示不开启HTTPS的强制跳转。","type":"boolean","example":"false"},"XffHeaders":{"description":"用于获取客户端IP的自定义字段列表，使用**[\"header1\",\"header2\",……]**格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，返回该参数。","type":"array","items":{"description":"用于获取客户端IP的自定义字段列表。","type":"string","example":"Client-ip"}},"XffHeaderMode":{"description":"WAF获取客户端真实IP的方式。取值：\n\n- **0**：表示客户端访问流量到WAF前没有经过其他七层代理转发。\n\n- **1**：表示WAF读取请求头中X-Forwarded-For（XFF）字段的第一个值作为客户端IP。\n\n- **2**：表示WAF读取请求头中由您设置的自定义字段值作为客户端IP。","type":"integer","format":"int32","example":"0"},"ExclusiveIp":{"description":"是否支持独享IP。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"HttpPorts":{"description":"HTTP协议的监听端口列表。","type":"array","items":{"description":"HTTP协议的监听端口。","type":"integer","format":"int64","example":"80"}}}},"Id":{"description":"接入ID。","type":"integer","format":"int64","enumValueTitles":{},"example":"12345"},"Redirect":{"description":"配置转发信息。","type":"object","properties":{"ConnectTimeout":{"description":"连接超时时长。单位：秒。\n取值范围：5~120。","type":"integer","format":"int64","example":"120"},"Keepalive":{"description":"是否保持长连接。取值：\n\n- **true**：表示保持长连接。\n\n- **false**：表示不保持长连接。","type":"boolean","example":"true"},"SniEnabled":{"description":"是否开启回源SNI。取值：\n\n- **true**：表示开启回源SNI。\n\n- **false**：表示不开启回源SNI。","type":"boolean","example":"true"},"CnameEnabled":{"description":"是否开启公共云容灾。取值：\n\n- **true**：表示开启公共云容灾。\n\n- **false**：表示不开启公共云容灾。","type":"boolean","example":"true"},"KeepaliveTimeout":{"description":"空闲长连接超时时间，取值范围：1~60，默认15，单位：秒。\n\n> 复用的长连接空闲多久后释放。","type":"integer","format":"int64","example":"15"},"ReadTimeout":{"description":"读超时时长，单位：秒。\n取值范围：5~1800。","type":"integer","format":"int64","example":"200"},"Backends":{"description":"域名对应的源站服务器IP或服务器回源域名。","type":"array","items":{"description":"域名对应的源站服务器IP或服务器回源域名。","type":"string","example":"1.1.XX.XX"}},"SniHost":{"description":"SNI扩展字段的自定义值。取值为空表示未自定义SNI值，默认使用请求头中**Host**字段的值作为SNI扩展字段的值。\n\n> 仅在**SniEnabled**取值为**true**（表示开启SNI回源）时，返回该参数。","type":"string","example":"www.aliyundoc.com"},"FocusHttpBackend":{"description":"是否开启强制HTTP回源。取值：\n\n- **true**：表示开启强制HTTP回源。\n\n- **false**：表示不开启强制HTTP回源。","type":"boolean","example":"true"},"WriteTimeout":{"description":"写超时时长，单位：秒。\n取值范围：5~1800。","type":"integer","format":"int64","example":"200"},"RoutingRules":{"description":"混合云转发规则。使用JSON数组转化的字符串格式表示。JSON数组中的每个元素是一个结构体，包含以下字段：\n- **rs**：Array类型 | 表示回源IP地址或者回源CNAME列表\n\n- **location**：String类型 | 表示防护节点名称\n\n- **locationId**：Long类型 | 表示防护节点ID","type":"string","example":"[\n      {\n            \"rs\": [\n                  \"1.1.XX.XX\"\n            ],\n            \"locationId\": 535,\n            \"location\": \"test1111\"\n      }\n]"},"Retry":{"description":"WAF回源失败时，是否重试。取值：\n\n- **true**：表示重试。\n\n- **false**：表示不重试。","type":"boolean","example":"true"},"RequestHeaders":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。","type":"array","items":{"description":"域名的流量标记字段和值，用于标记经过WAF处理的流量。","type":"object","properties":{"Value":{"description":"指定的自定义请求头部字段设定的值。","type":"string","example":"bbb"},"Key":{"description":"指定的自定义请求头部字段。","type":"string","example":"aaa"}}}},"KeepaliveRequests":{"description":"复用长连接的请求个数。取值范围：60~1000，单位：个。\n\n> 开启长连接后，复用多少个长连接。","type":"integer","format":"int64","example":"1000"},"Loadbalance":{"description":"回源时采用的负载均衡算法。取值：\n\n- **iphash**：表示IP Hash算法。\n\n - **roundRobin**：表示轮询算法。\n\n- **leastTime**：表示Least Time算法。","type":"string","example":"iphash"}}},"Domain":{"title":"域名","description":"域名","type":"string","example":"www.aliyundoc.com"},"Cname":{"title":"CNAME","description":"WAF为域名分配的CNAME地址。\n> 仅在**CnameEnabled**取值为true（表示开启公共云容灾）时，返回该参数。","type":"string","example":"50fqmu1ci7g0xtiyxnrhgx6qdhmn****.yundunwaf5.com"}}}},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"24"},"RequestId":{"description":"本次请求的ID。","type":"string","example":"98D2AA9A-5959-5CCD-83E3-B6606232A2BE"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Domains\\\": [\\n    {\\n      \\\"Status\\\": 1,\\n      \\\"ResourceManagerResourceGroupId\\\": \\\"rg-acfmvtc5z52****\\\",\\n      \\\"Uid\\\": \\\"130715431409****\\\",\\n      \\\"Listen\\\": {\\n        \\\"HttpsPorts\\\": [\\n          443\\n        ],\\n        \\\"ProtectionResource\\\": \\\"share\\\",\\n        \\\"CustomCiphers\\\": [\\n          \\\"ECDHE-ECDSA-AES128-GCM-SHA256\\\"\\n        ],\\n        \\\"TLSVersion\\\": \\\"tlsv1.2\\\",\\n        \\\"Http2Enabled\\\": false,\\n        \\\"CertId\\\": \\\"72***76-cn-hangzhou\\\",\\n        \\\"CipherSuite\\\": 1,\\n        \\\"EnableTLSv3\\\": true,\\n        \\\"IPv6Enabled\\\": false,\\n        \\\"FocusHttps\\\": false,\\n        \\\"XffHeaders\\\": [\\n          \\\"Client-ip\\\"\\n        ],\\n        \\\"XffHeaderMode\\\": 0,\\n        \\\"ExclusiveIp\\\": true,\\n        \\\"HttpPorts\\\": [\\n          80\\n        ]\\n      },\\n      \\\"Id\\\": 12345,\\n      \\\"Redirect\\\": {\\n        \\\"ConnectTimeout\\\": 120,\\n        \\\"Keepalive\\\": true,\\n        \\\"SniEnabled\\\": true,\\n        \\\"CnameEnabled\\\": true,\\n        \\\"KeepaliveTimeout\\\": 15,\\n        \\\"ReadTimeout\\\": 200,\\n        \\\"Backends\\\": [\\n          \\\"1.1.XX.XX\\\"\\n        ],\\n        \\\"SniHost\\\": \\\"www.aliyundoc.com\\\",\\n        \\\"FocusHttpBackend\\\": true,\\n        \\\"WriteTimeout\\\": 200,\\n        \\\"RoutingRules\\\": \\\"[\\\\n      {\\\\n            \\\\\\\"rs\\\\\\\": [\\\\n                  \\\\\\\"1.1.XX.XX\\\\\\\"\\\\n            ],\\\\n            \\\\\\\"locationId\\\\\\\": 535,\\\\n            \\\\\\\"location\\\\\\\": \\\\\\\"test1111\\\\\\\"\\\\n      }\\\\n]\\\",\\n        \\\"Retry\\\": true,\\n        \\\"RequestHeaders\\\": [\\n          {\\n            \\\"Value\\\": \\\"bbb\\\",\\n            \\\"Key\\\": \\\"aaa\\\"\\n          }\\n        ],\\n        \\\"KeepaliveRequests\\\": 1000,\\n        \\\"Loadbalance\\\": \\\"iphash\\\"\\n      },\\n      \\\"Domain\\\": \\\"www.aliyundoc.com\\\",\\n      \\\"Cname\\\": \\\"50fqmu1ci7g0xtiyxnrhgx6qdhmn****.yundunwaf5.com\\\"\\n    }\\n  ],\\n  \\\"TotalCount\\\": 24,\\n  \\\"RequestId\\\": \\\"98D2AA9A-5959-5CCD-83E3-B6606232A2BE\\\"\\n}\",\"type\":\"json\"}]","title":"查询混合云CNAME接入列表"},"CreateDefenseResource":{"summary":"创建防护对象。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"106302","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"Resource","in":"query","schema":{"title":"防护对象名称","description":"防护对象名称。\n> \n> - 只有混合云服务化的防护对象支持自定义防护对象名称。","type":"string","required":false,"example":"abctest.com"}},{"name":"Product","in":"query","schema":{"title":"云产品名称。例如 alb，clb等","description":"云产品名称。取值：\n\n- **alb**：表示ALB产品。\n\n- **ecs**：表示ECS产品。\n\n- **clb4**：表示CLB产品4层接入。\n\n- **clb7**：表示CLB产品7层接入。\n\n- **nlb**：表示NLB产品。\n\n- **waf**：表示WAF产品。","type":"string","required":true,"example":"ecs"}},{"name":"ResourceGroup","in":"query","schema":{"title":"防护对象加入防护组的名称，可选。","description":"防护对象加入防护组的名称，可选。","type":"string","required":false,"example":"testGroup"}},{"name":"ResourceOrigin","in":"query","schema":{"title":"防护对象来源， custom：来自用户自定义 access:   来自接入","description":"防护对象来源。只支持取值：\n\n- **custom**：用户自定义。","type":"string","required":true,"example":"custom"}},{"name":"Pattern","in":"query","schema":{"title":"防护对象的防护形式","description":"防护对象的防护形式。取值：\n\n- **domain**：表示以域名方式防护。\n\n- **multi_service**：表示以混合云服务化的方式防护。","type":"string","required":true,"example":"domain"}},{"name":"Detail","in":"query","schema":{"title":"防护对象的具体描述信息，Map中不同的键值对表示防护对象不同的属性","description":"防护对象的具体参数信息，以一系列参数构造的JSON格式转化成字符串。\n\n> 根据所指定的**云产品**（**Product**）和**防护形式**（**Pattern**）不同，具体涉及的参数有所不同。详细信息，请参见**防护对象Detail参数描述**。","type":"string","required":true,"example":"{\\\"domain\\\": \\\"zhhclb4test096-05111.test.com\\\"}"}},{"name":"XffStatus","in":"query","schema":{"title":"防护对象是否开启xff代理，默认为0 0=未开启 1=开启","description":"防护对象是否开启xff代理。取值：\n\n- **0**：未开启（默认）。\n\n- **1**：开启。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"CustomHeaders","in":"query","style":"json","schema":{"title":"自定义xff头用来去真实的客户端源IP，当xff=1且该字段为空时表示取xff头中第一个IP作为客户端源IP","description":"指定 Header 字段列表。\n> XffStatus = 1时，取指定 Header 字段中的第一个 IP 作为客户端源 IP，避免 XFF 伪造，输入多个 Header 时按顺序依次尝试取源 IP，如果第一个取不到则取第二个，依次类推，如果所有指定 Header 都取不到，则取 X-Forwarded-For 中第一个 IP。XffStatus = 1时，表示从第一个获取。","type":"array","items":{"description":"指定的 Header 字段。","type":"string","required":false,"example":"x-forwarded-for"},"required":false}},{"name":"Description","in":"query","schema":{"title":"防护对象1domain \t描述信息。","description":"防护对象描述信息。","type":"string","required":false,"example":"test"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-4xl*******"}},{"name":"OwnerUserId","in":"query","schema":{"description":"多账号场景时，防护对象所属的账号ID。默认防护对象属于WAF管理员账号。","type":"string","required":false,"example":"123221XXX"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"title":"标签列表，最多包含20个子项","description":"标签列表，最多包含20个子项。","type":"array","items":{"description":"资源标签列表，最多包含20个子项。","type":"object","properties":{"Key":{"title":"标签键","description":"标签键。","type":"string","required":false,"example":"demoTagKey"},"Value":{"title":"标签值","description":"标签值。","type":"string","required":false,"example":"TagValue1"}},"required":false},"required":false,"maxItems":21}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"1738C613-D054-5191-888B-DC0CF4C3A4A0"},"Resource":{"description":"创建的防护对象名称。","type":"string","example":"cdX.XXX-call.cn-alb"}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.ResourceExsit","errorMessage":"Access resource already exists, resource:%s."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"1738C613-D054-5191-888B-DC0CF4C3A4A0\\\",\\n  \\\"Resource\\\": \\\"cdX.XXX-call.cn-alb\\\"\\n}\",\"type\":\"json\"}]","title":"创建防护对象","requestParamsDescription":"## 防护对象Detail参数描述\n### ALB域名接入（Product取值为alb，Pattern取值为domain）\n将已接入WAF的ALB实例中的某个域名添加为防护对象。\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|instanceId|String|必选|alb-cj3w3********1x|已接入WAF的ALB实例ID。|\n|domain|String|必选|alb.test.com|要接入WAF防护的域名。|\n\n#### 示例\n``` json\n{\n    \"domain\": \"alb.test.com\",\n    \"instanceId\": \"alb-cj3w3********1x\"\n}\n```\n\n### ECS域名接入（Product取值为ecs，Pattern取值为domain）\n将已接入WAF的ECS实例中的某个域名添加为防护对象。\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|domain|String|必选|ecs.test.com|要接入WAF防护的域名。|\n\n#### 示例\n``` json\n{\n    \"domain\": \"ecs.test.com\"\n}\n```\n\n### CLB域名接入（Product取值为clb4或clb7，Pattern取值为domain）\n将已接入WAF的CLB实例中的某个域名添加为防护对象。\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|domain|String|必选|clb.test.com|要接入WAF防护的域名。|\n\n#### 示例\n``` json\n{\n    \"domain\": \"clb.test.com\"\n}\n```\n\n\n### NLB域名接入（Product取值为nlb，Pattern取值为domain）\n将已接入WAF的CLB实例中的某个域名添加为防护对象。\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|domain|String|必选|nlb.test.com|要接入WAF防护的域名。|\n\n#### 示例\n``` json\n{\n    \"domain\": \"nlb.test.com\"\n}\n```\n\n### WAF混合云服务化接入（Product取值为waf，Pattern取值为multi_service）\n将WAF混合云服务化接入集群的某个域名路径创建防护对象。\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|domain|String|必选|a.test.com|要接入WAF防护的域名或IP。|\n|url|String|必选|/abc|URL路径|\n\n#### 示例\n``` json\n{\n    \"domain\": \"a.test.com\",\n    \"url\": \"/abc\"\n}\n```"},"DeleteDefenseResource":{"summary":"删除防护对象。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"106306","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-9lb*******"}},{"name":"Resource","in":"query","schema":{"title":"防护对象名称","description":"防护对象名称。","type":"string","required":true,"example":"zhh*****.test.top-clb7"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"745F051D-95FD-57EC-9DC1-79BB4883C6A4"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"745F051D-95FD-57EC-9DC1-79BB4883C6A4\\\"\\n}\",\"type\":\"json\"}]","title":"删除防护对象"},"CreateDefenseResourceGroup":{"summary":"创建防护对象组。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"106349","abilityTreeNodes":["FEATUREwafHQWDCC"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"GroupName","in":"query","schema":{"description":"要创建的防护对象组名称。","type":"string","required":true,"example":"group221"}},{"name":"AddList","in":"query","schema":{"description":"要添加到防护对象组的防护对象。支持一次添加多个防护对象到防护对象组。多个防护对象之间使用英文逗号（,）分隔。","type":"string","required":false,"example":"test1.aliyundoc.com,test2.aliyundoc.com\n"}},{"name":"Description","in":"query","schema":{"description":"防护对象组描述信息。","type":"string","required":false,"example":"test_domain"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5D69B341-4F97-58E7-9E16-1B17FE7A9E98"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5D69B341-4F97-58E7-9E16-1B17FE7A9E98\\\"\\n}\",\"type\":\"json\"}]","title":"创建防护对象组"},"ModifyDefenseResourceGroup":{"summary":"修改防护对象组配置信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"106353","abilityTreeNodes":["FEATUREwafHQWDCC"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"GroupName","in":"query","schema":{"description":"要修改的防护对象组名称。","type":"string","required":true,"example":"test01"}},{"name":"AddList","in":"query","schema":{"description":"要添加到防护对象组中的防护对象。多个防护对象之间使用英文逗号（,）分隔。该参数为空，表示防护对象组不添加任何防护对象。","type":"string","required":false,"example":"test1.aliyundoc.com,test2.aliyundoc.com"}},{"name":"DeleteList","in":"query","schema":{"description":"要从防护对象组中删除的防护对象。多个防护对象之间使用英文逗号（,）分隔。该参数为空，表示不从防护对象组中删除任何防护对象。","type":"string","required":false,"example":"test14.waf.com,test24.waf.com"}},{"name":"Description","in":"query","schema":{"description":"防护对象组描述信息。","type":"string","required":false,"example":"test"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2CC1AFDE-BB31-5A2F-906E-92FCBDDE6B75"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2CC1AFDE-BB31-5A2F-906E-92FCBDDE6B75\\\"\\n}\",\"type\":\"json\"}]","title":"修改防护对象组"},"DeleteDefenseResourceGroup":{"summary":"删除防护对象组。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"106355","abilityTreeNodes":["FEATUREwafHQWDCC"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"GroupName","in":"query","schema":{"description":"要删除的防护对象组名称。","type":"string","required":true,"example":"group221"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"25BE1169-9AE4-5D7D-8293-C33242ABB549"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"25BE1169-9AE4-5D7D-8293-C33242ABB549\\\"\\n}\",\"type\":\"json\"}]","title":"删除防护对象组"},"DescribeDefenseResourceGroup":{"summary":"查询单个防护对象组信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafHQWDCC"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"GroupName","in":"query","schema":{"description":"要查询的防护对象组名称。","type":"string","required":true,"example":"group221"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"Group":{"description":"防护组信息。","type":"object","properties":{"GroupName":{"description":"要查询的防护对象组名称。","type":"string","example":"group1"},"GmtCreate":{"description":"防护对象组的创建时间。","type":"integer","format":"int64","example":"23242312312"},"ResourceList":{"description":"已加入防护对象组的所有防护对象。多个防护对象之间使用英文逗号（,）分隔。","type":"string","example":"test1.aliyundoc.com,test2.aliyundoc.com"},"Description":{"description":"防护对象组描述信息。","type":"string","example":"test"},"GmtModified":{"description":"防护对象组的修改时间。","type":"integer","format":"int64","example":"23242312312"}}},"RequestId":{"description":"请求ID。","type":"string","example":"E67D21C6-5376-5F94-B745-70E08D03E3CB"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Group\\\": {\\n    \\\"GroupName\\\": \\\"group1\\\",\\n    \\\"GmtCreate\\\": 23242312312,\\n    \\\"ResourceList\\\": \\\"test1.aliyundoc.com,test2.aliyundoc.com\\\",\\n    \\\"Description\\\": \\\"test\\\",\\n    \\\"GmtModified\\\": 23242312312\\n  },\\n  \\\"RequestId\\\": \\\"E67D21C6-5376-5F94-B745-70E08D03E3CB\\\"\\n}\",\"type\":\"json\"}]","title":"查询单个防护对象组"},"DescribeDefenseResourceGroups":{"summary":"分页查询防护对象组。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-wwo36****0i"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfmxc7lf****eq"}},{"name":"GroupNameLike","in":"query","schema":{"description":"要查询的防护对象组名称。您可以设置该参数，模糊查询已创建的防护对象组。","type":"string","required":false,"example":"demoGroupName"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第 1 页数据。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**20**，表示每页包含 20 条结果。","type":"integer","format":"int32","required":false,"example":"20","default":"20"}},{"name":"GroupNames","in":"query","schema":{"description":"要查询的多个防护对象组。您可以设置该参数，查询多个已创建的防护对象组，多个防护对象组之间使用英文逗号（,）分隔。","type":"string","required":false,"example":"groupName1,groupName2"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"BFEC5C77-049B-5E88-A5B6-CB0C****B66E"},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"10"},"Groups":{"description":"防护对象组列表。","type":"array","items":{"description":"防护对象组。","type":"object","properties":{"Description":{"description":"防护对象组描述信息。","type":"string","example":"This is test description"},"GmtCreate":{"description":"防护对象组的创建时间。单位：毫秒。","type":"integer","format":"int64","example":"1624343180000"},"GmtModified":{"description":"防护对象组的修改时间。单位：毫秒。","type":"integer","format":"int64","example":"1701656305000"},"GroupName":{"description":"防护对象组名称。","type":"string","example":"apptest"},"ResourceList":{"description":"防护对象组加入的防护对象名称集合，多个防护对象之间使用英文逗号（,）分隔。","type":"string","example":"example02.aliyun-waf,example01.aliyun-waf"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"BFEC5C77-049B-5E88-A5B6-CB0C****B66E\\\",\\n  \\\"TotalCount\\\": 10,\\n  \\\"Groups\\\": [\\n    {\\n      \\\"Description\\\": \\\"This is test description\\\",\\n      \\\"GmtCreate\\\": 1624343180000,\\n      \\\"GmtModified\\\": 1701656305000,\\n      \\\"GroupName\\\": \\\"apptest\\\",\\n      \\\"ResourceList\\\": \\\"example02.aliyun-waf,example01.aliyun-waf\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"分页查询防护对象组"},"DescribeDefenseResourceGroupNames":{"summary":"查询防护对象组名称列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafHQWDCC"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-lbj****cc03"}},{"name":"GroupNameLike","in":"query","schema":{"description":"要查询的防护对象组名称。您可以设置该参数，模糊查询已创建的防护对象组名称。","type":"string","required":false,"enumValueTitles":{},"example":"example-group"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第 1 页数据。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**20**，表示每页包含 20 条结果。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzwwk****cv5i"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"8"},"GroupNames":{"description":"防护对象组名称列表。","type":"array","items":{"description":"防护对象组名称。","type":"string","example":"example-group-name"}},"RequestId":{"description":"请求ID。","type":"string","example":"59DA4258-2F32-5095-B283-57AC****70B3"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 8,\\n  \\\"GroupNames\\\": [\\n    \\\"example-group-name\\\"\\n  ],\\n  \\\"RequestId\\\": \\\"59DA4258-2F32-5095-B283-57AC****70B3\\\"\\n}\",\"type\":\"json\"}]","title":"查询防护对象组名称列表"},"DescribeDefenseResource":{"summary":"查询单个防护对象。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","abilityTreeCode":"106335","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-4xl****i60i"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Resource","in":"query","schema":{"title":"防护对象名称","description":"要查询的防护对象名称。您可以设置该参数，精确查询已接入 WAF 的防护对象。","type":"string","required":true,"example":"example.aliyundoc.com-waf\t"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"description":"请求返回结构体。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"439AADF2-368C-5E98-B14E-3086****0573"},"Resource":{"description":"防护对象信息。","type":"object","properties":{"GmtCreate":{"description":"防护对象创建时间，单位：毫秒。","type":"integer","format":"int64","example":"1607493144000"},"GmtModified":{"description":"防护对象修改时间，单位：毫秒。","type":"integer","format":"int64","example":"1691720010000"},"Product":{"description":"云产品名称。","type":"string","example":"alb"},"Resource":{"description":"防护对象名称。","type":"string","example":"alb-rencs***\n"},"ResourceGroup":{"description":"防护对象加入的防护对象组的名称。","type":"string","example":"example_resource_group"},"Detail":{"description":"防护对象的具体描述信息，Map 中不同的键值对表示防护对象不同的属性。","type":"object","example":"{\n\"product\": \"waf\",\n \"domain\": \"demo.aliyundoc****.com\"\n}"},"Pattern":{"description":"防护对象的防护形式。","type":"string","example":"domain"},"XffStatus":{"description":"WAF 前是否开启七层代理（高防/CDN 等）。取值：\n\n- **0**：未开启。\n\n- **1**：开启。","type":"integer","format":"int32","example":"0"},"CustomHeaders":{"description":"指定 Header 字段列表。\n> XffStatus = 1时，取指定 Header 字段中的第一个 IP 作为客户端源 IP，避免 XFF 伪造，输入多个 Header 时按顺序依次尝试取源 IP，如果第一个取不到则取第二个，依次类推，如果所有指定 Header 都取不到，则取 X-Forwarded-For 中第一个 IP。XffStatus = 1时，表示从第一个获取。","type":"array","items":{"description":"指定的 Header 字段。","type":"string","example":"x-forwarded-for"}},"ResourceOrigin":{"description":"防护对象来源。取值：\n\n- **custom**：表示从接入管理创建的防护对象。\n\n- **access**：表示用户自定义创建的防护对象。","type":"string","example":"custom"},"Description":{"description":"描述信息。","type":"string","example":"This is Description"},"ResourceManagerResourceGroupId":{"description":"阿里云资源组ID。","type":"string","example":"rg-acfmoiy****p2oq"},"AcwCookieStatus":{"description":"跟踪cookie开关状态。\n\n- **0**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","example":"0"},"AcwSecureStatus":{"description":"跟踪cookie的secure属性状态。\n\n- **0**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","example":"0"},"AcwV3SecureStatus":{"description":"滑块cookie的secure属性状态。\n\n- **0**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","example":"0"},"OwnerUserId":{"description":"防护对象归属UID。","type":"string","example":"170457******9107"},"ResponseHeaders":{"description":"响应头参数。","type":"array","items":{"description":"响应头参数","type":"object","properties":{"Key":{"description":"指定的自定义响应头的键。","type":"string","example":"Header-Key\n"},"Value":{"description":"指定的自定义响应头的值。","type":"string","example":"Header-Value\n"}}}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"439AADF2-368C-5E98-B14E-3086****0573\\\",\\n  \\\"Resource\\\": {\\n    \\\"GmtCreate\\\": 1607493144000,\\n    \\\"GmtModified\\\": 1691720010000,\\n    \\\"Product\\\": \\\"alb\\\",\\n    \\\"Resource\\\": \\\"alb-rencs***\\\\n\\\",\\n    \\\"ResourceGroup\\\": \\\"example_resource_group\\\",\\n    \\\"Detail\\\": {\\n      \\\"product\\\": \\\"waf\\\",\\n      \\\"domain\\\": \\\"demo.aliyundoc****.com\\\"\\n    },\\n    \\\"Pattern\\\": \\\"domain\\\",\\n    \\\"XffStatus\\\": 0,\\n    \\\"CustomHeaders\\\": [\\n      \\\"x-forwarded-for\\\"\\n    ],\\n    \\\"ResourceOrigin\\\": \\\"custom\\\",\\n    \\\"Description\\\": \\\"This is Description\\\",\\n    \\\"ResourceManagerResourceGroupId\\\": \\\"rg-acfmoiy****p2oq\\\",\\n    \\\"AcwCookieStatus\\\": 0,\\n    \\\"AcwSecureStatus\\\": 0,\\n    \\\"AcwV3SecureStatus\\\": 0,\\n    \\\"OwnerUserId\\\": \\\"170457******9107\\\",\\n    \\\"ResponseHeaders\\\": [\\n      {\\n        \\\"Key\\\": \\\"Header-Key\\\\n\\\",\\n        \\\"Value\\\": \\\"Header-Value\\\\n\\\"\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询单个防护对象"},"DescribeDefenseResources":{"summary":"分页查询防护对象。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"106336","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"Query","in":"query","schema":{"description":"查询条件，JSON格式的字符串。\n\n>根据不同的查询条件，查询到的防护对象结果不同。详细信息，请参见**Query参数描述**。\n","type":"string","required":false,"example":"{\\\"product\\\":\\\"waf\\\"}"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"资源标签列表，最多包含20个子项。","type":"array","items":{"description":"资源标签，由标签建和标签值组成。","type":"object","properties":{"Value":{"description":"标签值。","type":"string","required":false,"example":"TagValue1"},"Key":{"description":"标签键。","type":"string","required":false,"example":"Tagkey1"}},"required":false},"required":false,"maxItems":21}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"description":"请求返回结构体。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"73"},"RequestId":{"description":"请求ID。","type":"string","example":"618F2626-DB27-5187-8C6C-4E61A491****"},"Resources":{"description":"防护对象列表。","type":"array","items":{"description":"防护对象信息。","type":"object","properties":{"Pattern":{"description":"防护对象的防护形式。","type":"string","example":"domain"},"Description":{"description":"描述信息。","type":"string","example":"test"},"XffStatus":{"description":"防护对象是否开启xff代理。","type":"integer","format":"int32","example":"1"},"GmtModified":{"description":"防护对象修改时间，单位：毫秒。","type":"integer","format":"int64","example":"1665633032000"},"Resource":{"description":"防护对象名称。","type":"string","example":"alb-rencs***"},"AcwV3SecureStatus":{"description":"滑块cookie的secure属性状态。\n\n- **0**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","example":"0"},"Product":{"description":"云产品名称。","type":"string","example":"alb"},"AcwCookieStatus":{"description":"跟踪cookie开关状态。\n\n- **0**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","example":"1"},"AcwSecureStatus":{"description":"跟踪cookie的secure属性状态。\n\n- **0**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","example":"0"},"ResourceManagerResourceGroupId":{"description":"阿里云资源组ID。","type":"string","example":"rg-acfm***q"},"GmtCreate":{"description":"防护对象创建时间，单位：毫秒。","type":"integer","format":"int64","example":"1652149203187"},"OwnerUserId":{"description":"多账号统一管理场景中防护对象资产归属账号。","type":"string","example":"135*********46"},"ResourceOrigin":{"description":"防护对象来源。","type":"string","example":"custom"},"ResourceGroup":{"description":"防护对象加入防护组的名称。","type":"string","example":"test"},"Detail":{"description":"防护对象的具体描述信息，Map中不同的键值对表示防护对象不同的属性。","type":"object"},"CustomHeaders":{"description":"自定义xff头用来取真实的客户端源IP，当xff=1且该字段为空时表示取xff头中第一个IP作为客户端源IP。","type":"array","items":{"description":"自定义头字段信息。","type":"string","example":"afbfbajf"}},"ResponseHeaders":{"description":"响应头参数","type":"array","items":{"description":"响应头参数","type":"object","properties":{"Key":{"description":"指定的自定义响应头的键。","type":"string","example":"Header-Key"},"Value":{"description":"指定的自定义响应头的值。","type":"string","example":"Header-Value"}}}}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 73,\\n  \\\"RequestId\\\": \\\"618F2626-DB27-5187-8C6C-4E61A491****\\\",\\n  \\\"Resources\\\": [\\n    {\\n      \\\"Pattern\\\": \\\"domain\\\",\\n      \\\"Description\\\": \\\"test\\\",\\n      \\\"XffStatus\\\": 1,\\n      \\\"GmtModified\\\": 1665633032000,\\n      \\\"Resource\\\": \\\"alb-rencs***\\\",\\n      \\\"AcwV3SecureStatus\\\": 0,\\n      \\\"Product\\\": \\\"alb\\\",\\n      \\\"AcwCookieStatus\\\": 1,\\n      \\\"AcwSecureStatus\\\": 0,\\n      \\\"ResourceManagerResourceGroupId\\\": \\\"rg-acfm***q\\\",\\n      \\\"GmtCreate\\\": 1652149203187,\\n      \\\"OwnerUserId\\\": \\\"135*********46\\\",\\n      \\\"ResourceOrigin\\\": \\\"custom\\\",\\n      \\\"ResourceGroup\\\": \\\"test\\\",\\n      \\\"Detail\\\": {\\n        \\\"test\\\": \\\"test\\\",\\n        \\\"test2\\\": 1\\n      },\\n      \\\"CustomHeaders\\\": [\\n        \\\"afbfbajf\\\"\\n      ],\\n      \\\"ResponseHeaders\\\": [\\n        {\\n          \\\"Key\\\": \\\"Header-Key\\\",\\n          \\\"Value\\\": \\\"Header-Value\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"分页查询防护对象","requestParamsDescription":"### Query参数详解\n##### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|product | String|可选|waf|资产类型，取值：<br> - **waf**：表示通过Cname或其他方式接入WAF。<br> -  **alb**：表示通过ALB接入。<br> -  **clb**：表示通过CLB接入。<br> -  **ecs**：表示通过ECS接入。<br> -  **mse**：表示通过MSE接入。<br> -  **fc**：表示通过FC接入。|\n|resourceLike | String|可选|example.aliyundoc.c|要查询的防护对象名称。您可以设置该参数，模糊查询已接入WAF的防护对象。\n|resource|String|可选|example.aliyundoc.com-waf|要查询的防护对象名称。您可以设置该参数，精确查询已接入WAF的防护对象。\n|resourceIn|String|可选|example1.aliyundoc.com,example2.aliyundoc.com|要查询的多个防护对象。您可以设置该参数，查询多个已接入WAF的防护对象。多个防护对象之间使用英文逗号（,）分隔。\n|instanceId|String|可选|alb-nifa24****|要查询的防护对象的实例ID。您可以设置该参数，精确查询已接入WAF的防护对象的实例ID。\n|domain|String|可选|example.aliyundoc.com|要查询的防护对象的域名。您可以设置该参数，精确查询已接入WAF的防护对象的域名。\n|resourceGroup|String|可选|group1|要查询的防护对象组。\n|inGroup|Boolean|可选|true|防护对象是否已加入该防护对象组。\n|ownerUserId|String|可选|135********23|要查询防护对象的资产归属账号。您可以设置该参数，精确查询多账号场景中归属某一账号的WAF防护对象。\n|orderBy|String|可选|resource|设置防护对象排序方式。取值：<br> - **resource** : 表示按防护对象名称排序。 <br> - **gmtModified** : 表示按修改时间排序。\n|desc|Boolean|可选|true|设置排序顺序。取值：<br> - **false** : 表示正序显示。<br> - **true** : 表示倒序显示。\n\n##### 示例\n``` json\n{\n    \"product \": \"waf\",\n    \"resource\": \"example.aliyundoc.com-waf\",\n    \"domain\": \"example.aliyundoc.com\",\n    \"resourceLike \": \"example.aliyundoc.c\",\n    \"InstaneId\": \"waf_cn****\",\n    \"resourceIn\": \"example1.aliyundoc.com,example2.aliyundoc.com\",\n    \"ownerUserId\": \"135**********41\"\n}\n```"},"DescribeDefenseResourceNames":{"summary":"分页查询防护对象名称列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-9lb****5s03"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzd4c****pdwy"}},{"name":"Resource","in":"query","schema":{"description":"要查询的防护对象名称。","type":"string","required":false,"example":"example.xxxxaliyundoc.com"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第 1 页数据。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**20**，表示每页包含 20 条结果。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"C1823E96-EF4B-5BD2-9E02-1D18****3ED8"},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"75"},"Resources":{"description":"防护对象名称列表。","type":"array","items":{"description":"防护对象名称。","type":"string","example":"example.aliyundoc.com-waf"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C1823E96-EF4B-5BD2-9E02-1D18****3ED8\\\",\\n  \\\"TotalCount\\\": 75,\\n  \\\"Resources\\\": [\\n    \\\"example.aliyundoc.com-waf\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护对象名称列表"},"DescribeDefenseResourceOwnerUid":{"summary":"多账号统一管理场景中，用于查询防护对象的资产归属账号。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"213063","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn********60f"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"ResourceNames","in":"query","schema":{"description":"要查询的防护对象，多个防护对象用逗号（,）隔开，单次查询的防护对象个数最多支持100个。","type":"string","required":true,"example":"a.com-waf,b.com-waf"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"7326952B-B83B-5B7C-84FA-77F3E17310A2"},"OwnerInfos":{"description":"防护对象的归属账号信息。","type":"array","items":{"type":"object","properties":{"ResourceName":{"description":"防护对象名称。","type":"string","example":"a.com-waf"},"OwnerUserId":{"description":"防护对象资产归属账号ID。","type":"string","example":"125************21"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7326952B-B83B-5B7C-84FA-77F3E17310A2\\\",\\n  \\\"OwnerInfos\\\": [\\n    {\\n      \\\"ResourceName\\\": \\\"a.com-waf\\\",\\n      \\\"OwnerUserId\\\": \\\"125************21\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护对象资产归属账号"},"ModifyDefenseResourceXff":{"summary":"修改防护对象的客户端IP和cookie设置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"144829","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"XffStatus","in":"query","schema":{"description":"WAF前是否开启七层代理（高防/CDN等）。取值：\n\n- **0（默认）**：未开启。\n\n- **1**：开启。","type":"integer","format":"int32","required":true,"example":"0"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-wwo****ek07"}},{"name":"CustomHeaders","in":"query","style":"repeatList","schema":{"description":"指定Header字段列表。\n\n> 取指定Header字段中的第一个IP作为客户端源IP，避免XFF伪造，输入多个Header时按顺序依次尝试取源IP，如果第一个取不到则取第二个，依次类推，如果所有指定Header都取不到，则取X-Forwarded-For中第一个IP","type":"array","items":{"description":"指定的Header字段。","type":"string","required":false,"example":"x-forwarded-for"},"required":false,"maxItems":5}},{"name":"Resource","in":"query","schema":{"description":"防护对象名称。","type":"string","required":true,"example":"alb-4pxu81fgagx3h6y****-alb"}},{"name":"AcwCookieStatus","in":"query","schema":{"description":"跟踪cookie开关状态。\n\n- **0**：表示关闭。\n\n- **1（默认）**：表示开启。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"AcwSecureStatus","in":"query","schema":{"description":"跟踪cookie的secure属性状态。\n\n- **0（默认）**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"AcwV3SecureStatus","in":"query","schema":{"description":"滑块cookie的secure属性状态。\n\n- **0（默认）**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResponseHeaders","in":"query","style":"repeatList","schema":{"description":"响应头参数","type":"array","items":{"description":"响应头参数","type":"object","properties":{"Key":{"description":"指定的自定义响应头的键。","type":"string","required":false,"example":"Header-Key\n","maxLength":50},"Value":{"description":"指定的自定义响应头的值。","type":"string","required":false,"example":"Header-Value\n","maxLength":50}},"required":false},"required":false,"maxItems":5}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm2ki****miwq"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"6C094583-9B3F-5BD8-8748-DC638E48****"}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Pullin.AbnormalStatus","errorMessage":"The status of the access resource is abnormal. Resource:%s."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"6C094583-9B3F-5BD8-8748-DC638E48****\\\"\\n}\",\"type\":\"json\"}]","title":"修改防护对象的客户端IP和cookie设置"},"DescribePauseProtectionStatus":{"summary":"获取WAF防护状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"222987","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"D7861F61-****-46CE-A47C-6B19****5EB0"},"PauseStatus":{"description":"暂停防护状态。\n\n- **0（默认）**：表示未暂停防护。\n- **1**：表示已暂停防护。","type":"integer","format":"int32","example":"0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-****-46CE-A47C-6B19****5EB0\\\",\\n  \\\"PauseStatus\\\": 0\\n}\",\"type\":\"json\"}]","title":"获取WAF防护状态"},"DescribeDefenseGroupValidResources":{"summary":"分页查询防护组待关联的防护对象列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafHQWDCC"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-zxu****jc01"}},{"name":"Resource","in":"query","schema":{"description":"要查询的防护对象。","type":"string","required":false,"example":"example.aliyun-waf"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，当前页的页码。默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页的行数。默认值为**20**。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"GroupName","in":"query","schema":{"description":"要查询的防护对象组名称。\n> 当不设置该参数时，可用于创建防护组时，查询防护组可关联的防护对象列表。","type":"string","required":false,"example":"group221"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek2lrm****6pnq"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"12"},"RequestId":{"description":"请求ID。","type":"string","example":"A57BA089-3B28-5C82-8331-7B94****4978"},"Resources":{"description":"防护对象名称列表。","type":"array","items":{"description":"防护对象名称。","type":"string","example":"example.aliyun-waf\n"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 12,\\n  \\\"RequestId\\\": \\\"A57BA089-3B28-5C82-8331-7B94****4978\\\",\\n  \\\"Resources\\\": [\\n    \\\"example.aliyun-waf\\\\n\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护组待关联防护对象列表"},"CreateDefenseTemplate":{"summary":"创建防护模板。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"106370","abilityTreeNodes":["FEATUREwaf1LM6V0","FEATUREwafI1HM4C","FEATUREwafCU29M8","FEATUREwafBWO4L0","FEATUREwaf9JXZCD","FEATUREwaf6XNOII","FEATUREwafQ73SIK","FEATUREwafAFURH8","FEATUREwafS64FX9","FEATUREwafOVI09M","FEATUREwafIFHX6M","FEATUREwafF105ZO","FEATUREwaf16U367","FEATUREwafQHH3HH","FEATUREwaf10VDFG","FEATUREwafRM5KJ7"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateName","in":"query","schema":{"description":"要创建的防护模板名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。\n\n> 相同防护场景（**DefenseScene**）的模板名称不能重复。","type":"string","required":true,"example":"test221"}},{"name":"TemplateType","in":"query","schema":{"description":"要创建的防护模板类型。取值：\n- **user_default**：表示用户默认防护。\n- **user_custom**：表示用户自定义防护。","type":"string","required":true,"example":"user_default"}},{"name":"TemplateStatus","in":"query","schema":{"description":"要创建的防护模板状态。取值：\n- **0**：表示关闭。\n- **1**：表示开启。","type":"integer","format":"int32","required":true,"example":"1"}},{"name":"DefenseScene","in":"query","schema":{"description":"防护场景。更多信息，请参见[CreateDefenseRule](~~461421~~)的**DefenseScene**参数。","type":"string","required":true,"example":"waf_group"}},{"name":"TemplateOrigin","in":"query","schema":{"description":"要创建的防护模板来源。取值为**custom**，表示用户自定义。","type":"string","required":true,"example":"custom"}},{"name":"Description","in":"query","schema":{"description":"要创建的防护模板描述信息。","type":"string","required":false,"example":"test"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"UnbindResources","in":"query","style":"flat","schema":{"description":"创建默认防护模版时解除绑定的防护对象，使用[**\"XX1\",\"XX2\",……**]格式。\n> 该参数只在创建**默认模版**（**TemplateType**取值为**user_default**）时生效。","type":"array","items":{"description":"解除绑定的防护对象。","type":"string","required":false,"example":"abc"},"required":false,"maxItems":200}},{"name":"UnbindResourceGroups","in":"query","style":"flat","schema":{"description":"创建默认防护模版时解除绑定的防护对象组，使用[**\"group1\",\"group2\",……**]格式。\n> 该参数只在创建**默认模版**（**TemplateType**取值为**user_default**）时生效。","type":"array","items":{"description":"解除绑定的防护对象组。","type":"string","required":false,"example":"group1"},"required":false,"maxItems":200}}],"responses":{"200":{"headers":{},"schema":{"description":"请求返回结构体。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F48ABDF7-D777-5F26-892A-57349765D7A9"},"TemplateId":{"description":"防护模板ID。","type":"integer","format":"int64","example":"2212"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F48ABDF7-D777-5F26-892A-57349765D7A9\\\",\\n  \\\"TemplateId\\\": 2212\\n}\",\"type\":\"json\"}]","title":"创建防护模板"},"ModifyDefenseTemplate":{"summary":"修改防护模板。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"112175","abilityTreeNodes":["FEATUREwaf10VDFG"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateName","in":"query","schema":{"description":"要修改的防护模板名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。\n\n> 相同防护场景（**DefenseScene**）的模板名称不能重复。","type":"string","required":true,"example":"test"}},{"name":"TemplateId","in":"query","schema":{"description":"要修改的防护模板ID。","type":"integer","format":"int64","required":true,"example":"7392"}},{"name":"Description","in":"query","schema":{"description":"要修改的防护模板描述信息。","type":"string","required":false,"example":"test"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"1A68C85D-7467-5BB1-9A7E-2E8A5D96D88A"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"1A68C85D-7467-5BB1-9A7E-2E8A5D96D88A\\\"\\n}\",\"type\":\"json\"}]","title":"修改防护模板"},"ModifyDefenseTemplateStatus":{"summary":"修改防护模板状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"106371","abilityTreeNodes":["FEATUREwaf10VDFG"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"防护规则模板ID。","type":"integer","format":"int64","required":true,"example":"2249"}},{"name":"TemplateStatus","in":"query","schema":{"description":"要修改的防护模板状态。取值：\n- **0**：表示关闭。\n- **1**：表示开启。","type":"integer","format":"int32","required":true,"example":"1"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"58007AE3-65D9-57BA-ABB4-1A544015FB50"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"58007AE3-65D9-57BA-ABB4-1A544015FB50\\\"\\n}\",\"type\":\"json\"}]","title":"修改防护模板状态"},"CopyDefenseTemplate":{"summary":"复制当前防护模板，并生成一个新的防护模板。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-lbj****x10g"}},{"name":"TemplateId","in":"query","schema":{"description":"要复制的防护规则模板ID。","type":"integer","format":"int64","required":true,"example":"12345"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"},"TemplateId":{"description":"复制生成的防护模版ID。","type":"integer","format":"int64","example":"12346"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\",\\n  \\\"TemplateId\\\": 12346\\n}\",\"type\":\"json\"}]","title":"复制防护模板"},"DeleteDefenseTemplate":{"summary":"删除防护模板。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"106372","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"要删除的防护模板ID。","type":"integer","format":"int64","required":true,"example":"3155"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"E2DE6F11-6FED-5909-95F2-2520B58C5BC7"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"E2DE6F11-6FED-5909-95F2-2520B58C5BC7\\\"\\n}\",\"type\":\"json\"}]","title":"删除防护模板"},"DescribeDefenseTemplate":{"summary":"查询单个防护模板。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"106373","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"要查询的防护模板ID。","type":"integer","format":"int64","required":true,"example":"1333"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Template":{"description":"模板信息。","type":"object","properties":{"Description":{"description":"要创建的防护模板描述信息。","type":"string","example":"test"},"TemplateOrigin":{"description":"要创建的防护模板来源。取值为custom，表示用户自定义。\n\n","type":"string","example":"custom"},"DefenseSubScene":{"description":"防护模版子场景，取值：\n- **web**：表示BOT管理网页防护场景模版。\n- **app**：表示BOT管理APP防护场景模版。\n- **basic**：表示BOT管理基础防护模版。","type":"string","example":"app"},"DefenseScene":{"description":"防护场景。更多信息，请参见[CreateDefenseRule](~~CreateDefenseRule~~)的**DefenseScene**参数。","type":"string","example":"waf_group"},"GmtModified":{"description":"防护模板修改时间。","type":"integer","format":"int64","example":"1665283642000"},"TemplateName":{"description":"模板名称。","type":"string","example":"test0621"},"TemplateType":{"description":"防护模板类型。取值：\n- **user_default**：表示用户默认防护。\n- **user_custom**：表示用户自定义防护。","type":"string","example":"user_default"},"TemplateId":{"description":"防护规则模板ID。","type":"integer","format":"int64","example":"10097"},"TemplateStatus":{"description":"防护模板状态。取值：\n- **0**：表示关闭。\n- **1**：表示开启。","type":"integer","format":"int32","example":"1"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Template\\\": {\\n    \\\"Description\\\": \\\"test\\\",\\n    \\\"TemplateOrigin\\\": \\\"custom\\\",\\n    \\\"DefenseSubScene\\\": \\\"app\\\",\\n    \\\"DefenseScene\\\": \\\"waf_group\\\",\\n    \\\"GmtModified\\\": 1665283642000,\\n    \\\"TemplateName\\\": \\\"test0621\\\",\\n    \\\"TemplateType\\\": \\\"user_default\\\",\\n    \\\"TemplateId\\\": 10097,\\n    \\\"TemplateStatus\\\": 1\\n  }\\n}\",\"type\":\"json\"}]","title":"查询单个防护模板"},"DescribeDefenseTemplates":{"summary":"分页查询防护模板列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"106374","abilityTreeNodes":["FEATUREwaf1LM6V0"],"autoTest":true},"parameters":[{"name":"TemplateIds","in":"query","schema":{"description":"要查询的多个防护模板ID。您可以设置该参数，查询多个已创建的防护模板生效的防护资源，多个防护模板ID之间使用英文逗号（,）分隔。","type":"string","required":false,"example":"189731,189539,189538,189531,189540,189542,189541"}},{"name":"TemplateName","in":"query","schema":{"description":"要查询的防护模板名称。","type":"string","required":false,"example":"test"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-pe33b****03"}},{"name":"TemplateId","in":"query","schema":{"description":"防护模板ID。","type":"integer","format":"int64","required":false,"example":"39395"}},{"name":"TemplateType","in":"query","schema":{"description":"要创建的防护模板类型。取值：\n- **user_default**：表示用户默认防护。\n- **user_custom**：表示用户自定义防护。","type":"string","required":false,"example":"user_default"}},{"name":"DefenseScene","in":"query","schema":{"description":"防护场景。更多信息，请参见[CreateDefenseRule](~~461421~~)的**DefenseScene**参数。","type":"string","required":false,"example":"region_block"}},{"name":"Resource","in":"query","schema":{"description":"防护对象、防护组名称或防护资产ID。\n\n> 和ResourceType字段搭配使用，筛选生效时，两个字段都需要有值。","type":"string","required":false,"example":"ruiqiu.cc-ecs"}},{"name":"ResourceType","in":"query","schema":{"description":"防护资源类型。取值：\n- **single**（默认）：表示防护对象。\n- **group**：表示防护对象组。\n- **asset**：表示防护资产。\n\n> 和Resource字段搭配使用，筛选生效时，两个字段都需要有值。","type":"string","required":false,"example":"single","enum":["single","group","asset"]}},{"name":"DefenseSubScene","in":"query","schema":{"description":"防护模版子场景，取值：\n- **web**：表示BOT管理网页防护场景模版。\n- **app**：表示BOT管理APP防护场景模版。\n- **basic**：表示BOT管理基础防护模版。","type":"string","required":false,"example":"basic"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询请求时返回的页码。默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时每页的行数。默认值为**20**。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfmvyknl****fa"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"4F26D2F1-E288-5104-8518-05E240E337A4"},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"100"},"Templates":{"description":"防护模板列表。","type":"array","items":{"description":"防护模板。","type":"object","properties":{"DefenseScene":{"description":"要创建的WAF防护场景，取值：\n\n- **waf_group**：表示基础防护。\n\n- **antiscan**：表示扫描防护。\n\n- **ip_blacklist**：表示IP黑名单。\n\n- **custom_acl**：表示自定义规则。\n\n- **whitelist**：表示白名单。\n\n- **region_block**：表示区域封禁。\n\n- **custom_response**：表示自定义响应。\n\n- **cc**：表示CC防护。\n\n- **tamperproof**：表示网页防篡改。\n\n- **dlp**：表示信息泄露防护。\n\n","type":"string","example":"whitelist"},"GmtModified":{"description":"防护模板的创建时间，格式为时间戳，单位：毫秒。","type":"integer","format":"int64","example":"1683776070000"},"TemplateId":{"description":"防护模板ID。","type":"integer","format":"int64","example":"56477"},"TemplateName":{"description":"防护模板名称。","type":"string","example":"template-blockarea1"},"TemplateOrigin":{"description":"要创建的防护模板来源。取值为custom，表示用户自定义。\n\n","type":"string","example":"custom"},"TemplateStatus":{"description":"防护模板状态。取值：\n- **0**：表示关闭。\n- **1**：表示开启。","type":"integer","format":"int32","example":"1"},"TemplateType":{"description":"要创建的防护模板类型。取值：\n- **user_default**：表示用户默认防护。\n- **user_custom**：表示用户自定义防护。","type":"string","example":"user_custom"},"DefenseSubScene":{"description":"防护模版子场景，取值：\n- **web**：表示BOT管理网页防护场景模版。\n- **app**：表示BOT管理APP防护场景模版。\n- **basic**：表示BOT管理基础防护模版。","type":"string","example":"basic"},"Description":{"description":"该模板的描述信息。","type":"string","example":"示例防护模板。"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"4F26D2F1-E288-5104-8518-05E240E337A4\\\",\\n  \\\"TotalCount\\\": 100,\\n  \\\"Templates\\\": [\\n    {\\n      \\\"DefenseScene\\\": \\\"whitelist\\\",\\n      \\\"GmtModified\\\": 1683776070000,\\n      \\\"TemplateId\\\": 56477,\\n      \\\"TemplateName\\\": \\\"template-blockarea1\\\",\\n      \\\"TemplateOrigin\\\": \\\"custom\\\",\\n      \\\"TemplateStatus\\\": 1,\\n      \\\"TemplateType\\\": \\\"user_custom\\\",\\n      \\\"DefenseSubScene\\\": \\\"basic\\\",\\n      \\\"Description\\\": \\\"示例防护模板。\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"分页查询防护模板列表"},"ModifyTemplateResources":{"summary":"绑定或解绑防护资源与防护模板的关系。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"106377","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"防护模板ID。","type":"integer","format":"int64","required":true,"example":"2291"}},{"name":"BindResources","in":"query","style":"flat","schema":{"description":"绑定的防护对象，使用[**\"XX1\",\"XX2\",……**]格式。","type":"array","items":{"description":"绑定的防护对象。","type":"string","required":false,"example":"abc"},"required":false,"maxItems":200}},{"name":"BindResourceGroups","in":"query","style":"flat","schema":{"description":"绑定的防护对象组，使用[**\"group1\",\"group2\",……**]格式。","type":"array","items":{"description":"绑定的防护对象组。","type":"string","required":false,"example":"group1"},"required":false,"maxItems":200}},{"name":"UnbindResources","in":"query","style":"flat","schema":{"description":"解除绑定的防护对象，使用[**\"XX1\",\"XX2\",……**]格式。","type":"array","items":{"description":"解除绑定的防护对象。","type":"string","required":false,"example":"abc"},"required":false,"maxItems":200}},{"name":"UnbindResourceGroups","in":"query","style":"flat","schema":{"description":"解除绑定的防护对象组，使用[**\"group1\",\"group2\",……**]格式。","type":"array","items":{"description":"解除绑定的防护对象组。","type":"string","required":false,"example":"group1"},"required":false,"maxItems":200}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"BindAssets","in":"query","style":"flat","schema":{"title":"绑定的防护资产ID，使用[\"XX1\",\"XX2\",……]格式。","description":"绑定的防护资产ID，使用[\"XX1\",\"XX2\",……]格式。","type":"array","items":{"title":"绑定的资产ID。","description":"绑定的防护资产ID。","type":"string","required":false,"example":"6a266967ebe50041*****0438af3f3519"},"required":false,"maxItems":200}},{"name":"UnbindAssets","in":"query","style":"flat","schema":{"title":"解除绑定的防护资产ID，使用[\"XX1\",\"XX2\",……]格式。","description":"解除绑定的防护资产ID，使用[\"XX1\",\"XX2\",……]格式。","type":"array","items":{"title":"解除绑定的防护资产ID。","description":"解除绑定的防护资产ID。","type":"string","required":false,"example":"6a26696*****4193670438af3f3519"},"required":false,"maxItems":200}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"CF708F2F-FFB0-54D4-B1E0-B84A7CEB****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CF708F2F-FFB0-54D4-B1E0-B84A7CEB****\\\"\\n}\",\"type\":\"json\"}]","title":"防护资源绑定或解绑防护模板"},"DescribeTemplateResources":{"summary":"查询防护模板绑定的资源。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"防护模板ID。","type":"integer","format":"int64","required":true,"example":"1020"}},{"name":"ResourceType","in":"query","schema":{"description":"防护资源类型。取值：\n- **single**：表示防护对象。\n- **group**：表示防护对象组。\n- **asset**：表示防护资产。","type":"string","required":true,"example":"single","enum":["single","group","asset"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"NextToken","in":"query","schema":{"description":"下一页查询凭证（Token），取值为上一次 API 调用返回的**NextToken**参数值。首页查询无需传入。","type":"string","required":false,"example":"AAAAAJ7ob7*******MhJJ1ELRE="}},{"name":"MaxResults","in":"query","schema":{"description":"分页查询时每页个数。取值范围为：1-500，默认值为500。","type":"integer","format":"int32","required":false,"maximum":"500","minimum":"1","example":"20","default":"500"}},{"name":"Resource","in":"query","schema":{"description":"要模糊查询的防护对象或防护组名称。","type":"string","required":false,"example":"abc.test.com-waf"}},{"name":"AssetApi","in":"query","schema":{"title":"要模糊查询的防护资产API。","description":"要模糊查询的防护资产API。","type":"string","required":false,"example":"abc.com"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。\n","type":"string","example":"C7BC9373-3960-53B0-8968-2B13454AE18F"},"Resources":{"description":"绑定的防护对象、防护对象组名称或防护资产ID列表。","type":"array","items":{"description":"防护对象、防护对象组名称或防护资产ID。","type":"string","example":"alb-wewbb23dfset***"}},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int32","example":"25"},"NextToken":{"description":"下一页查询凭证（Token），如果有下一页，则该字段有返回值。\n> 该参数只要返回值，则说明还有下一页。您可以将返回的**NextToken**作为请求参数再次获得下一页的数据，直到无返回值，表示获取到了所有的数据。","type":"string","example":"AAAAABLQv******37sHZaHk4="},"MaxResults":{"description":"分页查询时每页个数。取值范围为：1-500，默认值为500。","type":"integer","format":"int32","example":"20"},"TemplateId":{"description":"防护模板ID。","type":"integer","format":"int64","example":"168465"}}}}},"errorCodes":{"400":[{"errorCode":"Defense.Control.DefenseTemplateNotExist","errorMessage":"The protection template does not exist."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C7BC9373-3960-53B0-8968-2B13454AE18F\\\",\\n  \\\"Resources\\\": [\\n    \\\"alb-wewbb23dfset***\\\"\\n  ],\\n  \\\"TotalCount\\\": 25,\\n  \\\"NextToken\\\": \\\"AAAAABLQv******37sHZaHk4=\\\",\\n  \\\"MaxResults\\\": 20,\\n  \\\"TemplateId\\\": 168465\\n}\",\"type\":\"json\"}]","title":"查询防护模板绑定的资源"},"DescribeTemplateResourceCount":{"summary":"查询防护模板生效的防护资源个数。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n>  您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。\n","type":"string","required":true,"example":"waf_v3prepaid_public_cn-lbj****gx08"}},{"name":"TemplateIds","in":"query","schema":{"description":"要查询的多个防护模板ID。您可以设置该参数，查询多个已创建的防护模板生效的防护资源，多个防护模板ID之间使用英文逗号（,）分隔。","type":"string","required":true,"example":"12345,12346"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzwwkpn****5i"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"B8064433-9781-5E86-806E-C1DD****1D95"},"ResourceCount":{"description":"防护模板生效的防护对象、防护对象组或防护资产个数。","type":"array","items":{"description":"防护模板生效的防护对象、防护对象组或防护资产。","type":"object","properties":{"SingleCount":{"description":"防护对象个数。","type":"integer","format":"int32","example":"30"},"GroupCount":{"description":"防护对象组个数。","type":"integer","format":"int32","example":"30"},"TemplateId":{"description":"防护模板ID。","type":"integer","format":"int64","example":"12345"},"AssetCount":{"title":"防护资产个数。","description":"防护资产个数。","type":"integer","format":"int32","example":"10"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B8064433-9781-5E86-806E-C1DD****1D95\\\",\\n  \\\"ResourceCount\\\": [\\n    {\\n      \\\"SingleCount\\\": 30,\\n      \\\"GroupCount\\\": 30,\\n      \\\"TemplateId\\\": 12345,\\n      \\\"AssetCount\\\": 10\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护模板生效的防护资源个数"},"DescribeDefenseTemplateValidResources":{"summary":"分页查询防护模板待生效防护对象列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"106347","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-27a3jyw0v04"}},{"name":"DefenseScene","in":"query","schema":{"description":"要查询防护场景。更多信息，请参见[CreateDefenseRule](~~461421~~)的**DefenseScene**参数，当防护规则类型 **DefenseType**为**template**的取值范围。","type":"string","required":true,"example":"whitelist"}},{"name":"Resource","in":"query","schema":{"description":"要查询的防护对象。","type":"string","required":false,"example":"mgw.realperson.antdigital.com"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，当前页的页码。默认值为**1**。","type":"integer","format":"int32","required":false,"example":"2","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，设置每页返回防护对象的数量。默认值为**20**。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"TemplateId","in":"query","schema":{"description":"防护模板ID。\n\n\n> 当不设置该参数时，可用于创建该防护场景（**DefenseScene**）模版时查询待关联的防护对象列表。","type":"integer","format":"int64","required":false,"example":"21202"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm2thcppfv6ay"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"34"},"RequestId":{"description":"请求ID。","type":"string","example":"C54DD36B-6380-57E5-89BA-2642757C4DB8"},"Resources":{"description":"防护对象名称列表。","type":"array","items":{"description":"防护对象名称。","type":"string","example":"showerroom.taikooliqiantan.com-waf"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 34,\\n  \\\"RequestId\\\": \\\"C54DD36B-6380-57E5-89BA-2642757C4DB8\\\",\\n  \\\"Resources\\\": [\\n    \\\"showerroom.taikooliqiantan.com-waf\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护模版待生效防护对象列表"},"DescribeDefenseTemplateValidGroups":{"summary":"查询防护模板待生效的防护对象组名称列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-nwy****pf0e"}},{"name":"GroupName","in":"query","schema":{"description":"要查询的防护对象组名称。","type":"string","required":false,"example":"group221"}},{"name":"DefenseScene","in":"query","schema":{"description":"要查询防护场景。更多信息，请参见[CreateDefenseRule](~~461421~~)的**DefenseScene**参数，当防护规则类型 **DefenseType**为**template**的取值范围。","type":"string","required":true,"example":"region_block"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第 1 页数据。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**20**，表示每页包含 20 条结果。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"TemplateId","in":"query","schema":{"description":"要查询的防护模板ID。","type":"integer","format":"int64","required":false,"example":"12345"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm2th****v6ay"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"TotalCount":{"description":"返回结果的总记录数。","type":"integer","format":"int64","example":"27"},"RequestId":{"description":"请求ID。","type":"string","example":"6EA4B39A-9C0C-5E57-993E-30B6****3AD0"},"Groups":{"description":"防护对象组名称列表。","type":"array","items":{"description":"防护对象组名称。","type":"string","example":"group_example"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 27,\\n  \\\"RequestId\\\": \\\"6EA4B39A-9C0C-5E57-993E-30B6****3AD0\\\",\\n  \\\"Groups\\\": [\\n    \\\"group_example\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护模板待生效的防护对象组名称列表"},"DescribeDefenseResourceTemplates":{"summary":"查询防护对象或防护组的防护模板。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"106375","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n>  您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。\n","type":"string","required":true,"example":"waf_v3prepaid_public_cn-9lb36****0e"}},{"name":"Resource","in":"query","schema":{"description":"要查询的防护对象或防护组名称。","type":"string","required":true,"example":"mitsuichemicals.cn-waf"}},{"name":"ResourceType","in":"query","schema":{"description":"防护资源类型。取值：\n- **single**（默认）：防护对象。\n- **group**：防护对象组。","type":"string","required":false,"example":"single","enum":["single","group","asset"]}},{"name":"RuleType","in":"query","schema":{"description":"防护规则类型。取值：\n- **defense**（默认）：防护规则\n- **whitelist**：白名单规则","type":"string","required":false,"example":"whitelist"}},{"name":"RuleId","in":"query","schema":{"description":"防护规则的ID。","type":"integer","format":"int64","required":false,"example":"20111098"}},{"name":"RuleName","in":"query","schema":{"description":"防护规则名称。","type":"string","required":false,"example":"demoRuleName"}},{"name":"TemplateName","in":"query","schema":{"description":"要查询的防护模板名称。","type":"string","required":false,"example":"test221"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek2ax2y5****pi"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2305CEB0-BA5A-5543-A1D3-3F1D08911B1C"},"Templates":{"description":"防护模板列表。","type":"array","items":{"description":"防护模板。","type":"object","properties":{"Description":{"description":"模板描述。","type":"string","example":"示例防护模板"},"TemplateOrigin":{"description":"要创建的防护模板来源。取值为custom，表示用户自定义。\n\n","type":"string","example":"custom"},"DefenseSubScene":{"description":"防护模版子场景，取值：\n- **web**：表示BOT管理网页防护场景模版。\n- **app**：表示BOT管理APP防护场景模版。\n- **basic**：表示BOT管理基础防护模版。","type":"string","example":"basic"},"DefenseScene":{"description":"要创建的WAF防护场景，取值：\n\n- **waf_group**：表示基础防护。\n\n- **antiscan**：表示扫描防护。\n\n- **ip_blacklist**：表示IP黑名单。\n\n- **custom_acl**：表示自定义规则。\n\n- **whitelist**：表示白名单。\n\n- **region_block**：表示区域封禁。\n\n- **custom_response**：表示自定义响应。\n\n- **cc**：表示CC防护。\n\n- **tamperproof**：表示网页防篡改。\n\n- **dlp**：表示信息泄露防护。\n\n","type":"string","example":"whitelist"},"GmtModified":{"description":"防护模板创建时间，格式为时间戳，单位：毫秒。","type":"integer","format":"int64","example":"1692930539000"},"TemplateName":{"description":"防护模板名称。","type":"string","example":"WAF扫描防护"},"TemplateType":{"description":"防护模板类型。取值：\n- **user_default**：表示用户默认防护。\n- **user_custom**：表示用户自定义防护。","type":"string","example":"user_custom"},"TemplateId":{"description":"防护模板ID。","type":"integer","format":"int64","example":"34328"},"TemplateStatus":{"description":"防护模板状态。取值：\n- **0**：表示关闭。\n- **1**：表示开启。","type":"integer","format":"int32","example":"1"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2305CEB0-BA5A-5543-A1D3-3F1D08911B1C\\\",\\n  \\\"Templates\\\": [\\n    {\\n      \\\"Description\\\": \\\"示例防护模板\\\",\\n      \\\"TemplateOrigin\\\": \\\"custom\\\",\\n      \\\"DefenseSubScene\\\": \\\"basic\\\",\\n      \\\"DefenseScene\\\": \\\"whitelist\\\",\\n      \\\"GmtModified\\\": 1692930539000,\\n      \\\"TemplateName\\\": \\\"WAF扫描防护\\\",\\n      \\\"TemplateType\\\": \\\"user_custom\\\",\\n      \\\"TemplateId\\\": 34328,\\n      \\\"TemplateStatus\\\": 1\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护对象或防护组的防护模板"},"CreateDefenseRule":{"summary":"创建Web核心防护规则","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"106379","abilityTreeNodes":["FEATUREwaf1LM6V0","FEATUREwafI1HM4C","FEATUREwafCU29M8","FEATUREwafBWO4L0","FEATUREwaf9JXZCD","FEATUREwaf6XNOII","FEATUREwafQ73SIK","FEATUREwafAFURH8","FEATUREwafS64FX9","FEATUREwafOVI09M","FEATUREwafIFHX6M","FEATUREwafF105ZO"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看您当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-****"}},{"name":"TemplateId","in":"query","schema":{"description":"要创建的防护规则的防护模板ID。\n> 仅当 **DefenseType** 为 **template** 时，需要传入该参数。","type":"integer","format":"int64","required":false,"example":"1122"}},{"name":"DefenseScene","in":"query","schema":{"description":"要创建的WAF防护场景。\n\n当防护规则类型 **DefenseType** 为 **template** 时，取值：\n\n- **waf_group**：表示基础防护。\n- **waf_base**：表示新版Web核心防护。\n\n- **antiscan**：表示扫描防护。\n\n- **ip_blacklist**：表示IP黑名单。\n\n- **custom_acl**：表示自定义规则。\n\n- **whitelist**：表示白名单。\n\n- **region_block**：表示区域封禁。\n\n- **custom_response**：表示自定义响应。\n\n- **cc**：表示CC防护。\n\n- **tamperproof**：表示网页防篡改。\n\n- **dlp**：表示信息泄露防护。\n\n- **spike_throttle**：表示洪峰限流。\n\n\n当防护规则类型 **DefenseType** 为 **resource** 时，取值：\n\n-  **account_identifier**：表示账号提取。\n\n当防护规则类型 **DefenseType** 为 **global** 时，取值：\n\n-  **regular_custom**：表示自定义正则。","type":"string","required":true,"example":"waf_group"}},{"name":"Rules","in":"formData","schema":{"description":"规则配置内容，以一系列参数构造的JSON格式转化成字符串。\n>  根据所指定的**防护规则类型**（**DefenseScene**）不同，具体涉及的参数有所不同。详细信息，请参见**防护规则参数描述**。","type":"string","required":true,"example":"waf_group"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"DefenseType","in":"query","schema":{"description":"防护规则类型。取值：\n\n- **template**（默认）：表示模版防护规则。\n\n- **resource**：表示防护对象维度的规则。\n- **global**：表示全局维度的规则。","type":"string","required":false,"example":"template","default":"template","enum":["template","global","resource"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"Resource","in":"query","schema":{"description":"创建规则对应的防护对象。\n> 仅当 **DefenseType** 为 **resource** 时，需要传入该参数。","type":"string","required":false,"example":"sec****-waf"}}],"responses":{"200":{"schema":{"description":"返回对象结构。","type":"object","properties":{"RequestId":{"description":"当前请求的ID。","type":"string","example":"26E46541-7AAB-5565-801D-F14DBDC5****"},"RuleIds":{"description":"创建的防护规则ID，多个防护规则ID之间使用英文逗号（,）分隔。","type":"string","example":"22215,23354,462165"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"26E46541-7AAB-5565-801D-F14DBDC5****\\\",\\n  \\\"RuleIds\\\": \\\"22215,23354,462165\\\"\\n}\",\"type\":\"json\"}]","title":"创建Web核心防护规则","requestParamsDescription":"**防护规则参数描述**\n\n## 模版防护规则（**template**）\n当防护规则类型 **DefenseType** 为 **template** 时，具体的规则配置内容如下。\n### 基础防护规则（**waf_group**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|action | String|必选|block|防护规则动作。取值：<br> - **block**：表示拦截。<br>- **monitor**：表示观察。\n|policyId|Long|可选|1012|防护规则组ID。默认为中等规则组1012。\n|protectionType | String|可选|sema|防护规则类型。取值：<br> - **regular**（默认）：表示正则防护。<br>- **sema**：表示语义防护。\n|config|String|可选|{\"nonInjectionSql\":1}|自定义配置信息，以JSON字符串格式表示。具体配置信息，请参见config详细配置。\n\n**config详细配置**\n- **protectionType**配置为**sema**时（基础防护规则配置为语义防护）\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|nonInjectionSql | Integer|必选|1|非注入型攻击检测状态。取值：<br/>- **0**：表示关闭。<br/>- **1**（默认）:表示开启。|\n\n#### 示例\n``` json\n{\n    \"DefenseScene\": \"waf_group\",\n    \"TemplateId\": 322,\n    \"InstaneId\": \"waf_cn****\",\n    \"Rules\": \"[{\\\"status\\\":1,\\\"policyId\\\":1012,\\\"action\\\":\\\"block\\\"},{\\\"status\\\":1,\\\"action\\\":\\\"block\\\",\\\"protectionType\\\":\\\"sema\\\",\\\"config\\\":\\\"{\\\\\\\"nonInjectionSql\\\\\\\":1}\\\"}]\"\n}\n```\n\n### 新版Web核心防护规则（**waf_base**）\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|autoUpdate | Boolean|必选|true|自动更新，取值：<br> - **true**：表示开启自动更新。<br>- **false**：表示关闭自动更新。|\n|config | Array|必选|[{\"ruleType\":\"system\",\"ruleDetail\":[{\"ruleId\":13000412,\"ruleStatus\":1,\"ruleAction\":\"block\"}]}]|需要修改的规则配置，具体配置信息，请参见config详细配置。><notice>您可以通过DescribeBaseSystemRules接口查询该模板的系统防护规则配置； 通过DescribeDefenseRules接口查询该模板的自定义正则规则配置。></notice>|\n\n**config详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|ruleType | String|必选|system|规则类型，取值：<br>- **system**：基础防护中的系统规则。<br>- **custom**: 基础防护中的自定义正则规则|\n|ruleBatchOperationConfig | String|可选|default|批量修改规则操作，该字段非空时，RuleDetail字段必须为空。取值：<br>- **default**：恢复默认。<br>- **all_on**：所有规则状态开启。<br>- **all_off**：所有规则状态关闭。<br>- **all_block**：所有规则动作拦截。<br>- **all_monitor**：所有规则动作观察。|\n|ruleDetail | Array|可选|[{\"ruleId\":13000412,\"ruleStatus\":1,\"ruleAction\":\"block\"}]]|需要修改的规则配置。其中：<br>- **ruleId**：规则Id。<br>- **ruleStatus**：规则状态。<br>- **ruleAction**：规则动作。|\n#### 示例\n``` json\n{\n    \"DefenseScene\": \"waf_base\",\n    \"TemplateId\": 322,\n    \"InstaneId\": \"waf_cn****\",\n    \"Rules\": \"[{\\\"autoUpdate\\\":true,\\\"config\\\":[{\\\"ruleType\\\":\\\"system\\\",\\\"ruleDetail\\\":[{\\\"ruleId\\\":13000412,\\\"ruleStatus\\\":1,\\\"ruleAction\\\":\\\"block\\\"}]}]}]\"\n}\n```\n\n### 扫描防护规则（**antiscan**）\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|protectionType | String|必选|highfreq|扫描防护规则子类型。取值：<br> - **highfreq**：表示高频扫描封禁。 <br> - **dirscan**：表示目录遍历封禁。<br>- **scantools**：表示扫描工具封禁。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|action | String|必选|block|防护规则动作。取值：<br> - **block**：表示拦截。<br>- **monitor**：表示观察。\n|config|String|可选|{\\\"target\\\":\\\"remote_addr\\\",\\\"interval\\\":60,\\\"ttl\\\":180,\\\"count\\\":20}|自定义配置信息，以JSON字符串格式进行描述。具体配置信息，请参见**config详细配置**。|\n\n**config详细配置**\n- **protectionType**配置为**highfreq**时（扫描防护规则配置为高频扫描封禁）\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|target | String|必选|remote_addr|统计对象类型。取值：<br>- **remote_addr**（默认)：表示IP。<br> - **cookie.acw_tc**：表示会话。 <br> - **header**：表示自定义Header。选择自定义Header时，必须在subkey参数中填写需要统计的Header内容。<br> - **queryarg**：表示自定义参数。选择自定义参数时，必须在subkey参数中填写需要统计的自定义参数名称。<br> - **cookie**：表示自定义Cookie。选择自定义Cookie时，必须在subkey参数中填写需要统计的Cookie内容。|\n|subKey | String|可选|abc|统计对象的子特征。当**target**参数值为**cookie**、**header**或**queryarg**时，必须在subkey参数中填写对应的信息。|\n|interval | Integer|可选|60|检测时长，单位为秒。默认为60秒。<br>取值范围为：5~1800秒。|\n|ttl|Integer|可选|1800|封禁时长，单位为秒。默认为1800秒。<br>取值范围为：60~86400秒。|\n|count|Integer|可选|20|基础防护规则触发最大次数。默认为20次。<br>取值范围为：3~50000次。|\n|ruleIdCount|Integer|可选|2|触发的最大规则数。默认为2条。<br>取值范围为：1~50条。|\n\n- **protectionType**配置为**dirscan**时（扫描防护规则配置为目录遍历封禁）\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|target | String|必选|remote_addr|统计和封禁对象。取值：<br/>- **remote\\_addr**（默认)：表示IP。<br/>- **cookie.acw\\_tc**：表示会话。 <br/>- **header**：表示自定义Header。<br/>- **queryarg**：表示自定义参数。<br/>- **cookie**：表示自定义Cookie。|\n|subKey | String|可选|1|统计和封禁对象的子特征。仅target配置为**header、queryarg、cookie**时，配置该信息。\n |interval | Integer|可选|60|检测时长，单位为秒。默认为60秒。<br>取值范围为：5~1800秒。|\n|ttl|Integer|可选|1800|封禁时长，单位为秒。默认为1800秒。<br>取值范围为：60~86400秒。|\n|count|Integer|可选|20|基础防护规则触发最大次数。默认为20次。<br>取值范围为：3~50000次。|\n|weight|Float|可选|2|404响应码百分比。默认为0.7。<br>取值范围为：0.01~1.0，精确到小数点后两位。\n|uriNum|Integer|可选|2|不存在的最大目录数。默认为50个。<br>取值范围为：2~50000个。|\n\n#### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 2222,\n    \"DefenseScene\": \"antiscan\",\n    \"Rules\": \"[{\\\"protectionType\\\":\\\"scantools\\\",\\\"action\\\":\\\"block\\\",\\\"status\\\":1},{\\\"protectionType\\\":\\\"dirscan\\\",\\\"status\\\":1,\\\"action\\\":\\\"block\\\",\\\"config\\\":\\\"{\\\\\\\"target\\\\\\\":\\\\\\\"remote_addr\\\\\\\",\\\\\\\"interval\\\\\\\":10,\\\\\\\"ttl\\\\\\\":1800,\\\\\\\"weight\\\\\\\":0.7,\\\\\\\"uriNum\\\\\\\":50,\\\\\\\"count\\\\\\\":50}\\\"},{\\\"protectionType\\\":\\\"highfreq\\\",\\\"status\\\":1,\\\"action\\\":\\\"block\\\",\\\"config\\\":\\\"{\\\\\\\"target\\\\\\\":\\\\\\\"remote_addr\\\\\\\",\\\\\\\"interval\\\\\\\":60,\\\\\\\"ttl\\\\\\\":1800,\\\\\\\"count\\\\\\\":20,\\\\\\\"ruleIdCount\\\\\\\":2}\\\"}]\"\n}\n```\n### IP黑名单规则（**ip_blacklist**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|name | String|必选|iptest|IP黑名单规则名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|action | String|必选|block|防护规则动作。取值：<br> - **block**：表示拦截。<br>- **monitor**：表示观察。\n|remoteAddr|Array|必选|[\"1.1.XX.XX\", \"3.1.XX.XX/24\"]|要加入的IP黑名单列表。使用[\"ip1\",\"ip2\",……]格式表示。\n\n#### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 2222,\n    \"DefenseScene\": \"ip_blacklist\",\n    \"Rules\": \"[{\\\"name\\\":\\\"iptest1\\\",\\\"remoteAddr\\\":[\\\"1.1.1.2\\\",\\\"3.3.3.3/24\\\"],\\\"action\\\":\\\"monitor\\\",\\\"status\\\":1},{\\\"name\\\":\\\"iptest2\\\",\\\"remoteAddr\\\":[\\\"4.4.4.4\\\",\\\"5.5.5.5/32\\\"],\\\"action\\\":\\\"block\\\",\\\"status\\\":1}]\"\n}\n```\n### 自定义规则（**custom_acl**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|name | String|必选|iptest|自定义ACL规则名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|action | String|必选|block|防护规则动作。取值：<br> - **block**：表示拦截。<br>- **monitor**：表示观察。<br> - **js**：表示JS校验。<br>- **captcha**：表示滑块。<br>- **captcha_strict**：表示严格滑块。<br> **说明** 自定义ACL支持的防护规则动作，请以**WAF控制台**中展示的自定义规则动作为准。|\n|conditions|Array|必选|[{\"key\":\"IP\",\"opValue\":\"eq\",\"values\":\"11.XX.XX.1\"},{\"key\":\"Header\",\"subKey\":\"abc\",\"opValue\":\"contains\",\"values\":\"test\"}]|ACL的流量特征，以JSON字符串格式进行描述，支持填写最多五个匹配条件。具体配置信息，请参见**conditions详细配置**。|\n|ccStatus|Integer|必选|1|是否开启限速。取值：<br> - **0**：表示关闭限速。 <br> - **1**：表示开启限速。|\n|ratelimit|JSON|可选|{\"target\":\"remote_addr\",\"interval\":5,\"threshold\":2,\"ttl\":1800,\"status\":{\"code\":404,\"count\":2}}|限速详细配置，以JSON字符串格式进行描述，仅ccStatus配置为**1**时，配置该信息。具体配置信息，请参见**ratelimit详细配置**。|\n|effect|String|可选|rule|设置限速生效范围，仅ccStatus配置为**1**时，配置该信息。取值：<br> - **service**：表示生效对象为防护对象。 <br> - **rule**：表示生效对象为单规则。|\n|grayStatus|Integer|可选|1|是否开启规则的灰度生效。取值：<br> - **0（默认）**：表示关闭灰度。 <br> - **1**：表示开启灰度。|\n|grayConfig|JSON|可选|{\"grayTarget\":\"header\",\"grayRate\":80,\"graySubKey\":\"test\"}|规则生效的灰度配置，以JSON字符串格式进行描述，仅grayStatus配置为**1**时，配置该信息。具体配置信息，请参见**grayConfig详细配置**。|\n|timeConfig|JSON|可选|{\"timeScope\":\"period\",\"timeZone\":8,\"timePeriods\":[{\"start\":1758771729787,\"end\":1758816000000}]}|规则生效的定时配置，以JSON字符串格式进行描述。具体配置信息，请参见**timeConfig详细配置**。|\n\n**conditions详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|key | String|必选|IP|匹配字段。取值：URL、URLPath、IP、Referer、User-Agent、Params、Cookie、Content-Type、Content-Length、X-Forwarded-For、Post-Body、Http-Method、Header、Extension、Filename、Server-Port、Host、Cookie-Exact、Query-Arg、Post-Arg。 ><notice> 不同的WAF版本支持的匹配字段不同，请以**WAF控制台**自定义规则中匹配字段为准。|\n|subKey | String|可选|abc|自定义子匹配字段。<br> **说明** 并不是每一个自定义规则的匹配字段（**key**）都有自定义子匹配字段（**subKey**）。关于不同匹配字段是否支持自定义子匹配字段，请以**WAF控制台**自定义规则中匹配字段和自定义匹配字段的关系为准。|\n|opValue | String|必选|contain|逻辑符。取值：<br> - **not-contain**：表示不包含。<br> - **contain**：表示包含。<br> - **none**：表示不存在。<br> - **ne**：表示不等于。<br> - **eq**：表示等于。<br> - **lt**：表示值小于。<br> - **gt**：表示值大于。<br> - **len-lt**：表示长度小于。<br> - **len-eq**：表示长度等于。<br> - **len-gt**：表示长度大于。<br> - **not-match**：表示不匹配。<br> - **match-one**：表示等于多值之一。<br> - **all-not-match**：表示不等于任一值。<br> - **all-not-contain**：表示不包含任一值。<br> - **contain-one**：表示包含多值之一。<br> - **not-regex**：表示正则不匹配。<br> - **regex**：表示正则匹配。<br> - **all-not-regex**：表示正则均不匹配。<br> - **regex-one**：表示正则匹配其中之一。<br> - **prefix-match**：表示前缀匹配。<br> - **suffix-match**：表示后缀匹配。<br> - **empty**：表示内容为空。<br> - **exists**：表示字段存在。<br> - **inl**：表示在列表中。<br> **说明** 并不是每一个自定义规则的匹配字段（**key**）都能对应配置全部的逻辑符（**opValue**）。关于不同匹配字段支持使用的逻辑符，请以**WAF控制台**自定义规则中匹配字段和逻辑符的关联关系为准。|\n|values | String|必选|abc|匹配内容，根据需要填写相应的内容。<br> **说明** 匹配条件参数中的逻辑符（**opValue**）、匹配内容（**values**）参数取值范围与所指定的匹配字段（**key**）相关。|\n\n**ratelimit详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|target | String|必选|remote_addr|统计对象类型。取值：<br>- **remote_addr**（默认)：表示IP。<br> - **cookie.acw_tc**：表示会话。 <br> - **header**：表示自定义Header。选择自定义Header时，必须在subkey参数中填写需要统计的Header内容。<br> - **queryarg**：表示自定义参数。选择自定义参数时，必须在subkey参数中填写需要统计的自定义参数名称。<br> - **cookie**：表示自定义Cookie。选择自定义Cookie时，必须在subkey参数中填写需要统计的Cookie内容。|\n|subKey | String|可选|abc|统计对象的子特征。当**target**参数值为**cookie**、**header**或**queryarg**时，必须在subkey参数中填写对应的信息。|\n|interval | Integer|必选|60|统计时长，单位为秒。即访问次数的统计周期，与阈值（**threshold**）参数配合。<br>取值范围为：1~1800秒。|\n|threshold|Integer|必选|200|在检测时长内，允许单个统计对象访问被防护地址的次数阈值。|\n|ttl|Integer|必选|1800|处置动作的生效时长，单位为秒。<br>取值范围为：60~86400秒。|\n|status|JSON|可选|{\"code\":404,\"count\":200}|响应码频率设置。以JSON字符串格式进行描述，具体包含以下参数：<br>  **code**：Integer类型，必选 ，指定响应码。<br>**count**：Integer类型 ，可选，出现次数阈值，即表示当指定的响应码出现次数超过该阈值时命中防护规则。取值范围：2~50000次。count参数与ratio参数两者选其一，不可同时配置。<br>**ratio**：Integer类型 ，可选 ，出现比例阈值（百分比），即表示当指定的响应码出现比例超过该阈值时命中防护规则。取值范围：1~100。count参数与ratio参数两者选其一，不可同时配置。|\n\n**grayConfig详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|grayTarget | String|必选|80|灰度对象类型。取值：<br>- **remote_addr**（默认)：表示IP。<br> - **cookie.acw_tc**：表示会话。 <br> - **header**：表示自定义Header。选择自定义Header时，必须在graySubKey参数中填写需要统计的Header内容。<br> - **queryarg**：表示自定义参数。选择自定义参数时，必须在graySubKey参数中填写需要统计的自定义参数名称。<br> - **cookie**：表示自定义Cookie。选择自定义Cookie时，必须在graySubKey参数中填写需要统计的Cookie内容。 |\n|graySubKey | String|可选|abc|统计对象的子特征。当**grayTarget**参数值为**cookie**、**header**或**queryarg**时，必须在graySubKey参数中填写对应的信息。|\n|grayRate|Integer|必选|20|灰度生效百分比。取值范围为：1~100。|\n\n**timeConfig详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|timeScope | String|必选|perid|规则生效时间范围。取值：<br>- **permanent**（默认)：表示永久生效。<br> - **period**：表示按照时间段生效。 <br> - **cycle**：表示周期性生效。|\n|timeZone | Integer|必选|8|规则生效的时区，默认为**8**，取值范围：-12~12，其中**0**表示世界时间，**8**表示UTC+8东八区，**-8**表示UTC-8西八区。|\n|timePeriods | Array|可选|[{\"start\":1758771729787,\"end\":1758816000000}]|规则生效的时间段。当**timeScope**参数值为**period**时，必须设置该参数，支持设置多个时间段。<br> - **start**：Long类型，必选 ，规则生效的起始时间，Unix时间戳，单位为ms。<br> - **end**：Long类型，必选 ，规则生效的结束时间，Unix时间戳，单位为ms。|\n|weekTimePeriods | Array|可选|[{\"day\":\"1\",\"dayPeriods\":[{\"start\":0,\"end\":51644084}]},{\"day\":\"1,2,5\",\"dayPeriods\":[{\"start\":0,\"end\":42928908}]}]|规则周期性生效的时间段。当**timeScope**参数值为**cycle**时，必须设置该参数，支持设置多个时间段。<br>  - **day**：String类型，必选，规则生效的周期，取值范围：1~7，多个日期使用英文逗号（,）分隔。例如取值为1时，表示每周一生效。<br> - **dayPeriods**：Array类型，必选，规则每天生效的时间段，包括起始时间**start**、结束时间**end**，支持设置多个时间段。<br> &nbsp;&nbsp;&nbsp;&nbsp; &bull; **start**: Long型，必选，规则每天生效的起始时间，相对于当天0点的毫秒级时间戳，取值范围为[0-86400000)，单位为ms。<br> &nbsp;&nbsp;&nbsp;&nbsp; &bull; **end**: Long型，必选，规则每天生效的结束时间，相对于当天0点的毫秒级时间戳，取值范围为[0-86400000)，单位为ms。|\n\n#### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 6242,\n    \"DefenseScene\": \"custom_acl\",\n    \"Rules\":\"[{\\\"name\\\":\\\"acl_test\\\",\\\"action\\\":\\\"block\\\",\\\"conditions\\\":[{\\\"key\\\":\\\"URL\\\",\\\"opValue\\\":\\\"contain\\\",\\\"values\\\":\\\"abc\\\"}],\\\"ratelimit\\\":{\\\"target\\\":\\\"remote_addr\\\",\\\"interval\\\":5,\\\"threshold\\\":2,\\\"ttl\\\":1800,\\\"status\\\":{\\\"code\\\":404,\\\"count\\\":2}},\\\"ccStatus\\\":1,\\\"effect\\\":\\\"rule\\\",\\\"status\\\":1,\\\"origin\\\":\\\"custom\\\",\\\"timeConfig\\\":{\\\"timeScope\\\":\\\"cycle\\\",\\\"timeZone\\\":8,\\\"weekTimePeriods\\\":[{\\\"day\\\":\\\"1\\\",\\\"dayPeriods\\\":[{\\\"start\\\":0,\\\"end\\\":51644084}]},{\\\"day\\\":\\\"1,2,5\\\",\\\"dayPeriods\\\":[{\\\"start\\\":0,\\\"end\\\":42928908}]}]},\\\"grayStatus\\\":1,\\\"grayConfig\\\":{\\\"grayRate\\\":80,\\\"graySubKey\\\":\\\"test\\\",\\\"grayTarget\\\":\\\"header\\\"}}]\"\n}\n```\n### 白名单规则（**whitelist**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|name | String|必选|whitelistTest|白名单规则名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|conditions|Array|必选|[{\"key\":\"IP\",\"opValue\":\"eq\",\"values\":\"11.XX.XX.1\"},{\"key\":\"Header\",\"subKey\":\"abc\",\"opValue\":\"contains\",\"values\":\"test\"}]|白名单的流量特征，以JSON字符串格式进行描述，支持填写最多五个匹配条件。具体配置信息，请参见**conditions详细配置**。\n|tags|Array|必选|[\"waf\", \"regular\"]|白名单作用模块列表，使用[\"**XX1**\", \"**XX2**\",……]格式。取值：<br> - **waf**：表示全部模块。<br> - **customrule**：表示自定义规则。<br> - **blacklist**：表示IP黑名单。<br> - **antiscan**：表示扫描防护。<br> - **regular**：表示基础防护规则。<br> - **regular_rule**：表示基础防护特定正则规则。<br> - **regular_type**：表示基础防特定正则规则类型。<br> - **major_protection**：表示重保场景防护。<br> - **cc**：表示CC防护。<br> - **region_block**：表示区域封禁。<br> - **antibot_scene**：表示BOT场景防护。<br> - **dlp**：表示信息泄露防护。<br> - **tamperproof**：表示网页防篡改。<br> - **spike_throttle**：表示洪峰限流防护。|\n|regularRules|Array|可选|[ \"111111\", \"222222\" ]|不检测正则规则ID列表，使用[\"**XX1**\", \"**XX2**\",……]格式。仅白名单作用模块配置为基础防护特定正则规则（**tags**参数取值为**regular_rule**）时，配置该参数。|\n|regularTypes|Array|可选|[ \"xss\", \"css\" ]|不检测正则规则类型列表，使用[\"**XX1**\", \"**XX2**\",……]格式。仅白名单作用模块配置为Web应用正则类型（**tags**参数取值为**regular_type**）时，配置该参数。取值：<br> -  **sqli**：表示SQL注入。<br> -  **xss**：表示跨站脚本。<br> - **code_exec**：表示代码执行。<br> -  **crlf**：表示CRLF。<br> -  **lfilei**：表示本地文件包含。<br> -  **rfilei**：表示远程文件包含。<br> -  **webshell**：表示WebShell。<br> -  **csrf**：表示CSRF。<br> -  **other**：表示其他。|\n\n**conditions详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|key | String|必选|IP|匹配字段。取值：URL、URLPath、IP、Referer、User-Agent、Params、Cookie、Content-Type、Content-Length、X-Forwarded-For、Post-Body、Http-Method、Header、Server-Port、Host、Query-Arg。 ><notice> 不同的WAF版本支持的匹配字段不同，请以**WAF控制台**白名单规则中匹配字段为准。\n|subKey | String|可选|abc|自定义子匹配字段。<br> **说明** 并不是每一个白名单规则的匹配字段（**key**）都有自定义子匹配字段（**subKey**）。关于不同匹配字段是否支持自定义子匹配字段，请以**WAF控制台**白名单规则中匹配字段和自定义匹配字段的关系为准。|\n|opValue | String|必选|contain|逻辑符。取值：<br> - **not-contain**：表示不包含。<br> - **contain**：表示包含。<br> - **none**：表示不存在。<br> - **ne**：表示不等于。<br> - **eq**：表示等于。<br> - **lt**：表示值小于。<br> - **gt**：表示值大于。<br> - **len-lt**：表示长度小于。<br> - **len-eq**：表示长度等于。<br> - **len-gt**：表示长度大于。<br> - **not-match**：表示不匹配。<br> - **match-one**：表示等于多值之一。<br> - **all-not-match**：表示不等于任一值。<br> - **all-not-contain**：表示不包含任一值。<br> - **contain-one**：表示包含多值之一。<br> - **not-regex**：表示正则不匹配。<br> - **regex**：表示正则匹配。<br> - **all-not-regex**：表示正则均不匹配。<br> - **regex-one**：表示正则匹配其中之一。<br> - **prefix-match**：表示前缀匹配。<br> - **suffix-match**：表示后缀匹配。<br> - **empty**：表示内容为空。<br> - **exists**：表示字段存在。<br> - **inl**：表示在列表中。<br> **说明** 并不是每一个白名单规则的匹配字段（**key**）都能对应配置全部的逻辑符（**opValue**）。关于不同匹配字段支持使用的逻辑符，请以**WAF控制台**白名单规则中匹配字段和逻辑符的关联关系为准。\n|values | String|必选|abc|匹配内容，根据需要填写相应的内容。<br> **说明** 匹配条件参数中的逻辑符（**opValue**）、匹配内容（**values**）参数取值范围与所指定的匹配字段（**key**）相关。|\n\n#### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 9242,\n    \"DefenseScene\": \"whitelist\",\n    \"Rules\":\"[{\\\"name\\\":\\\"whitelistTest\\\",\\\"tags\\\":[\\\"regular_rule\\\",\\\"customrule\\\"],\\\"status\\\":1,\\\"origin\\\":\\\"custom\\\",\\\"conditions\\\":[{\\\"key\\\":\\\"URL\\\",\\\"opValue\\\":\\\"contain\\\",\\\"values\\\":\\\"/test\\\"},{\\\"key\\\":\\\"Header\\\",\\\"opValue\\\":\\\"eq\\\",\\\"values\\\":\\\"ffff\\\",\\\"subKey\\\":\\\"abc\\\"}],\\\"regularRules\\\":[\\\"123444\\\",\\\"444444\\\"]}]\"\n}\n```\n### 自定义响应规则（**custom_response**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|responseType | String|必选|response_block|自定义响应的类型。取值response_block，表示拦截响应。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|config|String|必选|{\\\"responseCode\\\":400,\\\"responseHeaders\\\":[{\\\"key\\\":\\\"custom\\\",\\\"value\\\":\\\"123\\\"},{\\\"key\\\":\\\"aaa\\\",\\\"value\\\":\\\"2223\\\"}],\\\"responseContent\\\":\\\"HelloWorld\\\"}|自定义配置信息，以JSON字符串格式进行描述。具体配置信息，请参见**config详细配置**。\n\n**config详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|responseCode | Integer|必选|400|指定响应码。\n|responseHeaders | Array|可选|[{\"key\":\"custom\",\"value\":\"123\"},{\"key\":\"aaaa\",\"value\":\"2223\"}]|自定义响应头列表，以JSON字符串格式进行描述。**key**为header的字段，**value**为header的值。\n|responseContent | String|必选|helloworld|自定义响应的内容。\n\n#### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 2841,\n    \"DefenseScene\": \"custom_response\",\n    \"Rules\":\"[{\\\"responseType\\\":\\\"response_block\\\",\\\"config\\\":\\\"{\\\\\\\"templateName\\\\\\\":\\\\\\\"aaa\\\\\\\",\\\\\\\"responseCode\\\\\\\":\\\\\\\"400\\\\\\\",\\\\\\\"responseContent\\\\\\\":\\\\\\\"helloWorld\\\\\\\",\\\\\\\"responseHeaders\\\\\\\":[{\\\\\\\"key\\\\\\\":\\\\\\\"test1\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"abc\\\\\\\"}]}\\\",\\\"status\\\":1}]\"\n}\n```\n### 区域封禁规则（**region_block**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|cnRegionList | String|可选|610000,230000|中国境内区域列表，只填写[\"**CN**\"]，表示封禁中国内地区域（除港澳台）。多个区域之间使用英文逗号（,）分隔。关于地域代码的具体含义，请参见**中国境内地域代码含义说明**。|\n|abroadRegionList | String|可选|KE,KG|中国境外区域列表，多个区域之间使用英文逗号（,）分隔。您可以通过调用[DescribeIpAbroadCountryInfos](~~2928841~~)接口查看支持封禁的海外国家和区域。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|action | String|必选|block|防护规则动作。取值：<br> - **block**：表示拦截。<br>- **monitor**：表示观察。\n\n**中国境内地域代码含义说明**\n``` json\n{\n    \"110000\": \"北京市\",\n    \"120000\": \"天津市\",\n    \"130000\": \"河北省\",\n    \"140000\": \"山西省\",\n    \"150000\": \"内蒙古自治区\",\n    \"210000\": \"辽宁省\",\n    \"220000\": \"吉林省\",\n    \"230000\": \"黑龙江省\",\n    \"310000\": \"上海市\",\n    \"320000\": \"江苏省\",\n    \"330000\": \"浙江省\",\n    \"340000\": \"安徽省\",\n    \"350000\": \"福建省\",\n    \"360000\": \"江西省\",\n    \"370000\": \"山东省\",\n    \"410000\": \"河南省\",\n    \"420000\": \"湖北省\",\n    \"430000\": \"湖南省\",\n    \"440000\": \"广东省\",\n    \"450000\": \"广西壮族自治区\",\n    \"460000\": \"海南省\",\n    \"500000\": \"重庆市\",\n    \"510000\": \"四川省\",\n    \"520000\": \"贵州省\",\n    \"530000\": \"云南省\",\n    \"540000\": \"西藏自治区\",\n    \"610000\": \"陕西省\",\n    \"620000\": \"甘肃省\",\n    \"630000\": \"青海省\",\n    \"640000\": \"宁夏回族自治区\",\n    \"650000\": \"新疆维吾尔自治区\",\n    \"MO_01\": \"中国澳门\",\n    \"HK_01\": \"中国香港\",\n    \"TW_01\": \"中国台湾\",\n    \"CN\": \"中华人民共和国内地区域（除港澳台）\",\n}\n```\n##### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 2341,\n    \"DefenseScene\": \"region_block\",\n    \"Rules\": \"[{\\\"cnRegionList\\\":\\\"CN,HK_01,TW_01,MO_01\\\",\\\"abroadRegionList\\\":\\\"AU,NZ\\\",\\\"action\\\":\\\"block\\\",\\\"status\\\":1}]\"\n}\n```\n### CC防护规则（**cc**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|mode | Integer|必选|0|CC防护模式。取值：<br> - **0**（默认）：表示普通防护。 <br> - **1**：表示紧急防护。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n\n#### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 2241,\n    \"DefenseScene\": \"cc\",\n    \"Rules\":\"[{\\\"mode\\\":0,\\\"status\\\":1}]\"\n}\n```\n### 网页防篡改防护规则（**tamperproof**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|name | String|必选|test|防护规则名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。|\n|url | String|必选|/abc|缓存页面的地址。|\n|ua | String|可选|app|指定user-agent访问该路径。|\n|protocol | String|必选|https|缓存页面地址的协议类型。取值：**http**、**https**。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n\n#### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 1241,\n    \"DefenseScene\": \"tamperproof\",\n    \"Rules\": \"[{\\\"name\\\":\\\"test1\\\",\\\"url\\\":\\\"www.test1.com\\\",\\\"ua\\\":\\\"firefox\\\",\\\"protocol\\\":\\\"https\\\",\\\"status\\\":1}]\"\n}\n```\n\n### 信息泄露防护规则（**dlp**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|name | String|必选|test|防护规则名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。|\n|conditions|Array|必选|[{\"key\":\"HttpCode\",\"opValue\":\"contain\",\"values\":\"400,401,402,403,404,405,500,501,502,503,504,505\"},{\"key\":\"URL\",\"opValue\":\"contain\",\"values\":\"test\"}]|匹配条件，以JSON字符串格式进行描述，支持设置最多两条匹配条件且条件间的关系为并且。具体配置信息，请参见**conditions详细配置**。\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|action | String|必选|block|防护规则动作。取值：<br> - **block**：表示拦截，该动作仅适用于包含响应码匹配条件场景。<br> - **monitor**：表示观察。<br> - **filter**：表示敏感信息过滤，该动作仅适用于包含敏感信息匹配条件场景。\n\n**conditions详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|key | String|必选|URL|匹配字段。取值：**URL**、**HttpCode**、**SensitiveInfo**。\n|opValue | String|必选|contain|逻辑符。固定取值**contain**。\n|values | String|必选|abc|匹配内容，多个匹配内容之间使用逗号（,）分隔。<br> **HttpCode**对应取值为：**400**、**401**、**402**、**403**、**404**、**405**（代表**405-499**）、**500**、**501**、**502**、**503**、**504**、**505**（代表**505-599**）。<br>  **SensitiveInfo**对应取值为：<br> -  **phone**：表示电话号码。<br> -  **card**：表示信用卡。<br> -  **id**：表示身份证。<br> -  **word**：表示默认敏感词。\n\n#### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 5241,\n    \"DefenseScene\": \"dlp\",\n    \"Rules\":\"[{\\\"name\\\":\\\"test\\\",\\\"action\\\":\\\"filter\\\",\\\"status\\\":1,\\\"conditions\\\":[{\\\"key\\\":\\\"SensitiveInfo\\\",\\\"opValue\\\":\\\"contain\\\",\\\"values\\\":\\\"id,card\\\"},{\\\"key\\\":\\\"URL\\\",\\\"opValue\\\":\\\"contain\\\",\\\"values\\\":\\\"/test.html\\\"}]}]\"\n}\n```\n### 洪峰限流（**spike_throttle**）\n#### 参数描述\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|name | String|必选|iptest|洪峰限流规则名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。|\n|status | Integer|必选|1|防护规则状态。该参数仅用于创建防护规则，修改防护规则状态时使用[ModifyDefenseRuleStatus](~~461618~~)接口的RuleStatus参数。取值：<br> - **0**：表示关闭。 <br> - **1**（默认）：表示开启。|\n|action | String|必选|block|防护规则动作。取值：<br> - **block**：表示拦截。<br>- **monitor**：表示观察。\n|conditions|Array|必选|[{\"key\":\"IP\",\"opValue\":\"eq\",\"values\":\"11.XX.XX.1\"},{\"key\":\"Header\",\"subKey\":\"abc\",\"opValue\":\"contains\",\"values\":\"test\"}]|ACL的流量特征，以JSON字符串格式进行描述，支持填写最多五个匹配条件。具体配置信息，请参见**conditions详细配置**。|\n|cnRegionList | String|可选|610000,230000|中国境内区域列表，只填写[\"**CN**\"]，表示封禁中国内地区域（除港澳台）。多个区域之间使用英文逗号（,）分隔。关于地域代码的具体含义，请参见**中国境内地域代码含义说明**。|\n|abroadRegionList | String|可选|KE,KG|中国境外区域列表，多个区域之间使用英文逗号（,）分隔。您可以通过调用[DescribeIpAbroadCountryInfos](~~2928841~~)接口查看支持封禁的海外国家和区域。|\n|type | String|必选|qps|限流方式。取值: <br> - **qps**：表示按QPS限流。 <br> - **ratio**（默认）：表示按百分比限流。|\n|threshold | Integer|必选|500|限流阈值。取值范围： <br> - QPS限流阈值范围为[1-5000000]，选择QPS限流（如500QPS）时，满足限流条件且超过500QPS的流量将被拦截。 <br> - 百分比限流阈值范围为[1-99]，选择百分比限流如（80%）时，满足限流条件的流量只会放行80%。|\n\n\n**conditions详细配置**\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|key | String|必选|IP|匹配字段。取值：URL、URLPath、IP、Referer、User-Agent、Params、Cookie、Content-Type、Content-Length、X-Forwarded-For、Post-Body、Http-Method、Header。|\n|subKey | String|可选|abc|自定义子匹配字段。<br> **说明** 并不是每一个洪峰限流规则的匹配字段（**key**）都有自定义子匹配字段（**subKey**）。关于不同匹配字段是否支持自定义子匹配字段，请以**WAF控制台**洪峰限流规则中匹配字段和自定义匹配字段的关系为准。|\n|opValue | String|必选|contain|逻辑符。取值：<br> - **not-contain**：表示不包含。<br> - **contain**：表示包含。<br> - **none**：表示不存在。<br> - **ne**：表示不等于。<br> - **eq**：表示等于。<br> - **lt**：表示值小于。<br> - **gt**：表示值大于。<br> - **len-lt**：表示长度小于。<br> - **len-eq**：表示长度等于。<br> - **len-gt**：表示长度大于。<br> - **not-match**：表示不匹配。<br> - **match-one**：表示等于多值之一。<br> - **all-not-match**：表示不等于任一值。<br> - **all-not-contain**：表示不包含任一值。<br> - **contain-one**：表示包含多值之一。<br> - **not-regex**：表示正则不匹配。<br> - **regex**：表示正则匹配。<br> - **all-not-regex**：表示正则均不匹配。<br> - **regex-one**：表示正则匹配其中之一。<br> - **prefix-match**：表示前缀匹配。<br> - **suffix-match**：表示后缀匹配。<br> - **empty**：表示内容为空。<br> - **exists**：表示字段存在。<br> - **inl**：表示在列表中。<br> **说明** 并不是每一个洪峰规则的匹配字段（**key**）都能对应配置全部的逻辑符（**opValue**）。关于不同匹配字段支持使用的逻辑符，请以**WAF控制台**洪峰限流规则中匹配字段和逻辑符的关联关系为准。|\n|values | String|必选|abc|匹配内容，根据需要填写相应的内容。<br> **说明** 匹配条件参数中的逻辑符（**opValue**）、匹配内容（**values**）参数取值范围与所指定的匹配字段（**key**）相关。|\n\n**中国境内地域代码含义说明**\n``` json\n{\n    \"110000\": \"北京市\",\n    \"120000\": \"天津市\",\n    \"130000\": \"河北省\",\n    \"140000\": \"山西省\",\n    \"150000\": \"内蒙古自治区\",\n    \"210000\": \"辽宁省\",\n    \"220000\": \"吉林省\",\n    \"230000\": \"黑龙江省\",\n    \"310000\": \"上海市\",\n    \"320000\": \"江苏省\",\n    \"330000\": \"浙江省\",\n    \"340000\": \"安徽省\",\n    \"350000\": \"福建省\",\n    \"360000\": \"江西省\",\n    \"370000\": \"山东省\",\n    \"410000\": \"河南省\",\n    \"420000\": \"湖北省\",\n    \"430000\": \"湖南省\",\n    \"440000\": \"广东省\",\n    \"450000\": \"广西壮族自治区\",\n    \"460000\": \"海南省\",\n    \"500000\": \"重庆市\",\n    \"510000\": \"四川省\",\n    \"520000\": \"贵州省\",\n    \"530000\": \"云南省\",\n    \"540000\": \"西藏自治区\",\n    \"610000\": \"陕西省\",\n    \"620000\": \"甘肃省\",\n    \"630000\": \"青海省\",\n    \"640000\": \"宁夏回族自治区\",\n    \"650000\": \"新疆维吾尔自治区\",\n    \"MO_01\": \"中国澳门\",\n    \"HK_01\": \"中国香港\",\n    \"TW_01\": \"中国台湾\",\n    \"CN\": \"中华人民共和国内地区域（除港澳台）\",\n}\n```\n##### 示例\n``` json\n{\n    \"InstanceId\": \"waf_v2_public_****\",\n    \"TemplateId\": 2341,\n    \"DefenseScene\": \"spike_throttle\",\n    \"Rules\":\"[{\\\"name\\\":\\\"test\\\",\\\"action\\\":\\\"monitor\\\",\\\"conditions\\\":[{\\\"key\\\":\\\"URL\\\",\\\"opValue\\\":\\\"contain\\\",\\\"values\\\":\\\"abctest\\\"}],\\\"status\\\":1,\\\"type\\\":\\\"qps\\\",\\\"threshold\\\":1000,\\\"cnRegionList\\\":\\\"110000,140000\\\",\\\"abroadRegionList\\\":\\\"AD,AL\\\"}]\"}\n}\n```\n\n## 防护对象维度规则（**resource**）\n当防护规则类型 **DefenseType** 为 **resource** 时，具体的规则配置内容如下。\n### 账号提取规则（**account_identifier**）\n账号提取规则每个防护对象下只支持配置1条提取配置。\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|accountldentifiers|Array|必选|[ { \"key\": \"Header\",\"subKey\": \"header-test\", \"decodeType\": \"jwt\", \"position\": \"username\", \"priority\": 1 }, { \"key\": \"Post-Arg\", \"subKey\": \"body_test\", \"decodeType\": \"plain\", \"priority\": 2 } ]|账号提取配置列表，最多支持5条，每一条配置以JSON字符串格式表示。具体配置信息，请参见 accountIdentifiers 详细配置。|\n\n\n**accountIdentifiers详细配置**\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|key|String|必选|Query-Arg|提取的字段位置。取值：**Query-Arg**、**Cookie-Exact**、**Post-Arg**、**Header**。|\n|subKey|String|必选|query-test|自定义子匹配字段。|\n|decodeType|String|jwt|query-test|认证方式。取值：<br/>- **plain**：表示明文。<br/>- **basic**：表示Basic认证。<br/>- **jwt**：表示JWT认证，JWT认证需要指定解码后的账号字段(**position**)。|\n|priority|Integer|必选|1|当前提取配置的匹配优先级，同一个流量最多命中一条提取策略，取值范围为［0,20］，数字越小优先级越高，且不能重复。|\n|position|String|可选|account|针对JWT认证，解码后的账号字段。|  \n\n#### 示例\n``` json\n{\n    \"DefenseScene\": \"account_identifier\",\n    \"Resource\": \"example.**.com-waf\",\n    \"DefenseType\": \"resource\",\n    \"InstaneId\": \"waf_cn****\",\n    \"Rules\": \"[{\\\"accountIdentifiers\\\":[{\\\"key\\\":\\\"Header\\\",\\\"subKey\\\":\\\"header-test\\\",\\\"decodeType\\\":\\\"jwt\\\",\\\"position\\\":\\\"username\\\",\\\"priority\\\":1},{\\\"key\\\":\\\"Post-Arg\\\",\\\"subKey\\\":\\\"body_test\\\",\\\"decodeType\\\":\\\"plain\\\",\\\"priority\\\":2}]}]\"\n}\n```\n\n\n## 全局维度规则（**global**）\n当防护规则类型 **DefenseType** 为 **global** 时，具体的规则配置内容如下。\n### 自定义正则规则（**regular_custom**）\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|name|String|必选|ruleTest|用户自定义正则规则名称。长度为 1~255 个字符，可以包含中文、英文、数字、下划线（_）、半角句号（.）或者短划线（-）。|\n|detectType|String|必选|sqli|检测类型。取值： <br> - **sqli**：表示SQL注入。 <br> - **xss**：表示XSS跨站脚本攻击。 <br> - **cmdi**：表示OS命令注入。 <br> - **expression_injection**：表示表达式注入（包括EL，SpEL，OGNL表达式）。 <br> - **java_deserialization**：表示Java反序列化。 <br> - **dot_net_deserialization**：表示.net反序列化。 <br> - **php_deserialization**：表示PHP反序列化。 <br> - **code_exec**：表示远程代码执行（JNDI/XPATH）。 <br> - **ssrf**：表示SSRF服务器端请求伪造。 <br> - **path_traversal**：表示路径穿越。 <br> - **arbitrary_file_uploading**：表示任意文件上传。 <br> - **webshell**：表示webshell。 <br> - **rfilei**：表示远程文件包含（RFI）。 <br> - **lfilei**：表示本地文件包含（LFI）。 <br> - **protocol_violation**：表示协议违背。 <br> - **scanner_behavior**：表示扫描器行为。 <br> - **logic_flaw**：表示业务逻辑缺陷。 <br> - **arbitrary_file_reading**：表示任意文件读取。 <br> - **arbitrary_file_download**：表示任意文件下载。 <br> - **xxe**：表示外部实体注入。 <br> - **csrf**：表示跨站请求伪造。 <br> - **crlf**：表示CRLF。 <br> - **other**：表示其他。|\n|riskLevel|String|必选|strict|风险等级，取值：<br> - **super_strict**：超严格。<br> - **strict**：严格。 <br> - **medium**：中等。 <br> - **loose**：宽松|\n|description|String|可选|规则描述。|自定义正则规则描述。|\n|condition|Array|必选|[{\"key\":\"IP\",\"opValue\":\"eq\",\"values\":\"11.XX.XX.1\"},{\"key\":\"Header\",\"subKey\":\"abc\",\"opValue\":\"contains\",\"values\":\"test\"}]|ACL的流量特征，以JSON字符串格式进行描述，支持填写最多五个匹配条件。具体配置信息，请参见**condition详细配置**。|\n\n**condition详细配置**\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|key|String|必选|Query-Arg|自定义匹配字段。取值：**File-Name**、**Url**、**Raw-Url**、**Request-Url**、**Http-Method**、**Directory**、**Query**、**Raw-Header**、**Body**、**Extension**、**Union-Args**、**All-Data**、**All-Keys**、**Multipart-Keys**、**Multipart-Values**、**Header-Keys**、**Header-Values**、**Post-Arg-Keys**、**Post-Arg-Values**、**Query-Arg-Keys**、**Query-Arg-Values**、**Cookie-Keys**、**Cookie-Values**、**Header**、**Query-Arg**、**Post-Arg**、**Multipart**。|\n|subKey|String|可选|query-test|自定义子匹配字段。><notice>仅当匹配字段为**Header**、**Query-Arg**、**Post-Arg**、**Multipart**时，支持子匹配字段。></notice>|\n|opValue | String|必选|contain|逻辑符。取值:**regex**、**prefix-match**、**suffix-match**、**eq**、**contain**。\n|values | String|必选|abc|匹配内容，多个匹配内容之间使用逗号（,）分隔。|\n\n#### 示例\n``` json\n{\n  \"name\": \"ruleTest\",\n  \"detectType\": \"sqli\",\n  \"riskLevel\": \"strict\",\n  \"condition\": [{\"key\": \"FileName\",\"opValue\": \"eq\",\"values\": \"test\"}]\n}\n```"},"ModifyDefenseRule":{"summary":"修改防护规则配置信息。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"106380","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"防护规则模板ID。\n> 仅当 **DefenseType** 为 **template** 时，需要传入该参数。","type":"integer","format":"int64","required":false,"example":"5325"}},{"name":"DefenseScene","in":"query","schema":{"description":"要修改的防护场景。更多信息，请参见[CreateDefenseRule](~~461421~~)的**DefenseScene**参数。","type":"string","required":false,"example":"waf_group"}},{"name":"Rules","in":"formData","schema":{"description":"防护规则详情，以一系列参数构造的JSON格式转化成字符串。配置时，您需要指定规则ID，并设置要修改的防护规则配置信息。具体包括：\n\n- **id**：Long类型 | 必选 | 规则ID。\n\n- 防护规则配置信息：与**CreateDefenseRule**接口的**Rules**参数相同。相关描述，请参见[CreateDefenseRule](~~461421~~)的**防护规则参数描述**。","type":"string","required":true,"example":"[\n      {\n            \"id\": 2344,\n            \"policyId\": 1012,\n            \"action\": \"block\"\n      }\n]"}},{"name":"DefenseType","in":"query","schema":{"description":"防护规则类型。取值：\n\n- **template**（默认）：表示模版防护规则。\n\n- **resource**：表示防护对象维度的规则。\n- **global**：表示全局维度的规则。","type":"string","required":false,"example":"template","default":"template","enum":["global","resource","template"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Resource","in":"query","schema":{"description":"修改规则对应的防护对象。\n> 仅当 **DefenseType** 为 **resource** 时，需要传入该参数。","type":"string","required":false,"example":"rencs***-waf"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"1EEA9C98-F166-54FE-ADE3-08D8****BDFA"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"1EEA9C98-F166-54FE-ADE3-08D8****BDFA\\\"\\n}\",\"type\":\"json\"}]","title":"修改防护规则"},"ModifyDefenseRuleStatus":{"summary":"修改防护规则状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"106381","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"防护规则模板ID。","type":"integer","format":"int64","required":false,"example":"7239"}},{"name":"RuleId","in":"query","schema":{"description":"要修改的防护规则ID。","type":"integer","format":"int64","required":true,"example":"20002615"}},{"name":"RuleStatus","in":"query","schema":{"description":"要修改的防护规则状态。取值： \n- **0**：关闭  \n- **1**：开启  \n          ","type":"integer","format":"int32","required":true,"example":"1"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"DefenseType","in":"query","schema":{"description":"防护规则类型。取值：\n\n- **template（默认）**：表示模板防护规则。\n\n- **resource**：表示防护对象维度的规则。","type":"string","required":false,"enumValueTitles":{"template":"template","resource":"resource"},"example":"template","default":"template","enum":["template","resource","global"]}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。\n","type":"string","example":"BB305BF3-3C71-57A9-9704-E22F567689B0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"BB305BF3-3C71-57A9-9704-E22F567689B0\\\"\\n}\",\"type\":\"json\"}]","title":"修改防护规则状态"},"DeleteDefenseRule":{"summary":"删除防护规则。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"106469","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"要删除的防护模板ID。\n> 仅当 **DefenseType** 为 **template** 时，需要传入该参数。","type":"integer","format":"int64","required":false,"example":"2221"}},{"name":"RuleIds","in":"query","schema":{"description":"要删除的防护规则ID，多个防护规则ID之间使用英文逗号（,）分隔。","type":"string","required":true,"example":"2223455,23354,465565"}},{"name":"DefenseType","in":"query","schema":{"description":"防护规则类型。取值：\n\n- **template**（默认）：表示模板防护规则。\n\n- **resource**：表示防护对象维度的规则。\n- **global**：表示全局维度的规则。","type":"string","required":false,"example":"template","default":"template","enum":["template","global","resource"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Resource","in":"query","schema":{"description":"要删除规则对应的防护对象。\n> 仅当 **DefenseType** 为 **resource** 时，需要传入该参数。","type":"string","required":false,"example":"rencs***-waf"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2EC856FE-6D31-5861-8275-E5DEDB539089"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2EC856FE-6D31-5861-8275-E5DEDB539089\\\"\\n}\",\"type\":\"json\"}]","title":"删除防护规则"},"DescribeDefenseRules":{"summary":"分页查询防护规则。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"106383","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RuleType","in":"query","schema":{"description":"防护规则类型。取值：\n- **whitelist**：白名单规则\n- **defense**（默认）：防护规则\n\n> 仅当 **DefenseType** 为 **template** 时，需要传入该参数。","type":"string","required":false,"example":"whitelist"}},{"name":"Query","in":"query","schema":{"description":"查询条件，以一系列参数构造的JSON格式转化成字符串。\n>根据不同的查询条件，查询到的防护规则结果不同。详细信息，请参见**Query参数描述**。","type":"string","required":false,"example":"{\\\"name\\\":\\\"IP压制_20220822_10\\\",\\\"scene\\\":\\\"custom_acl\\\",\\\"templateId\\\":5327}"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"DefenseType","in":"query","schema":{"description":"防护规则类型。取值：\n\n- **template**（默认）：表示模板防护规则。\n\n- **resource**：表示防护对象维度的规则。\n- **global**：表示全局维度的规则。","type":"string","required":false,"enumValueTitles":{"template":"template","resource":"resource","global":"global"},"example":"template","default":"template","enum":["template","resource","global"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"2"},"RequestId":{"description":"请求ID。","type":"string","example":"80736FA5-FA87-55F6-AA69-C5477C6FE6D0"},"Rules":{"description":"防护规则列表。","type":"array","items":{"description":"防护规则列表。","type":"object","properties":{"Status":{"description":"防护规则状态。取值：\n\n- **0**：表示已禁用。\n\n- **1**：表示已启用。","type":"integer","format":"int32","example":"1"},"DefenseOrigin":{"description":"防护来源。取值：\n\n- **custom**：用户自定义。\n\n- **system**：系统自动生成。","type":"string","example":"custom"},"Config":{"description":"防护规则详情，以一系列参数构造的JSON格式转化成字符串。更多信息，请参见[CreateDefenseRule](~~461421~~)的**Rule参数具体说明**。","type":"string","example":"{\\\"policyId\\\":1012,\\\"action\\\":\\\"block\\\"}"},"RuleId":{"description":"防护规则ID。","type":"integer","format":"int64","example":"42755"},"DefenseScene":{"description":"防护场景。\n\n当入参防护规则类型 **DefenseType** 为 **template** 时，取值：\n- **waf_group**：表示基础防护的正则规则。\n- **waf_base**：表示新版Web核心防护。\n- **waf_base_compliance**：表示基础防护的协议合规规则。\n- **waf_base_sema**：表示基础防护的语义规则。\n- **cc**：表示cc防护。\n- **antiscan_dirscan**：表示扫描防护中的目录遍历封禁。\n- **antiscan_highfreq**：表示扫描防护中的高频扫描封禁。\n- **antiscan_scantools**：表示扫描防护中的扫描工具封禁。\n- **ip_blacklist**：表示IP黑名单。\n- **custom_acl**：表示自定义规则。\n- **region_block**：表示区域封禁。\n- **tamperproof**：表示网页防篡改。\n- **dlp**：表示信息泄漏防护。\n- **custom_response_block**：表示自定义响应。\n- **spike_throttle**：表示洪峰限流。\n\n当入参防护规则类型 **DefenseType** 为 **resource** 时，取值：\n\n-  **account_identifier**：表示账号提取。\n\n当入参防护规则类型 **DefenseType** 为 **global** 时，取值：\n\n-  **regular_custom**：表示自定义正则规则。","type":"string","example":"waf_group"},"GmtModified":{"description":"防护规则修改时间。","type":"integer","format":"int64","example":"1665460629000"},"RuleName":{"description":"防护规则名称。","type":"string","example":"rules_41"},"TemplateId":{"description":"防护规则模板ID。","type":"integer","format":"int64","example":"5673"},"RuleType":{"type":"string"},"ActionExternal":{"type":"string"},"DetailRuleIds":{"type":"string"},"GmtCreate":{"type":"integer","format":"int64"},"Description":{"type":"string"},"ExternalInfo":{"type":"string"},"Resource":{"description":"规则所属的防护对象。\n\n> 仅当入参 **DefenseType** 为 **resource** 时，会返回对应参数。","type":"string","example":"rencs***-waf"},"DefenseType":{"description":"防护规则类型。取值：\n\n- **template**（默认）：表示模板防护规则。\n\n- **resource**：表示防护对象维度的规则。\n\n- **global**：表示全局维度的规则。","type":"string","example":"template"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 2,\\n  \\\"RequestId\\\": \\\"80736FA5-FA87-55F6-AA69-C5477C6FE6D0\\\",\\n  \\\"Rules\\\": [\\n    {\\n      \\\"Status\\\": 1,\\n      \\\"DefenseOrigin\\\": \\\"custom\\\",\\n      \\\"Config\\\": \\\"{\\\\\\\\\\\\\\\"policyId\\\\\\\\\\\\\\\":1012,\\\\\\\\\\\\\\\"action\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"block\\\\\\\\\\\\\\\"}\\\",\\n      \\\"RuleId\\\": 42755,\\n      \\\"DefenseScene\\\": \\\"waf_group\\\",\\n      \\\"GmtModified\\\": 1665460629000,\\n      \\\"RuleName\\\": \\\"rules_41\\\",\\n      \\\"TemplateId\\\": 5673,\\n      \\\"RuleType\\\": \\\"\\\",\\n      \\\"ActionExternal\\\": \\\"\\\",\\n      \\\"DetailRuleIds\\\": \\\"\\\",\\n      \\\"GmtCreate\\\": 0,\\n      \\\"Description\\\": \\\"\\\",\\n      \\\"ExternalInfo\\\": \\\"\\\",\\n      \\\"Resource\\\": \\\"rencs***-waf\\\",\\n      \\\"DefenseType\\\": \\\"template\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"分页查询防护规则","requestParamsDescription":"# Query参数详解\n## 模版防护规则（**template**）\n当防护规则类型 **DefenseType** 为 **template** 时，具体的参数描述如下。\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|name|String|可选|test|要查询的防护规则名称。您可以设置该参数，精确查询某条防护规则。|\n|nameId| String|可选|test1|要查询的防护规则ID或名称。您可以设置该参数，模糊查询某条防护规则。|\n|nameLike|String|可选|test.aliyundoc.c|要查询的防护规则名称。您可以设置该参数，模糊查询某条防护规则。|\n|scene|String|可选|waf_group|要查询的防护场景。您可以设置该参数，精确查询某个防护场景的防护规则。取值：<br> - **waf_group**：表示基础防护的正则规则。 <br> - **waf_base**：表示新版Web核心防护规则。<br> - **waf_base_compliance**：表示基础防护的协议合规规则。 <br> - **waf_base_sema**：表示基础防护的语义规则。 <br> - **cc**：表示cc防护。 <br> - **antiscan_dirscan**：表示扫描防护中的目录遍历封禁。 <br> - **antiscan_highfreq**：表示扫描防护中的高频扫描封禁。 <br> - **antiscan_scantools**：表示扫描防护中的扫描工具封禁。 <br> - **ip_blacklist**：表示IP黑名单。 <br> - **custom_acl**：表示自定义规则。 <br> - **region_block**：表示区域封禁。 <br> - **tamperproof**：表示网页防篡改。 <br> - **dlp**：表示信息泄漏防护。 <br> - **custom_response_block**：表示自定义响应。|\n|ruleId|Long|可选|33444|要查询的防护规则ID。您可以设置该参数，精确查询某条防护规则。|\n|ruleIdIn|Array|可选|[3334455643,345555]|要查询的防护规则ID范围。您可以设置该参数，查询多个防护规则。多个防护规则之间使用英文逗号（,）分隔。\n|templateId|Long|可选|24354|要查询的防护模板ID。您可以设置该参数，查询某个防护模板中的防护规则。|\n|orderBy|String|可选|name|设置防护规则排序方式。取值：<br> - **name** : 表示按防护规则名称排序。 <br> - **gmtModified** : 表示按防护规则修改时间排序。<br> - **id** : 表示按规则ID排序。<br> - **templateId** : 表示按防护模板ID排序。|\n|desc|Boolean|可选|true|设置排序顺序。取值：<br> - **false** : 表示正序显示。<br> - **true** : 表示倒序显示。|\n\n#### 示例\n\n```json\n{\n    \"name\": \"test\",\n    \"nameId \": \"test1,\n    \"nameLike\": \"test.aliyundoc.c\",\n    \"nameIn\": \"test.aliyundoc.c\",\n    \"InstaneId\": \"test1.aliyundoc.com,test2.aliyundoc.com\",\n    \"templateId\": 24354\n}\n```\n\n## 防护对象维度规则（**resource**）\n当防护规则类型 **DefenseType** 为 **resource** 时，具体的参数描述如下。\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|resource|String|可选|sec****-waf|规则对应的防护对象。|\n|scene|String|可选|waf_group|要查询的防护场景。您可以设置该参数，精确查询某个防护场景的防护规则。取值：<br> - **account_identifier**：表示账号提取规则。|\n\n\n#### 示例\n\n```json\n{\n    \"resource\": \"sec****-waf\",\n    \"scene \": \"account_identifier\"\n}\n```\n\n## 全局维度规则（**global**）\n当防护规则类型 **DefenseType** 为 **global** 时，具体的参数描述如下。\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|scene|String|可选|regular_custom|要查询的防护场景。您可以设置该参数，精确查询某个防护场景的防护规则。取值：<br> - **regular_custom**：表示自定义正则规则。|\n|detectType|String|可选|sqli|要查询的检测模块，取值：<br> - sqli：表示SQL注入。 <br> - xss：表示跨站脚本（XSS）。 <br> - cmdi：表示OS命令注入。 <br> - expression_injection：表示表达式注入。 <br> - java_deserialization：表示Java反序列化。 <br> - dot_net_deserialization：表示.net反序列化。 <br> - php_deserialization：表示PHP反序列化。 <br> - code_exec：表示代码执行。 <br> - ssrf：表示SSRF（服务器端请求伪造）。 <br> - path_traversal：表示路径穿越。 <br> - arbitrary_file_uploading：表示任意文件上传。 <br> - webshell：表示webshell。 <br> - rfilei：表示远程文件包含（RFI）。 <br> - lfilei：表示本地文件包含（LFI）。 <br> - protocol_violation：表示协议违背。 <br> - scanner_behavior：表示扫描器行为。 <br> - logic_flaw：表示业务逻辑缺陷。 <br> - arbitrary_file_reading：表示任意文件读取。 <br> - arbitrary_file_download：表示任意文件下载。 <br> - xxe：表示外部实体注入。 <br> - csrf：表示跨站请求伪造。 <br> - crlf：表示CRLF。 <br> - other：表示其他。 ><notice>仅当防护场景(scene)为自定义正则规则（**regular_custom**）时，支持查询。></notice> |\n|riskLevel|String|可选|strict|要查询的风险等级。取值：<br> - **super_strict**：超严格。 <br> - **strict**：严格。 <br> - **medium**：中等。 <br> - **loose**：宽松。><notice>仅当防护场景(scene)为自定义正则规则（**regular_custom**）时，支持查询。></notice>|\n|templateId|Long|可选|24354|要查询的防护模板ID。您可以设置该参数，查询某个防护模板中的防护规则。><notice>仅当防护场景(scene)为自定义正则规则（**regular_custom**）时，支持查询。></notice>\n\n\n#### 示例\n\n```json\n{\n    \"detectType\": \"sqli\",\n    \"riskLevel \": \"strict\",\n    \"templateId\": 24354\n}\n```"},"DescribeDefenseRule":{"summary":"查询单个防护规则。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"106382","abilityTreeNodes":["FEATUREwaf9JXZCD"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看您当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"要查询的防护模板ID。\n> 仅当 **DefenseType** 为 **template** 时，需要传入该参数。","type":"integer","format":"int64","required":false,"example":"10318"}},{"name":"RuleId","in":"query","schema":{"description":"要查询的防护规则ID。","type":"integer","format":"int64","required":true,"example":"20026192"}},{"name":"DefenseType","in":"query","schema":{"description":"防护规则类型。取值：\n\n- **template**（默认）：表示模板防护规则。\n\n- **resource**：表示防护对象维度的规则。\n- **global**：表示全局维度的规则。","type":"string","required":false,"enumValueTitles":{"template":"template","resource":"resource"},"example":"template","default":"template","enum":["global","resource","template"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Resource","in":"query","schema":{"description":"要查询规则对应的防护对象。\n> 仅当 **DefenseType** 为 **resource** 时，需要传入该参数。","type":"string","required":false,"example":"rencs***-waf"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Rule":{"description":"规则配置内容，以一系列参数构造的JSON格式转化成字符串。","type":"object","properties":{"Status":{"description":"防护规则状态。取值：\n\n- **0**：表示关闭。\n\n- **1**：表示开启。","type":"integer","format":"int32","example":"1"},"DefenseOrigin":{"description":"防护来源。取值：\n\n- **custom**：用户自定义。\n\n- **system**：系统自动生成。","type":"string","example":"custom"},"Config":{"description":"防护规则详情，以一系列参数构造的JSON格式转化成字符串。更多信息，请参见[CreateDefenseRule](~~461421~~)的**防护规则参数描述**。","type":"string","example":"{\\\"status\\\":1,\\\"policyId\\\":1012,\\\"action\\\":\\\"block\\\"}"},"RuleId":{"description":"防护规则ID。","type":"integer","format":"int64","example":"2732975"},"DefenseScene":{"description":"防护场景。\n\n当入参防护规则类型 **DefenseType** 为 **template** 时，取值：\n- **waf_group**：表示基础防护的正则规则。\n- **waf_base**：表示新版Web核心防护。\n- **waf_base_compliance**：表示基础防护的协议合规规则。\n- **waf_base_sema**：表示基础防护的语义规则。\n- **cc**：表示cc防护。\n- **antiscan_dirscan**：表示扫描防护中的目录遍历封禁。\n- **antiscan_highfreq**：表示扫描防护中的高频扫描封禁。\n- **antiscan_scantools**：表示扫描防护中的扫描工具封禁。\n- **ip_blacklist**：表示IP黑名单。\n- **custom_acl**：表示自定义规则。\n- **region_block**：表示区域封禁。\n- **tamperproof**：表示网页防篡改。\n- **dlp**：表示信息泄漏防护。\n- **custom_response_block**：表示自定义响应。\n- **spike_throttle**：表示洪峰限流。\n\n当入参防护规则类型 **DefenseType** 为 **resource** 时，取值：\n\n-  **account_identifier**：表示账号提取。\n\n当入参防护规则类型 **DefenseType** 为 **global** 时，取值：\n\n-  **regular_custom**：表示自定义正则。","type":"string","example":"waf_group"},"GmtModified":{"description":"防护规则修改时间。","type":"integer","format":"int64","example":"1665196746000"},"RuleName":{"description":"防护规则名称。","type":"string","example":"test1"},"TemplateId":{"description":"防护规则模板ID。\n> 仅当入参 **DefenseType** 为 **template** 时，会返回对应参数。","type":"integer","format":"int64","example":"9114"},"Resource":{"description":"规则所属的防护对象。\n> 仅当入参 **DefenseType** 为 **resource** 时，会返回对应参数。","type":"string","example":"rencs***-waf"},"DefenseType":{"description":"防护规则类型。取值：\n\n- **template**（默认）：表示模板防护规则。\n\n- **resource**：表示防护对象维度的规则。\n- **global**：表示全局维度的规则。","type":"string","example":"template"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Rule\\\": {\\n    \\\"Status\\\": 1,\\n    \\\"DefenseOrigin\\\": \\\"custom\\\",\\n    \\\"Config\\\": \\\"{\\\\\\\\\\\\\\\"status\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"policyId\\\\\\\\\\\\\\\":1012,\\\\\\\\\\\\\\\"action\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"block\\\\\\\\\\\\\\\"}\\\",\\n    \\\"RuleId\\\": 2732975,\\n    \\\"DefenseScene\\\": \\\"waf_group\\\",\\n    \\\"GmtModified\\\": 1665196746000,\\n    \\\"RuleName\\\": \\\"test1\\\",\\n    \\\"TemplateId\\\": 9114,\\n    \\\"Resource\\\": \\\"rencs***-waf\\\",\\n    \\\"DefenseType\\\": \\\"template\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询单个防护规则"},"ModifyDefenseRuleCache":{"summary":"更新网页防篡改防护规则缓存。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"137716","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-zvp****xm2r"}},{"name":"TemplateId","in":"query","schema":{"description":"防护规则模板ID。","type":"integer","format":"int64","required":true,"example":"123"}},{"name":"RuleId","in":"query","schema":{"description":"防护规则ID。","type":"integer","format":"int64","required":true,"example":"12345678"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"A0F2B994-8645-5270-A05D-9DAD8C35****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A0F2B994-8645-5270-A05D-9DAD8C35****\\\"\\n}\",\"type\":\"json\"}]","title":"更新网页防篡改防护规则缓存"},"DeleteDefenseRuleBlockIp":{"summary":"解封扫描防护封禁IP。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"203840","abilityTreeNodes":["FEATUREwafAFURH8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-9lb37yxse05"}},{"name":"TemplateId","in":"query","schema":{"description":"防护模板ID。","type":"integer","format":"int64","required":true,"example":"4057"}},{"name":"RuleId","in":"query","schema":{"description":"要解封IP的扫描防护规则ID。","type":"integer","format":"int64","required":true,"example":"36998"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"9D11AC3A-A10C-56E7-A342-E87EC892BAE2"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"9D11AC3A-A10C-56E7-A342-E87EC892BAE2\\\"\\n}\",\"type\":\"json\"}]","title":"解封扫描防护封禁IP "},"DescribeIpAbroadCountryInfos":{"summary":"获取IP区域封禁支持的海外国家及区域。","path":"/","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafBWO4L0"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"title":"参数说明的原文未提供\n","description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xl*******005"}},{"name":"Country","in":"query","schema":{"title":"出境国家。","description":"要查询的海外国家。支持通过国家ID或中英文国家名模糊查询。","type":"string","required":false,"example":"US"}},{"name":"AbroadRegion","in":"query","schema":{"description":"要查询的海外区域。支持通过区域ID或中英文地域名模糊查询。","type":"string","required":false,"example":"US-CA"}},{"name":"NextToken","in":"query","schema":{"title":"下一个查询开始Token","description":"下一页查询凭证（Token），取值为上一次 API 调用返回的**NextToken**参数值。首页查询无需传入。","type":"string","required":false,"example":"caeba0bbb2be03f84eb48b699f0*****"}},{"name":"MaxResults","in":"query","schema":{"title":"分页查询时每页行数。最大值为100。默认值：当不设置值或设置的值小于10时，默认值为10。当设置的值大于100时，默认值为100。","description":"分页查询时每页个数。取值范围为：1-500，默认值为20。","type":"integer","format":"int32","required":false,"maximum":"500","minimum":"1","example":"20","default":"20"}},{"name":"Language","in":"query","schema":{"title":"请求使用的语言。","description":"请求返回中国家名和区域名使用的语言。取值：\n\n- **en**（**默认**）：表示英文。\n\n- **cn**：表示简体中文。","type":"string","required":false,"example":"en","default":"en"}},{"name":"RegionId","in":"query","schema":{"title":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"title":"阿里云资源组ID。","description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzwwk****cv5i"}}],"responses":{"200":{"description":"查询成功","schema":{"title":"响应体结构\n","description":"响应体结构\n","type":"object","properties":{"RequestId":{"title":"请求ID\n","description":"请求ID\n","type":"string","example":"66A98669-CC6E-4F3E-80A6-3014697B11AE"},"TotalCount":{"title":"返回结果的总数。","description":"返回结果的总数。","type":"integer","format":"int32","example":"2"},"AbroadInfos":{"title":"海外国家信息列表。","description":"海外国家信息列表。","type":"array","items":{"type":"object","properties":{"Country":{"title":"国家ID。","description":"国家ID。","type":"string","example":"US"},"CountryName":{"title":"国家名。","description":"国家名。","type":"string","example":"United States"},"Regions":{"title":"二级区域信息列表。","description":"海外区域信息列表。","type":"array","items":{"title":"二级区域信息。","description":"海外区域信息。","type":"object","properties":{"AbroadRegionId":{"title":"二级区域ID。","description":"区域ID。","type":"string","example":"US-CA"},"AbroadRegionName":{"title":"二级区域名称。","description":"区域名称。","type":"string","example":"California"}}}},"Continent":{"title":"国家所属大区。","description":"国家所属大区。","type":"string","example":"North America"}}}},"NextToken":{"title":"下一个查询开始Token","description":"下一页查询凭证（Token）。","type":"string","example":"caeba0bbb2be03f84eb48b699f0*****"},"MaxResults":{"title":"分页查询时每页行数。最大值为100。默认值：当不设置值或设置的值小于10时，默认值为10。当设置的值大于100时，默认值为100。","description":"分页查询时每页个数。取值范围为：1-500，默认值为20。","type":"integer","format":"int32","example":"20"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-3014697B11AE\\\",\\n  \\\"TotalCount\\\": 2,\\n  \\\"AbroadInfos\\\": [\\n    {\\n      \\\"Country\\\": \\\"US\\\",\\n      \\\"CountryName\\\": \\\"United States\\\",\\n      \\\"Regions\\\": [\\n        {\\n          \\\"AbroadRegionId\\\": \\\"US-CA\\\",\\n          \\\"AbroadRegionName\\\": \\\"California\\\"\\n        }\\n      ],\\n      \\\"Continent\\\": \\\"North America\\\"\\n    }\\n  ],\\n  \\\"NextToken\\\": \\\"caeba0bbb2be03f84eb48b699f0*****\\\",\\n  \\\"MaxResults\\\": 20\\n}\",\"type\":\"json\"}]","title":"获取IP区域封禁支持的海外国家及区域"},"DescribeRuleGroups":{"summary":"分页查询正则规则组。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwaf10VDFG"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"SearchType","in":"query","schema":{"description":"查询类型。取值：\n- **id**:   表示按照规则组ID查询。\n- **name**:  表示按照规则组名字查询，支持中英文查询。","type":"string","required":false,"example":"name"}},{"name":"SearchValue","in":"query","schema":{"description":"设置查询内容。","type":"string","required":false,"example":"test"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"24"},"RequestId":{"description":"请求ID。","type":"string","example":"02E9A4B8-90FB-5F41-A049-C82277EB82FB"},"RuleGroups":{"description":"正则规则组列表。","type":"array","items":{"description":"正则规则组列表。","type":"object","properties":{"RuleGroupId":{"description":"规则组的ID。","type":"integer","format":"int64","example":"115361"},"RuleTotalCount":{"description":"内置规则数。","type":"integer","format":"int32","example":"4444"},"RuleGroupName":{"description":"规则组的名称。","type":"string","example":"ssssss"},"IsSubscribe":{"description":"规则组自动更新状态。\n\n- 1：表示自动更新。\n\n- 2：表示不自动更新。","type":"integer","format":"int32","example":"1"},"GmtModified":{"description":"更新时间。","type":"integer","format":"int64","example":"1664336364000"},"ParentRuleGroupId":{"description":"规则组继承的规则组ID。\n\n- 0：表示不继承，从零创建。\n\n- 1011：表示严格规则组。\n\n- 1012：表示中等规则组。\n\n- 1013：表示宽松规则组。","type":"integer","format":"int64","example":"1012"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 24,\\n  \\\"RequestId\\\": \\\"02E9A4B8-90FB-5F41-A049-C82277EB82FB\\\",\\n  \\\"RuleGroups\\\": [\\n    {\\n      \\\"RuleGroupId\\\": 115361,\\n      \\\"RuleTotalCount\\\": 4444,\\n      \\\"RuleGroupName\\\": \\\"ssssss\\\",\\n      \\\"IsSubscribe\\\": 1,\\n      \\\"GmtModified\\\": 1664336364000,\\n      \\\"ParentRuleGroupId\\\": 1012\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"分页查询正则规则组"},"ModifyDefenseSceneConfig":{"summary":"修改用户防护场景的防护配置。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"255326","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"title":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-0xldbqt****"}},{"name":"RegionId","in":"query","schema":{"title":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"title":"阿里云资源组ID。","description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"DefenseScene","in":"query","schema":{"title":"待修改防护配置的防护场景。取值：\n\n- **apisec**：表示API安全。","description":"待修改防护配置的防护场景。取值：\n\n- **apisec**：表示API安全。","type":"string","required":true,"example":"apisec"}},{"name":"ConfigKey","in":"query","schema":{"title":"待修改配置项的配置名称。\n当防护场景 **DefenseScene** 为 **apisec** 时，取值：\n- **autoEnableStatus**：表示新增防护资源是否自动开启API安全核心检测。","description":"待修改配置项的配置名称。\n\n当防护场景 **DefenseScene** 为 **apisec** 时，取值：\n- **autoEnabled**：表示新增防护资源是否自动开启API安全核心检测。","type":"string","required":true,"example":"autoEnableStatus"}},{"name":"ConfigValue","in":"query","schema":{"title":"待修改配置项的取值。\n当配置项 **ConfigKey** 为 **autoEnableStatus** 时，取值为\"true\"、\"false\"。","description":"待修改配置项的取值。\n\n> 根据所指定的配置项名称 **ConfigKey** 不同，具体涉及的参数有所不同。详细信息，请参见**防护配置参数描述**。","type":"string","required":true,"example":"true"}}],"responses":{"200":{"schema":{"description":"请求的结果。","type":"object","properties":{"RequestId":{"title":"本次请求的ID。","description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"修改用户防护场景的防护配置","requestParamsDescription":"# 防护配置参数描述\n## API安全（**apisec**）\n当防护场景 **DefenseScene** 为 **apisec** 时，具体可以修改的配置项如下：\n\n当配置名称 **ConfigKey** 为 **autoEnabled** 时，**ConfigValue** 取值为\"**true**\"、\"**false**\"。\n\n#### 示例\n``` json\n{\n    \"InstaneId\": \"waf_cn****\",\n    \"DefenseScene\": \"apisec\",\n    \"ConfigKey\": \"autoEnabled\",\n    \"ConfigValue\": \"true\"\n}\n```"},"DescribeDefenseSceneConfig":{"summary":"查询用户防护场景的防护配置。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"255326","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"title":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqtm005"}},{"name":"RegionId","in":"query","schema":{"title":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"title":"阿里云资源组ID。","description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"DefenseScene","in":"query","schema":{"title":"待查询防护配置的防护场景。更多信息，请参见[ModifyDefenseRule](~~ModifyDefenseRule~~)的  ** DefenseScene** 参数。\n\n","description":"待查询防护配置的防护场景。更多信息，请参见[ModifyDefenseSceneConfig](~~2968435~~) 的  **DefenseScene** 参数。","type":"string","required":true,"example":"apisec"}},{"name":"ConfigKey","in":"query","schema":{"title":"待查询配置项的配置名称。更多信息，请参见[ModifyDefenseRule](~~ModifyDefenseRule~~)的  ** ConfigName** 参数。\n","description":"待查询配置项的配置名称。更多信息，请参见[ModifyDefenseSceneConfig](~~2968435~~)的  **ConfigKey** 参数。","type":"string","required":true,"example":"autoEnableStatus"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"title":"本次请求的ID。","description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"ConfigValue":{"title":"查询配置项对应的取值。更多信息，请参见[ModifyDefenseRule](~~ModifyDefenseRule~~)的  ** ConfigValue** 参数。\n","description":"查询配置项对应的取值。更多信息，请参见[ModifyDefenseSceneConfig](~~2968435~~)的  **ConfigValue** 参数。","type":"string","example":"true"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"ConfigValue\\\": \\\"true\\\"\\n}\",\"type\":\"json\"}]","title":"查询用户防护场景的防护配置"},"DescribeDefenseRuleStatistics":{"summary":"查询指定的WAF防护功能模块下规则的统计数据。","methods":["get","post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"248038","abilityTreeNodes":["FEATUREwafVZXFDE","FEATUREwafCU29M8","FEATUREwafWUANSU"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"TemplateId","in":"query","schema":{"description":"要查询的防护模板ID。","type":"integer","format":"int64","required":true,"example":"239136"}},{"name":"PrimaryKey","in":"query","schema":{"description":"一级查询条件。","type":"string","required":true,"enumValueTitles":{"riskLevel":"风险等级","detectType":"检测类型","action":"规则动作","scene":"防护场景","status":"规则状态"},"example":"scene","enum":["action","scene","status","type","riskLevel","detectType"]}},{"name":"SecondaryKey","in":"query","schema":{"description":"二级查询条件，传入的值不能跟一级查询条件相同。","type":"string","required":false,"enumValueTitles":{"riskLevel":"风险等级","detectType":"检测类型","action":"规则动作","type":"规则类型","scene":"防护场景","status":"规则状态"},"example":"action","enum":["action","scene","status","riskLevel","detectType"]}},{"name":"ThirdKey","in":"query","schema":{"description":"三级查询条件，传入的值不能跟一级、二级查询条件相同。","type":"string","required":false,"enumValueTitles":{"riskLevel":"风险等级","detectType":"检测类型","action":"规则动作","scene":"防护场景","status":"规则状态"},"example":"status","enum":["action","scene","status","riskLevel","detectType"]}},{"name":"FourthKey","in":"query","schema":{"description":"四级查询条件，传入的值不能跟一级、二级、三级查询条件相同。","type":"string","required":false,"enumValueTitles":{"riskLevel":"风险等级","detectType":"检测类型","action":"规则动作","scene":"防护场景","status":"规则状态"},"example":"riskLevel","enum":["action","scene","status","riskLevel","detectType"]}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"StatisticsInfos":{"description":"统计结果。","type":"array","items":{"description":"统计结果。","type":"object","properties":{"SecondaryValue":{"description":"二级查询条件对应的value值。","type":"string","example":"block"},"PrimaryValue":{"description":"一级查询条件对应的value值。","type":"string","example":"sytem"},"FourthValue":{"description":"四级查询条件对应的value值。","type":"string","example":"action"},"Count":{"description":"同时满足查询条件的规则数量。","type":"integer","format":"int64","example":"27"},"ThirdValue":{"description":"三级查询条件对应的value值。","type":"string","example":"1"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"StatisticsInfos\\\": [\\n    {\\n      \\\"SecondaryValue\\\": \\\"block\\\",\\n      \\\"PrimaryValue\\\": \\\"sytem\\\",\\n      \\\"FourthValue\\\": \\\"action\\\",\\n      \\\"Count\\\": 27,\\n      \\\"ThirdValue\\\": \\\"1\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护规则的统计信息","requestParamsDescription":"# 查询条件详解\n该查询接口支持的防护场景(scene)为 新版BOT管理（**bot_manager**） 和 新版Web核心防护（**waf_base**）。\n## 新版BOT管理（**bot_manager**）\n各级查询条件支持统计的参数如下。\n#### 参数描述\n|名称|类型|描述|\n| ------------ | ---------- | -----------|\n|scene|String|按照防护场景统计规则数量。|\n|status|Integer|按照规则状态统计规则数量。|\n|action|String|按照规则动作统计规则数量。|\n\n## 新版Web核心防护（**waf_base**）\n各级查询条件支持统计的参数如下。\n#### 参数描述\n|名称|类型|描述|\n| ------------ | ---------- | -----------|\n|type|String|统计不同类型规则的规则数量。|\n|detectType|String|按照检测类型统计规则数量。|\n|riskLevel|String|按照风险等级统计规则数量。|\n|status|Integer|按照规则状态统计规则数量。|\n|action|String|按照规则动作统计规则数量。|\n\n> \n>type仅支持作为一级查询条件参数，分别统计系统防护规则(system)和自定义正则规则(custom)的规则数量。"},"DescribeBaseSystemRules":{"summary":"查询Web核心防护的系统规则","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"245621","abilityTreeNodes":["FEATUREwaf1LM6V0","FEATUREwafOVI09M","FEATUREwafF105ZO"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为100，表示每页包含100条结果。","type":"integer","format":"int32","required":false,"example":"100","default":"20"}},{"name":"RuleId","in":"query","schema":{"description":"要查询的系统防护规则ID。","type":"integer","format":"int64","required":false,"example":"113089"}},{"name":"RuleStatus","in":"query","schema":{"description":"规则状态。取值范围如下：\n- **1**：已禁用。\n- **0** ：已启用。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"RuleAction","in":"query","schema":{"description":"规则动作，取值：\n\n- **block**：拦截。\n\n- **monitor**：观察。","type":"string","required":false,"example":"block"}},{"name":"Lang","in":"query","schema":{"description":"返回规则的语言类型。取值：\n\n- **zh**（默认）：中文。\n- **en**：英文。","type":"string","required":false,"example":"zh"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"DetectType","in":"query","schema":{"description":"检查模块。取值：\n- **sqli**：表示SQL注入。\n- **xss**：表示跨站脚本（XSS）。\n- **cmdi**：表示OS命令注入。\n- **expression_injection**：表示表达式注入。\n- **java_deserialization**：表示Java反序列化。\n- **dot_net_deserialization**：表示.net反序列化。\n- **php_deserialization**：表示PHP反序列化。\n- **code_exec**：表示代码执行。\n- **ssrf**：表示SSRF（服务器端请求伪造）。\n- **path_traversal**：表示路径穿越。\n- **arbitrary_file_uploading**：表示任意文件上传。\n- **webshell**：表示webshell。\n- **rfilei**：表示远程文件包含（RFI）。\n- **lfilei**：表示本地文件包含（LFI）。\n- **protocol_violation**：表示协议违背。\n- **scanner_behavior**：表示扫描器行为。\n- **logic_flaw**：表示业务逻辑缺陷。\n- **arbitrary_file_reading**：表示任意文件读取。\n- **arbitrary_file_download**：表示任意文件下载。\n- **xxe**：表示外部实体注入。\n- **csrf**：表示跨站请求伪造。\n- **crlf**：表示CRLF。\n- **other**：表示其他。","type":"string","required":false,"example":"sqli"}},{"name":"RiskLevel","in":"query","schema":{"description":"风险等级。取值：\n\n- **super_strict**：超严格。\n\n- **strict**：严格。\n\n- **medium**：中等。\n\n- **loose**：宽松。","type":"string","required":false,"example":"loose"}},{"name":"RuleName","in":"query","schema":{"description":"系统防护规则名称。","type":"string","required":false,"example":"systemRuleTest"}},{"name":"TemplateId","in":"query","schema":{"description":"防护模板ID。\n\n> \n> - 您可以设置该参数，查询某个Web核心防护规则模板中的系统防护规则。\n> - 该字段为空时，查询系统防护规则的默认配置。","type":"integer","format":"int64","required":false,"example":"24354"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"80736FA5-FA87-55F6-AA69-C5477C6FE6D0"},"Rules":{"description":"系统防护规则列表。","type":"array","items":{"description":"系统防护规则。","type":"object","properties":{"RuleId":{"description":"规则id。","type":"integer","format":"int64","example":"113089"},"UpdateTime":{"description":"规则的更新时间。","type":"integer","format":"int64","example":"1665460629000"},"RuleName":{"description":"防护规则名称。","type":"string","example":"systemRuleTest"},"RuleStatus":{"description":"规则状态。取值范围如下：\n- **1**：已禁用。\n- **0** ：已启用。","type":"integer","format":"int32","example":"1"},"Description":{"description":"规则的描述信息。","type":"string","example":"rule description"},"RuleAction":{"description":"规则动作，取值：\n\n- **block**：拦截。\n\n- **monitor**：观察。","type":"string","example":"block"},"CveId":{"description":"系统规则关联的漏洞CVE ID。","type":"string","example":"CVE-2021-34538"},"RiskLevel":{"description":"风险等级。取值：\n\n- **super_strict**：超严格。\n\n- **strict**：严格。\n\n- **medium**：中等。\n\n- **loose**：宽松。","type":"string","example":"super_strict"},"DetectType":{"description":"检查模块。取值：\n- **sqli**：表示SQL注入。\n- **xss**：表示跨站脚本（XSS）。\n- **cmdi**：表示OS命令注入。\n- **expression_injection**：表示表达式注入。\n- **java_deserialization**：表示Java反序列化。\n- **dot_net_deserialization**：表示.net反序列化。\n- **php_deserialization**：表示PHP反序列化。\n- **code_exec**：表示代码执行。\n- **ssrf**：表示SSRF（服务器端请求伪造）。\n- **path_traversal**：表示路径穿越。\n- **arbitrary_file_uploading**：表示任意文件上传。\n- **webshell**：表示webshell。\n- **rfilei**：表示远程文件包含（RFI）。\n- **lfilei**：表示本地文件包含（LFI）。\n- **protocol_violation**：表示协议违背。\n- **scanner_behavior**：表示扫描器行为。\n- **logic_flaw**：表示业务逻辑缺陷。\n- **arbitrary_file_reading**：表示任意文件读取。\n- **arbitrary_file_download**：表示任意文件下载。\n- **xxe**：表示外部实体注入。\n- **csrf**：表示跨站请求伪造。\n- **crlf**：表示CRLF。\n- **other**：表示其他。","type":"string","example":"sqli"}}}},"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"2"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"80736FA5-FA87-55F6-AA69-C5477C6FE6D0\\\",\\n  \\\"Rules\\\": [\\n    {\\n      \\\"RuleId\\\": 113089,\\n      \\\"UpdateTime\\\": 1665460629000,\\n      \\\"RuleName\\\": \\\"systemRuleTest\\\",\\n      \\\"RuleStatus\\\": 1,\\n      \\\"Description\\\": \\\"rule description\\\",\\n      \\\"RuleAction\\\": \\\"block\\\",\\n      \\\"CveId\\\": \\\"CVE-2021-34538\\\",\\n      \\\"RiskLevel\\\": \\\"super_strict\\\",\\n      \\\"DetectType\\\": \\\"sqli\\\"\\n    }\\n  ],\\n  \\\"TotalCount\\\": 2\\n}\",\"type\":\"json\"}]","title":"查询Web核心防护系统规则"},"CreateMajorProtectionBlackIp":{"summary":"添加WAF重保场景防护IP黑名单。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"124760","abilityTreeNodes":["FEATUREwaf2KYU04"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-2r42s6y****"}},{"name":"TemplateId","in":"query","schema":{"description":"重保场景防护规则模板ID。","type":"integer","format":"int64","required":true,"example":"2221"}},{"name":"RuleId","in":"query","schema":{"description":"重保IP黑名单规则ID。","type":"integer","format":"int64","required":true,"example":"232324"}},{"name":"IpList","in":"query","schema":{"description":"添加的IP黑名单。支持自定义IP或IP段黑名单，同时支持IPv4和IPv6。多个IP之间用半角逗号（,）分隔。\n更多信息，请参见[重保场景防护](~~425591~~)。\n","type":"string","required":true,"example":"192.0.XX.XX,192.0.XX.XX/24"}},{"name":"ExpiredTime","in":"query","schema":{"description":"生效截止时间戳，单位为秒。\n> 取值为**0**时，表示永久生效。","type":"integer","format":"int64","required":true,"example":"1716528465"}},{"name":"Description","in":"query","schema":{"title":"防护对象1domain \t描述信息。","description":"IP黑名单的描述信息。","type":"string","required":false,"example":"Protection for major events"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateMajorProtectionBlackIpResponse>\\n    <RequestId>D7861F61-5B61-46CE-A47C-6B19160D5EB0</RequestId>\\n</CreateMajorProtectionBlackIpResponse>\",\"errorExample\":\"\"}]","title":"添加重保场景防护IP黑名单","description":"该接口仅适用于中国站。"},"ModifyMajorProtectionBlackIp":{"summary":"修改重保场景黑IP。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"124761","abilityTreeNodes":["FEATUREwaf2KYU04"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"重保防护场景模板ID。","type":"integer","format":"int64","required":true,"example":"5132"}},{"name":"RuleId","in":"query","schema":{"description":"重保防护IP黑名单规则ID。","type":"integer","format":"int64","required":true,"example":"20012033"}},{"name":"IpList","in":"query","schema":{"title":"防护对象来源， custom：来自用户自定义 access:   来自接入","description":"要添加的IP黑名单。支持自定义IP或IP段黑名单，同时支持IPv4和IPv6。多个IP之间用半角逗号（,）分隔。\n更多信息，请参见[重保场景防护](~~425591~~)。\n","type":"string","required":true,"example":"12.XX.XX.2,3.XX.XX.3/24"}},{"name":"ExpiredTime","in":"query","schema":{"description":"生效截止时间戳，单位：秒。\n> 取值为**0**时，表示永久生效。","type":"integer","format":"int64","required":true,"example":"1662603328"}},{"name":"Description","in":"query","schema":{"title":"防护对象1domain \t描述信息。","description":"描述信息。","type":"string","required":false,"example":"test"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"66A98669-CC6E-4F3E-80A6-3014697B11AE"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-3014697B11AE\\\"\\n}\",\"type\":\"json\"}]","title":"修改重保场景防护IP黑名单"},"DeleteMajorProtectionBlackIp":{"summary":"删除重保场景黑IP。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"124769","abilityTreeNodes":["FEATUREwaf2KYU04"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"重保防护场景模板ID。","type":"integer","format":"int64","required":true,"example":"5332"}},{"name":"RuleId","in":"query","schema":{"description":"重保防护IP黑名单规则ID。","type":"integer","format":"int64","required":true,"example":"20013135"}},{"name":"IpList","in":"query","schema":{"title":"防护对象来源， custom：来自用户自定义 access:   来自接入","description":"要删除的IP黑名单。支持自定义IP或IP段黑名单，同时支持IPv4和IPv6。多个IP之间用半角逗号（,）分隔。\n更多信息，请参见[重保场景防护](~~425591~~)。\n","type":"string","required":true,"example":"192.0.XX.XX,192.0.XX.XX/24\n"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"66A98669-CC6E-4F3E-80A6-3014697B11AE"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-3014697B11AE\\\"\\n}\",\"type\":\"json\"}]","title":"删除重保场景防护IP黑名单"},"ClearMajorProtectionBlackIp":{"summary":"清空重保场景黑IP。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"124771","abilityTreeNodes":["FEATUREwaf2KYU04"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"重保防护场景模板ID。","type":"integer","format":"int64","required":true,"example":"5132"}},{"name":"RuleId","in":"query","schema":{"description":"重保防护IP黑名单规则ID。","type":"integer","format":"int64","required":true,"example":"20012033"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"66A98669-CC6E-4F3E-80A6-3014697B11AE"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-3014697B11AE\\\"\\n}\",\"type\":\"json\"}]","title":"清空重保场景防护IP黑名单"},"DescribeMajorProtectionBlackIps":{"summary":"分页查询重保黑IP。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwaf2KYU04"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"TemplateId","in":"query","schema":{"description":"重保防护模板ID。","type":"integer","format":"int64","required":false,"example":"5673"}},{"name":"RuleId","in":"query","schema":{"description":"重保IP黑名单规则ID。","type":"integer","format":"int64","required":false,"example":"20013199"}},{"name":"IpLike","in":"query","schema":{"description":"要查询的IP。您可以设置该参数，模糊查询已添加的IP黑名单。","type":"string","required":false,"example":"192.0.XX.XX"}},{"name":"OrderBy","in":"query","schema":{"description":"设置排序属性，支持按照如下属性**倒序排列**。取值：\n\n- **gmtModified**：表示按照修改时间排序。\n\n- **ip**：表示按照IP排序。\n\n- **templateId**：表示按照模板ID排序。\n\n- **id**：表示按照主键排序。","type":"string","required":false,"example":"gmtModified"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int32","required":false,"example":"10","default":"20"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"黑名单IP的总数。","type":"integer","format":"int64","example":"63"},"RequestId":{"description":"请求ID。","type":"string","example":"41631674-EEB0-5B02-BEB4-40A758E9B841"},"IpList":{"description":"黑名单IP列表。","type":"array","items":{"description":"黑名单IP列表。","type":"object","properties":{"Description":{"description":"描述信息。","type":"string","example":"test0003asdffas"},"Ip":{"description":"IP地址。","type":"string","example":"192.0.XX.XX"},"RuleId":{"description":"重保IP黑名单规则ID。","type":"integer","format":"int64","example":"8508970"},"ExpiredTime":{"description":"生效截止时间戳，单位为秒。\n> 取值为**0**时，表示永久生效。","type":"integer","format":"int64","example":"1662603328"},"GmtModified":{"description":"黑名单IP的修改时间。","type":"integer","format":"int64","example":"1665456202000"},"TemplateId":{"description":"重保防护模板ID。","type":"integer","format":"int64","example":"9684"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 63,\\n  \\\"RequestId\\\": \\\"41631674-EEB0-5B02-BEB4-40A758E9B841\\\",\\n  \\\"IpList\\\": [\\n    {\\n      \\\"Description\\\": \\\"test0003asdffas\\\",\\n      \\\"Ip\\\": \\\"192.0.XX.XX\\\",\\n      \\\"RuleId\\\": 8508970,\\n      \\\"ExpiredTime\\\": 1662603328,\\n      \\\"GmtModified\\\": 1665456202000,\\n      \\\"TemplateId\\\": 9684\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"分页查询重保防护IP黑名单"},"DeleteApisecAbnormals":{"summary":"批量删除API安全风险。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"229948","abilityTreeNodes":["FEATUREwafWE25G7"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-nwy*****"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"AbnormalIds","in":"query","style":"repeatList","schema":{"description":"API风险id列表。","type":"array","items":{"description":"API风险id。","type":"string","required":false,"example":"4d4b1a5fe2100b86f629e2db63*****"},"required":true,"maxItems":20,"minItems":1}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"批量删除API安全风险"},"ModifyApisecAbnormals":{"summary":"批量修改API安全风险状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"229991","abilityTreeNodes":["FEATUREwafWE25G7"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-****"}},{"name":"AbnormalIds","in":"query","style":"repeatList","schema":{"description":"API风险id列表。","type":"array","items":{"description":"API风险id。","type":"string","required":false,"example":"a50b820efee0989df3b54b2089*****"},"required":true,"maxItems":20,"minItems":1}},{"name":"UserStatus","in":"query","schema":{"description":"风险状态。取值：\n\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **toBeFixed**：表示待修复。\n- **fixed**：表示已修复。\n- **ignored**：表示忽略。","type":"string","required":true,"example":"fixed"}},{"name":"Note","in":"query","schema":{"description":"备注。","type":"string","required":false,"example":"already fixed."}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"C1823E96-EF4B-5BD2-9E02-1D18****3ED8"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C1823E96-EF4B-5BD2-9E02-1D18****3ED8\\\"\\n}\",\"type\":\"json\"}]","title":"批量修改API安全风险状态"},"DescribeApisecAssetTrend":{"summary":"查询API安全API资产趋势。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"215756","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-ww**b06"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"590"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间，格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","required":false,"example":"1668496310000"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","required":false,"example":"1668496310000"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek**7uq"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"},"Data":{"description":"API资产信息列表。","type":"array","items":{"description":"API资产信息。","type":"object","properties":{"AssetOffline":{"description":"失活API的数量。","type":"integer","format":"int64","example":"20"},"AssetCount":{"description":"API资产总数。","type":"integer","format":"int64","example":"80"},"Timestamp":{"description":"统计的时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1683600042"},"AssetActive":{"description":"活跃API的数量。","type":"integer","format":"int64","example":"60"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"AssetOffline\\\": 20,\\n      \\\"AssetCount\\\": 80,\\n      \\\"Timestamp\\\": 1683600042,\\n      \\\"AssetActive\\\": 60\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全API资产趋势"},"DescribeApisecAbnormalDomainStatistic":{"summary":"查询API安全风险域名统计数据。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"215781","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-45919n***"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1682571600"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1687313820"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，设置当前页面的页码。默认值为**1**。","type":"integer","format":"int64","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页的行数。默认值：**10**","type":"integer","format":"int64","required":false,"maximum":"50","minimum":"1","example":"10","default":"5"}},{"name":"OrderWay","in":"query","schema":{"description":"列表排序方式。取值：\n\n- **asc**：正序。\n\n- **desc**：倒序。","type":"string","required":false,"example":"desc"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回的总记录数。","type":"integer","format":"int64","example":"1"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"66A98669-CC6E-4F3E-80A6-3014***B11AE"},"Data":{"description":"数据列表。","type":"array","items":{"description":"响应数据。","type":"object","properties":{"High":{"description":"高危风险数量。","type":"integer","format":"int64","example":"12"},"ApiCount":{"description":"API数量。","type":"integer","format":"int64","example":"10"},"Low":{"description":"低危风险数量。","type":"integer","format":"int64","example":"4"},"Medium":{"description":"中危风险数量。","type":"integer","format":"int64","example":"9"},"Domain":{"description":"域名。","type":"string","example":"ba.aliyun.com"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 1,\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-3014***B11AE\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"High\\\": 12,\\n      \\\"ApiCount\\\": 10,\\n      \\\"Low\\\": 4,\\n      \\\"Medium\\\": 9,\\n      \\\"Domain\\\": \\\"ba.aliyun.com\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全风险域名统计数据"},"DescribeApisecEventDomainStatistic":{"summary":"查询API安全事件域名统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"215784","abilityTreeNodes":["FEATUREwafDX9EQ6"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n>For hybrid cloud scenarios only, you can call the [DescribeHybridCloudClusters](~~2849376~~) operation to query the hybrid cloud clusters.","type":"string","required":false,"example":"428"}},{"name":"StartTime","in":"query","schema":{"description":"开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1668496310"}},{"name":"EndTime","in":"query","schema":{"description":"结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1686895256"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**5**，表示每页包含**5**条结果。","type":"integer","format":"int64","required":false,"maximum":"50","minimum":"1","example":"10","default":"5"}},{"name":"OrderWay","in":"query","schema":{"description":"列表排序方式。取值：\n\n- **asc**：正序。\n- **desc**：倒序。","type":"string","required":false,"example":"desc"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfmvyknl****fa"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"10"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"66A98669-*******-80A6-3014697B11AE"},"Data":{"description":"返回结果。","type":"array","items":{"description":"返回结果。","type":"object","properties":{"High":{"description":"高危事件数量。","type":"integer","format":"int64","example":"10"},"ApiCount":{"description":"API数量。","type":"integer","format":"int64","example":"10"},"Low":{"description":"低危事件数量。","type":"integer","format":"int64","example":"2"},"Medium":{"description":"中危事件数量。","type":"integer","format":"int64","example":"6"},"Domain":{"description":"域名。","type":"string","example":"a.aliyun.com"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 10,\\n  \\\"RequestId\\\": \\\"66A98669-*******-80A6-3014697B11AE\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"High\\\": 10,\\n      \\\"ApiCount\\\": 10,\\n      \\\"Low\\\": 2,\\n      \\\"Medium\\\": 6,\\n      \\\"Domain\\\": \\\"a.aliyun.com\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全事件域名统计"},"DescribeApisecSensitiveDomainStatistic":{"summary":"查询API安全敏感数据域名统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"215787","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"StartTime","in":"query","schema":{"description":"开始时间，格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","required":false,"example":"1668496310"}},{"name":"EndTime","in":"query","schema":{"description":"结束时间，格式为Unix时间戳（UTC时间），单位为毫秒。","type":"integer","format":"int64","required":false,"example":"1686895256"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**5**，表示每页包含5条结果。","type":"integer","format":"int64","required":false,"maximum":"50","minimum":"1","example":"10","default":"5"}},{"name":"Type","in":"query","schema":{"description":"敏感数据类型。取值：\n\n- request：请求敏感数据。\n\n- response：响应敏感数据。","type":"string","required":false,"example":"request"}},{"name":"OrderWay","in":"query","schema":{"description":"列表排序方式。取值：\n\n- asc：正序。\n\n- desc：倒序。","type":"string","required":false,"example":"desc"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"27"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"56B40D30-4960-4F19-B7D5-2B1F***6CB70"},"Data":{"description":"返回结果。","type":"array","items":{"description":"返回结果。","type":"object","properties":{"SensitiveLevel":{"description":"接口敏感等级。取值：\n- **S1**：表示低敏感。\n- **S2**：表示中敏感。\n- **S3**：表示高敏感。","type":"string","example":"S3"},"ApiCount":{"description":"涉及API数。","type":"integer","format":"int64","example":"10"},"SensitiveCode":{"description":"敏感数据Code。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的敏感数据类型。","type":"string","example":"10"},"SensitiveName":{"description":"敏感数据名称。","type":"string","example":"自定义敏感类型。"},"DomainCount":{"description":"涉及站点数。","type":"integer","format":"int64","example":"10"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 27,\\n  \\\"RequestId\\\": \\\"56B40D30-4960-4F19-B7D5-2B1F***6CB70\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"SensitiveLevel\\\": \\\"S3\\\",\\n      \\\"ApiCount\\\": 10,\\n      \\\"SensitiveCode\\\": \\\"10\\\",\\n      \\\"SensitiveName\\\": \\\"自定义敏感类型。\\\",\\n      \\\"DomainCount\\\": 10\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全敏感数据域名统计"},"ModifyApisecEvents":{"summary":"批量修改API安全事件状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"230005","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_***"}},{"name":"EventIds","in":"query","style":"repeatList","schema":{"description":"API安全事件id列表。","type":"array","items":{"description":"API安全事件id。","type":"string","required":false,"example":"7298c9f5b137c83****"},"required":true,"maxItems":20,"minItems":1}},{"name":"UserStatus","in":"query","schema":{"description":"事件状态。取值：\n\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **ignored**：表示忽略。","type":"string","required":true,"example":"confirmed"}},{"name":"Note","in":"query","schema":{"description":"备注。","type":"string","required":false,"example":"already confirmed."}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-****-6B19160D5EB0"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-****-6B19160D5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"批量修改API安全事件状态"},"DeleteApisecEvents":{"summary":"批量删除API安全事件。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"230004","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-g4t*****"}},{"name":"EventIds","in":"query","style":"repeatList","schema":{"description":"API安全事件id列表。","type":"array","items":{"description":"API安全事件id。","type":"string","required":false,"example":"eb370fb29781f75c07cabd5b2*****"},"required":true,"maxItems":20,"minItems":1}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"批量删除API安全事件"},"ModifyApisecLogDeliveryStatus":{"summary":"修改API安全日志订阅状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"225244","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3_public_cn-uqm2z****0a"}},{"name":"AssertKey","in":"query","schema":{"description":"日志订阅类型。取值：\n\n- **risk**：表示风险信息。\n- **event**：表示攻击事件信息。\n- **asset**：表示资产信息。","type":"string","required":true,"example":"risk"}},{"name":"Status","in":"query","schema":{"description":"API安全日志订阅开启状态。取值：\n\n- **true**：表示开启。\n\n- **false**：表示关闭。","type":"boolean","required":true,"example":"true"}},{"name":"RegionId","in":"query","schema":{"type":"string","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F35F45B0-5D6B-4238-BE02-A62D****E840"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F35F45B0-5D6B-4238-BE02-A62D****E840\\\"\\n}\",\"type\":\"json\"}]","title":"修改API安全日志订阅状态"},"CreateApiExport":{"summary":"创建API安全数据导出任务。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"156330","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-zxu3***"}},{"name":"Region","in":"query","schema":{"description":"语言类型。取值：\n\n- **cn**（默认）：中文。\n- **en**：英文。","type":"string","required":false,"example":"cn","default":"cn"}},{"name":"ZoneId","in":"query","schema":{"description":"时区ID。","type":"string","required":false,"example":"Asia/Shanghai"}},{"name":"Type","in":"query","schema":{"description":"导出任务类型。取值：\n\n- **apisec_api**（默认）：表示API资产任务。\n\n- **apisec_abnormal**：表示API风险任务。\n\n- **apisec_event**：表示API安全事件任务。","type":"string","required":false,"example":"apisec_api","default":"apisec_api"}},{"name":"Param","in":"query","schema":{"description":"导出任务的扩展参数，支持通过条件匹配过滤导出的内容，以一系列参数构造的JSON格式转化成字符串。\n>  根据所指定的**导出任务类型**（**Type**）不同，具体涉及的参数有所不同。详细信息，请参见**导出任务参数描述**。","type":"string","required":false,"example":"{\n    \"startTime\": 1741449600,\n    \"endTime\": 1744079820,\n    \"sensitiveLevel\": \"L1\"\n}"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"993"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"62382992-F9AA-52B2-9147-66B3B9E51D74"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"62382992-F9AA-52B2-9147-66B3B9E51D74\\\"\\n}\",\"type\":\"json\"}]","title":"创建API安全数据导出任务","requestParamsDescription":"## 导出任务参数描述\n### API资产任务（**apisec_api**）\n#### 参数描述\n参数的详细取值可以参考接口[DescribeApisecApiResources](~~DescribeApisecApiResources~~)的同名参数。\n|名称|类型|示例值|描述|\n| ----------| ------------ | ---------- | -----------|\n|startTime | Integer|1741449600| 查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。|\n| EndTime | Integer|1744097760| 查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。|\n| MatchedHost | String|a.aliyun.com| API接口所属的域名或IP。|\n| ApiFormat | String|/auth/login| API接口。|\n| SensitiveType | String|1004| 响应敏感数据类型。|\n| ApiStatus | String|OfflineInterface| API的状态。|\n| Follow | Long|0| 是否关注。|\n| ApiType | String| innerAPI | 服务对象。|\n| ApiTag | String|SendMail| API的业务用途。|\n| SensitiveLevel | String| L3 | 接口敏感等级。|\n| ApiMethod | String| POST | API的请求方法。|\n| RequestSensitiveType | String|1004,1005| 请求敏感信息类型。|\n| AuthFlag | String|0| 是否有鉴权字段。|\n\n\n### API风险任务（**apisec_abnormal**）\n#### 参数描述\n参数的详细取值可以参考接口[DescribeApisecAbnormals](~~DescribeApisecAbnormals~~)的同名参数。\n|名称|类型|示例值|描述|\n| ----------| ------------ | ---------- | -----------|\n|startTime | Integer|1741449600| 查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。|\n| EndTime | Integer|1744097760| 查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。|\n| MatchedHost | String|a.aliyun.com| API接口所属的域名或IP。|\n| ApiFormat | String|/api/users/login| API接口。|\n| AbnormalLevel | String|medium| 风险等级。|\n| AbnormalTag | String| LackOfSpeedLimit | 风险类型。|\n| UserStatus | String| Confirmed | 风险状态。|\n| Origin | String| custom | 风险类型的来源。|\n| ApiTag | String|SendMail| API的业务用途。|\n\n\n### API事件任务（**apisec_event**）\n#### 参数描述\n参数的详细取值可以参考接口[DescribeApisecEvents](~~DescribeApisecEvents~~)的同名参数。\n|名称|类型|示例值|描述|\n| ----------| ------------ | ---------- | -----------|\n| StartTs | Integer|1741449600| 查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。|\n| EndTs | Integer|1744097760| 查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。|\n| MatchedHost | String|a.aliyun.com| API接口所属的域名或IP。|\n| ApiFormat | String|/api/users/login| API接口。|\n| EventLevel | String|medium| 事件等级。|\n| EventTag | String| ObtainSensitiveUnauthorized | 事件类型。|\n| UserStatus | String| Confirmed | 事件状态。|\n| Origin | String| custom | 事件类型的来源。|\n| ApiTag | String|SendMail| API的业务用途。|"},"DescribeApiExports":{"summary":"查询API安全导出任务列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"156331","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"Lang","in":"query","schema":{"description":"语言类型。取值：\n\n- **zh**：中文。\n- **en**：英文。","type":"string","required":false,"example":"zh"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"200","minimum":"1","example":"10","default":"10"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-p****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D9532525-E885-54E7-A178-D5554D563AFB"},"ApiExports":{"description":"导出任务的列表。","type":"array","items":{"description":"导出任务信息。","type":"object","properties":{"Status":{"description":"导出任务的状态。取值：\n\n- **expired**：表示文件过期。\n\n- **exporting**：表示正在导出。\n\n- **completed**：表示导出成功。","type":"string","example":"completed"},"FileUrl":{"description":"文件下载地址。","type":"string","example":"https://waf-api-sec-cn.***.aliyuncs.com/file_1610954145***.csv"},"Type":{"description":"导出任务类型。取值：\n\n- **apisec_api**：表示API资产任务。\n\n- **apisec_abnormal**：表示API风险任务。\n\n- **apisec_event**：表示API安全事件任务。","type":"string","example":"apisec_api"},"Format":{"description":"导出文件格式。","type":"string","example":"CSV"},"FileName":{"description":"文件名称。","type":"string","example":"file_16109541456445334c0f01d9a7444e0e908***.csv"},"CreateTime":{"description":"导出任务的创建时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1725604852"}}}},"Total":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"7"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D9532525-E885-54E7-A178-D5554D563AFB\\\",\\n  \\\"ApiExports\\\": [\\n    {\\n      \\\"Status\\\": \\\"completed\\\",\\n      \\\"FileUrl\\\": \\\"https://waf-api-sec-cn.***.aliyuncs.com/file_1610954145***.csv\\\",\\n      \\\"Type\\\": \\\"apisec_api\\\",\\n      \\\"Format\\\": \\\"CSV\\\",\\n      \\\"FileName\\\": \\\"file_16109541456445334c0f01d9a7444e0e908***.csv\\\",\\n      \\\"CreateTime\\\": 1725604852\\n    }\\n  ],\\n  \\\"Total\\\": 7\\n}\",\"type\":\"json\"}]","title":"查询API安全导出任务列表"},"DescribeApisecAbnormals":{"summary":"查询API安全风险列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"168999","abilityTreeNodes":["FEATUREwafWE25G7"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n>  You can call the [DescribeInstance](~~433756~~) operation to query the ID of the WAF instance.","type":"string","required":true,"example":"waf_v2_public_cn-z***9g301"}},{"name":"ApiId","in":"query","schema":{"description":"风险对应的API的ID。","type":"string","required":false,"example":"bd9efb8ad******d9ca6"}},{"name":"ApiFormat","in":"query","schema":{"description":"风险对应的API接口。","type":"string","required":false,"example":"/api/users/login"}},{"name":"MatchedHost","in":"query","schema":{"description":"API接口所属的域名或IP。","type":"string","required":false,"example":"a.aliyun.com"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"string","required":false,"example":"1684252800"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"string","required":false,"example":"1684382100"}},{"name":"OrderKey","in":"query","schema":{"description":"排序字段的名称。取值：\n- **discoverTime**：表示风险首次检出时间（默认）。\n- **abnormalLevel**：表示风险等级。\n- **latestDiscoverTime**：表示风险最近检出时间。","type":"string","required":false,"example":"firstTime"}},{"name":"OrderWay","in":"query","schema":{"description":"排序的方式。取值：\n- **desc**：表示降序（默认）。\n- **asc**：表示升序。","type":"string","required":false,"example":"desc"}},{"name":"AbnormalLevel","in":"query","schema":{"description":"风险等级。取值：\n- **high**：表示高危。\n- **medium**：表示中危。\n- **low**：表示低危。","type":"string","required":false,"example":"medium"}},{"name":"AbnormalTag","in":"query","schema":{"description":"风险类型。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的风险类型。","type":"string","required":false,"example":"LackOfSpeedLimit"}},{"name":"AbnormalId","in":"query","schema":{"description":"风险ID。","type":"string","required":false,"example":"29c6401****99a2bad3943e26d8"}},{"name":"UserStatus","in":"query","schema":{"description":"风险状态。取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **toBeFixed**：表示待修复。\n- **fixed**：表示已修复（人工验证）。\n- **ignored**：表示忽略。\n- **toBeVerified**：表示待系统验证。\n- **notFixed**：表示验证未修复。\n- **systemFixed**：表示已修复（系统验证）。","type":"string","required":false,"example":"Confirmed"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"2","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"200","minimum":"1","example":"10","default":"10"}},{"name":"Origin","in":"query","schema":{"description":"风险类型的来源。取值：\n- **custom**：表示自定义。\n- **default**：表示内置。","type":"string","required":false,"example":"custom"}},{"name":"ApiTag","in":"query","schema":{"description":"API的业务用途。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的业务用途。","type":"string","required":false,"example":"RegisterAPI"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"546"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"5"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"9469646C-F2CC-5F0F-8401-C53***4F46"},"Data":{"description":"风险列表。","type":"array","items":{"description":"风险信息。","type":"object","properties":{"AbnormalId":{"description":"风险ID。","type":"string","example":"7c1431f27ae7e9c8cc64095***68e"},"Origin":{"description":"风险类型的来源。取值：\n- **custom**：表示自定义。\n- **default**：表示内置。","type":"string","example":"custom"},"LastestTime":{"description":"API资产最近访问时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1684252800"},"FirstTime":{"description":"API资产首次发现时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1701138088"},"AbnromalStatus":{"description":"风险状态。","type":"string","example":"unresolved"},"ApiFormat":{"description":"风险对应的API接口。","type":"string","example":"/api/login"},"ApiTag":{"description":"API的业务用途。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的业务用途。","type":"string","example":"SendMail"},"DiscoverTime":{"description":"风险的首次检出时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1684252800"},"UserStatus":{"description":"风险状态。取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **toBeFixed**：表示待修复。\n- **fixed**：表示已修复（人工验证）。\n- **ignored**：表示忽略。\n- ** toBeVerified**：表示待系统验证。\n- ** notFixed**：表示验证未修复。\n- ** systemFixed**：表示已修复（系统验证）。","type":"string","example":"Confirmed"},"IgnoreTime":{"description":"用户标记的忽略时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1684252800"},"Follow":{"description":"是否关注。取值：\n- **1**：表示关注。\n- **0**：表示未关注（默认）。","type":"integer","format":"int64","example":"0"},"MatchedHost":{"description":"API接口所属的域名或IP。","type":"string","example":"a.aliyun.com"},"Note":{"description":"备注信息。","type":"string","example":"已通知业务"},"AbnormalEventNumber":{"description":"风险关联的事件数量。","type":"integer","format":"int64","example":"2"},"AbnormalTag":{"description":"风险类型。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的风险类型。","type":"string","example":"LackOfSpeedLimit"},"AbnormalInfo":{"description":"风险详细信息，以一系列参数构造的JSON格式转化成字符串。包括：\n- **rule**：表示风险对应的规则。\n- **data_type**：表示敏感数据类型。\n- **custom_rule_name**：表示自定义规则名称。\n- **rule_name**：表示内置规则名称。","type":"string","example":"{\n    \"data_type\": [\"1005\",\"1004\"],\n    \"rule\": {\n        \"parent\": \"RiskType_Permission\",\n        \"code\": \"Risk_UnauthSensitive\",\n        \"level\": \"high\",\n        \"origin\": \"default\",\n        \"name\": \"Risk_UnauthSensitive\"\n    }\n}"},"ApiId":{"description":"风险对应的API的ID。","type":"string","example":"09559c0d71ca2ffc996b81***836d8"},"AbnormalLevel":{"description":"风险等级。取值：\n- **high**：表示高危。\n- **medium**：表示中危。\n- **low**：表示低危。","type":"string","example":"high"},"LatestDiscoverTime":{"description":"风险的最近检出时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1684252800"},"Examples":{"description":"风险对应的样例列表。","type":"array","items":{"description":"样例信息，以一系列参数构造的JSON格式转化成字符串。包括：\n- **param_num**：表示API参数数量。\n- **request_method**：表示请求方式。\n- **protocol**：表示请求协议。\n- **api_url**：表示请求URL。\n- **poc_payload**：表示请求。\n- **request**：表示请求样例。\n- **response**：表示响应样例。\n- **param**：表示请求参数。","type":"string","example":"{\n    \"request\": {\"referer\": \"-\",\"content_type\": \"-\",\"cookie\": \"-\",\"method\": \"GET\",\"param\": [],\"host\": \"test.cn\"},\n    \"protocol\": \"https\",\n    \"api_url\": \"https://test.cn:443/index.php\",\n    \"param\": [],\n    \"response\": {\"param\": [], \"sensitive_type\": {}, \"header\": {},\"body\": \"\", \"status\": 405 },\n    \"request_method\": \"GET\",\n    \"poc_payload\": \"curl -X GET -H 'Accept: */*' -H 'Connection: keep-alive' -H 'User-agent: python-requests/2.32.3' -H 'X-forwarded-for: {{IPv6 Address}}' -H 'Host: test.cn' -H 'Accept-encoding: gzip, deflate' 'https://test.cn:443/index.php'\",\n    \"param_num\": 0\n}"}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 5,\\n  \\\"RequestId\\\": \\\"9469646C-F2CC-5F0F-8401-C53***4F46\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"AbnormalId\\\": \\\"7c1431f27ae7e9c8cc64095***68e\\\",\\n      \\\"Origin\\\": \\\"custom\\\",\\n      \\\"LastestTime\\\": 1684252800,\\n      \\\"FirstTime\\\": 1701138088,\\n      \\\"AbnromalStatus\\\": \\\"unresolved\\\",\\n      \\\"ApiFormat\\\": \\\"/api/login\\\",\\n      \\\"ApiTag\\\": \\\"SendMail\\\",\\n      \\\"DiscoverTime\\\": 1684252800,\\n      \\\"UserStatus\\\": \\\"Confirmed\\\",\\n      \\\"IgnoreTime\\\": 1684252800,\\n      \\\"Follow\\\": 0,\\n      \\\"MatchedHost\\\": \\\"a.aliyun.com\\\",\\n      \\\"Note\\\": \\\"已通知业务\\\",\\n      \\\"AbnormalEventNumber\\\": 2,\\n      \\\"AbnormalTag\\\": \\\"LackOfSpeedLimit\\\",\\n      \\\"AbnormalInfo\\\": \\\"{\\\\n    \\\\\\\"data_type\\\\\\\": [\\\\\\\"1005\\\\\\\",\\\\\\\"1004\\\\\\\"],\\\\n    \\\\\\\"rule\\\\\\\": {\\\\n        \\\\\\\"parent\\\\\\\": \\\\\\\"RiskType_Permission\\\\\\\",\\\\n        \\\\\\\"code\\\\\\\": \\\\\\\"Risk_UnauthSensitive\\\\\\\",\\\\n        \\\\\\\"level\\\\\\\": \\\\\\\"high\\\\\\\",\\\\n        \\\\\\\"origin\\\\\\\": \\\\\\\"default\\\\\\\",\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"Risk_UnauthSensitive\\\\\\\"\\\\n    }\\\\n}\\\",\\n      \\\"ApiId\\\": \\\"09559c0d71ca2ffc996b81***836d8\\\",\\n      \\\"AbnormalLevel\\\": \\\"high\\\",\\n      \\\"LatestDiscoverTime\\\": 1684252800,\\n      \\\"Examples\\\": [\\n        \\\"{\\\\n    \\\\\\\"request\\\\\\\": {\\\\\\\"referer\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"content_type\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"cookie\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"method\\\\\\\": \\\\\\\"GET\\\\\\\",\\\\\\\"param\\\\\\\": [],\\\\\\\"host\\\\\\\": \\\\\\\"test.cn\\\\\\\"},\\\\n    \\\\\\\"protocol\\\\\\\": \\\\\\\"https\\\\\\\",\\\\n    \\\\\\\"api_url\\\\\\\": \\\\\\\"https://test.cn:443/index.php\\\\\\\",\\\\n    \\\\\\\"param\\\\\\\": [],\\\\n    \\\\\\\"response\\\\\\\": {\\\\\\\"param\\\\\\\": [], \\\\\\\"sensitive_type\\\\\\\": {}, \\\\\\\"header\\\\\\\": {},\\\\\\\"body\\\\\\\": \\\\\\\"\\\\\\\", \\\\\\\"status\\\\\\\": 405 },\\\\n    \\\\\\\"request_method\\\\\\\": \\\\\\\"GET\\\\\\\",\\\\n    \\\\\\\"poc_payload\\\\\\\": \\\\\\\"curl -X GET -H 'Accept: */*' -H 'Connection: keep-alive' -H 'User-agent: python-requests/2.32.3' -H 'X-forwarded-for: {{IPv6 Address}}' -H 'Host: test.cn' -H 'Accept-encoding: gzip, deflate' 'https://test.cn:443/index.php'\\\\\\\",\\\\n    \\\\\\\"param_num\\\\\\\": 0\\\\n}\\\"\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全风险列表"},"DescribeApisecApiResources":{"summary":"查询API安全资产列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"168967","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-u***gr20j"}},{"name":"ApiId","in":"query","schema":{"description":"API的ID。","type":"string","required":false,"example":"867ade***24ee6e205b8da82b8f84"}},{"name":"ApiFormat","in":"query","schema":{"description":"API接口。","type":"string","required":false,"example":"/auth/login"}},{"name":"MatchedHost","in":"query","schema":{"description":"API接口所属的域名或IP。","type":"string","required":false,"example":"a.aliyun.com"}},{"name":"SensitiveType","in":"query","schema":{"description":"响应敏感数据类型。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的敏感数据类型。","type":"string","required":false,"example":"1004"}},{"name":"ApiStatus","in":"query","schema":{"description":"API的状态。取值：\n- **NewbornInterface**：表示新增。\n- **OfflineInterface**：表示失活。\n- **normal**：表示正常。","type":"string","required":false,"example":"OfflineInterface"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"string","required":false,"example":"1681833600"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"string","required":false,"example":"1683388800"}},{"name":"OrderKey","in":"query","schema":{"description":"排序字段的名称。取值：\n- **allCnt**：表示近30天总访问量。\n- **botCnt**：表示近30天机器访问量。\n- **crossBorderCnt**：表示近30天跨境访问量。\n- **abnormalNum**：表示API关联风险数量。\n- **eventNum**：表示API关联事件数量。\n- **farthestTs**：表示首次发现时间。\n- **lastestTs**：表示最近访问时间。","type":"string","required":false,"example":"allCnt"}},{"name":"OrderWay","in":"query","schema":{"description":"排序的方式。取值：\n- **desc**：表示降序（默认）。\n- **asc**：表示升序。","type":"string","required":false,"example":"desc"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"200","minimum":"1","example":"10","default":"10"}},{"name":"Follow","in":"query","schema":{"description":"是否关注。取值：\n- **1**：表示关注。\n- **0**：表示未关注。","type":"integer","format":"int64","required":false,"example":"0"}},{"name":"ApiType","in":"query","schema":{"description":"服务对象。取值：\n- **PublicAPI**：表示公共服务。\n- **ThirdpartAPI**：表示三方合作。\n- **InternalAPI**：表示内部办公。","type":"string","required":false,"example":"innerAPI"}},{"name":"ApiTag","in":"query","schema":{"description":"API业务用途。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的业务用途。","type":"string","required":false,"example":"SendMail"}},{"name":"SensitiveLevel","in":"query","schema":{"description":"接口敏感等级。取值：\n- **L1**：表示高敏感。\n- **L2**：表示中敏感。\n- **L3**：表示低敏感。\n- **N**：表示非敏感。","type":"string","required":false,"example":"L3"}},{"name":"ApiMethod","in":"query","schema":{"description":"API的请求方法。取值：\n- **GET**：表示GET请求。\n- **POST**：表示POST请求。\n- **HEAD**：表示HEAD请求。\n- **PUT**：表示PUT请求。\n- **DELETE**：表示DELETE请求。\n- **CONNECT**：表示CONNECT请求。\n- **PATCH**：表示PATCH请求。\n- **OPTIONS**：表示OPTIONS请求。","type":"string","required":false,"example":"POST"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"740"}},{"name":"Note","in":"query","schema":{"description":"备注信息。","type":"string","required":false,"example":"登录API"}},{"name":"RequestSensitiveType","in":"query","schema":{"description":"请求敏感信息类型。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的敏感信息类型。","type":"string","required":false,"example":"1004,1005"}},{"name":"AuthFlag","in":"query","schema":{"description":"是否有鉴权字段。取值：\n- **0**：表示有权限。\n- **1**：表示无权限。","type":"string","required":false,"example":"0"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"5"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"2EFCFE18-78F8-5079-B312-07***48B"},"Data":{"description":"API资产列表。","type":"array","items":{"description":"资产详情。","type":"object","properties":{"EventNum":{"description":"API关联的安全事件数量。","type":"integer","format":"int64","example":"2"},"FarthestTs":{"description":"API资产首次发现时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1683388800"},"ApiSensitive":{"description":"API涉及的敏感信息，以一系列参数构造的JSON格式转化成字符串。包括：\n- **request_sensitive_list**：表示请求敏感数据类型列表。\n- **response_sensitive_list**：表示响应敏感数据类型列表。\n- **sensitive_list**：表示敏感数据类型列表。\n- **sensitive_level**：表示敏感等级。","type":"string","example":"{\n    \"sensitive_list\": [\"1003\",\"1005\"],\n    \"sensitive_level\": \"L2\",\n    \"request_sensitive_list\": [\"1003\"],\n    \"response_sensitive_list\": [\"1005\"]\n}"},"ApiFormat":{"description":"API接口。","type":"string","example":"/v1/etl/finddatabyvid"},"ApiTag":{"description":"API业务用途。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的业务用途。","type":"string","example":"SendMail"},"CrossBorderCnt":{"description":"近30天跨境访问量。","type":"integer","format":"int64","example":"2"},"AuthFlag":{"description":"是否有鉴权字段。取值：\n- **0**：表示有权限。\n- **1**：表示无权限。","type":"string","example":"1"},"AllCnt":{"description":"近30天总访问量。","type":"integer","format":"int64","example":"1683388800"},"ApiMethod":{"description":"API的请求方法。取值：\n- **GET**：表示GET请求。\n- **POST**：表示POST请求。\n- **HEAD**：表示HEAD请求。\n- **PUT**：表示PUT请求。\n- **DELETE**：表示DELETE请求。\n- **CONNECT**：表示CONNECT请求。\n- **PATCH**：表示PATCH请求。\n- **OPTIONS**：表示OPTIONS请求。","type":"string","example":"POST"},"LastestTs":{"description":"API资产最近访问时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1683388800"},"ApiStatus":{"description":"API的状态。取值：\n- **NewbornInterface**：表示新增。\n- **OfflineInterface**：表示失活。\n- **normal**：表示正常。","type":"string","example":"NewbornInterface"},"ApiSensitiveResponse":{"description":"API响应敏感数据。","type":"string","example":"[\"1002\",\"1005\"]"},"BotCnt":{"description":"近30天机器访问量。","type":"integer","format":"int64","example":"2"},"Follow":{"description":"是否关注。取值：\n- **1**：表示关注。\n- **0**：表示未关注。","type":"integer","format":"int32","example":"1"},"MatchedHost":{"description":"API接口所属的域名或IP。","type":"string","example":"a.aliyun.com"},"ApiInfo":{"description":"API相关信息，以一系列参数构造的JSON格式转化成字符串。包括：\n- **param_num**：表示API参数数量。\n- **request_method**：表示请求方式。\n- **protocol**：表示请求协议。\n- **api_url**：表示请求URL。\n- **poc_payload**：表示请求。\n- **request**：表示请求样例。\n- **response**：表示响应样例。\n- **param**：表示请求参数。\n> 只有指定入参 **ApiId** 才会有该返回值。","type":"string","example":"{\n    \"request\": {\"referer\": \"-\",\"content_type\": \"-\",\"cookie\": \"-\",\"method\": \"GET\",\"param\": [],\"host\": \"test.cn\"},\n    \"protocol\": \"https\",\n    \"api_url\": \"https://test.cn:443/index.php\",\n    \"param\": [],\n    \"response\": {\"param\": [], \"sensitive_type\": {}, \"header\": {},\"body\": \"\", \"status\": 405 },\n    \"request_method\": \"GET\",\n    \"poc_payload\": \"curl -X GET -H 'Accept: */*' -H 'Connection: keep-alive' -H 'User-agent: python-requests/2.32.3' -H 'X-forwarded-for: {{IPv6 Address}}' -H 'Host: test.cn' -H 'Accept-encoding: gzip, deflate' 'https://test.cn:443/index.php'\",\n    \"param_num\": 0\n}"},"AbnormalNum":{"description":"API关联的风险数量。","type":"integer","format":"int64","example":"2"},"ApiType":{"description":"服务对象。取值：\n- **PublicAPI**：表示公共服务。\n- **ThirdpartAPI**：表示三方合作。\n- **InternalAPI**：表示内部办公。","type":"string","example":"PublicAPI"},"Note":{"description":"备注信息。","type":"string","example":"密码已修改"},"ApiId":{"description":"API的ID。","type":"string","example":"197b52abcd81d6a8bd4***e477"},"Examples":{"description":"API样例列表。","type":"array","items":{"description":"样例信息，以一系列参数构造的JSON格式转化成字符串。包括：\n- **param_num**：表示API参数数量。\n- **request_method**：表示请求方式。\n- **protocol**：表示请求协议。\n- **api_url**：表示请求URL。\n- **poc_payload**：表示请求。\n- **request**：表示请求样例。\n- **response**：表示响应样例。\n- **param**：表示请求参数。\n\n> 只有指定入参 **ApiId** 才会有该返回值。","type":"string","example":"{\n    \"request\": {\"referer\": \"-\",\"content_type\": \"-\",\"cookie\": \"-\",\"method\": \"GET\",\"param\": [],\"host\": \"test.cn\"},\n    \"protocol\": \"https\",\n    \"api_url\": \"https://test.cn:443/index.php\",\n    \"param\": [],\n    \"response\": {\"param\": [], \"sensitive_type\": {}, \"header\": {},\"body\": \"\", \"status\": 405 },\n    \"request_method\": \"GET\",\n    \"poc_payload\": \"curl -X GET -H 'Accept: */*' -H 'Connection: keep-alive' -H 'User-agent: python-requests/2.32.3' -H 'X-forwarded-for: {{IPv6 Address}}' -H 'Host: test.cn' -H 'Accept-encoding: gzip, deflate' 'https://test.cn:443/index.php'\",\n    \"param_num\": 0\n}"}},"ApiSensitiveRequest":{"description":"API请求敏感数据。","type":"string","example":"[\"1002\",\"1005\"]"},"Resources":{"description":"资产对应的防护对象列表。","type":"array","items":{"description":"资产对应的防护对象。","type":"string","example":"***.top-waf"}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 5,\\n  \\\"RequestId\\\": \\\"2EFCFE18-78F8-5079-B312-07***48B\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"EventNum\\\": 2,\\n      \\\"FarthestTs\\\": 1683388800,\\n      \\\"ApiSensitive\\\": \\\"{\\\\n    \\\\\\\"sensitive_list\\\\\\\": [\\\\\\\"1003\\\\\\\",\\\\\\\"1005\\\\\\\"],\\\\n    \\\\\\\"sensitive_level\\\\\\\": \\\\\\\"L2\\\\\\\",\\\\n    \\\\\\\"request_sensitive_list\\\\\\\": [\\\\\\\"1003\\\\\\\"],\\\\n    \\\\\\\"response_sensitive_list\\\\\\\": [\\\\\\\"1005\\\\\\\"]\\\\n}\\\",\\n      \\\"ApiFormat\\\": \\\"/v1/etl/finddatabyvid\\\",\\n      \\\"ApiTag\\\": \\\"SendMail\\\",\\n      \\\"CrossBorderCnt\\\": 2,\\n      \\\"AuthFlag\\\": \\\"1\\\",\\n      \\\"AllCnt\\\": 1683388800,\\n      \\\"ApiMethod\\\": \\\"POST\\\",\\n      \\\"LastestTs\\\": 1683388800,\\n      \\\"ApiStatus\\\": \\\"NewbornInterface\\\",\\n      \\\"ApiSensitiveResponse\\\": \\\"[\\\\\\\"1002\\\\\\\",\\\\\\\"1005\\\\\\\"]\\\",\\n      \\\"BotCnt\\\": 2,\\n      \\\"Follow\\\": 1,\\n      \\\"MatchedHost\\\": \\\"a.aliyun.com\\\",\\n      \\\"ApiInfo\\\": \\\"{\\\\n    \\\\\\\"request\\\\\\\": {\\\\\\\"referer\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"content_type\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"cookie\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"method\\\\\\\": \\\\\\\"GET\\\\\\\",\\\\\\\"param\\\\\\\": [],\\\\\\\"host\\\\\\\": \\\\\\\"test.cn\\\\\\\"},\\\\n    \\\\\\\"protocol\\\\\\\": \\\\\\\"https\\\\\\\",\\\\n    \\\\\\\"api_url\\\\\\\": \\\\\\\"https://test.cn:443/index.php\\\\\\\",\\\\n    \\\\\\\"param\\\\\\\": [],\\\\n    \\\\\\\"response\\\\\\\": {\\\\\\\"param\\\\\\\": [], \\\\\\\"sensitive_type\\\\\\\": {}, \\\\\\\"header\\\\\\\": {},\\\\\\\"body\\\\\\\": \\\\\\\"\\\\\\\", \\\\\\\"status\\\\\\\": 405 },\\\\n    \\\\\\\"request_method\\\\\\\": \\\\\\\"GET\\\\\\\",\\\\n    \\\\\\\"poc_payload\\\\\\\": \\\\\\\"curl -X GET -H 'Accept: */*' -H 'Connection: keep-alive' -H 'User-agent: python-requests/2.32.3' -H 'X-forwarded-for: {{IPv6 Address}}' -H 'Host: test.cn' -H 'Accept-encoding: gzip, deflate' 'https://test.cn:443/index.php'\\\\\\\",\\\\n    \\\\\\\"param_num\\\\\\\": 0\\\\n}\\\",\\n      \\\"AbnormalNum\\\": 2,\\n      \\\"ApiType\\\": \\\"PublicAPI\\\",\\n      \\\"Note\\\": \\\"密码已修改\\\",\\n      \\\"ApiId\\\": \\\"197b52abcd81d6a8bd4***e477\\\",\\n      \\\"Examples\\\": [\\n        \\\"{\\\\n    \\\\\\\"request\\\\\\\": {\\\\\\\"referer\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"content_type\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"cookie\\\\\\\": \\\\\\\"-\\\\\\\",\\\\\\\"method\\\\\\\": \\\\\\\"GET\\\\\\\",\\\\\\\"param\\\\\\\": [],\\\\\\\"host\\\\\\\": \\\\\\\"test.cn\\\\\\\"},\\\\n    \\\\\\\"protocol\\\\\\\": \\\\\\\"https\\\\\\\",\\\\n    \\\\\\\"api_url\\\\\\\": \\\\\\\"https://test.cn:443/index.php\\\\\\\",\\\\n    \\\\\\\"param\\\\\\\": [],\\\\n    \\\\\\\"response\\\\\\\": {\\\\\\\"param\\\\\\\": [], \\\\\\\"sensitive_type\\\\\\\": {}, \\\\\\\"header\\\\\\\": {},\\\\\\\"body\\\\\\\": \\\\\\\"\\\\\\\", \\\\\\\"status\\\\\\\": 405 },\\\\n    \\\\\\\"request_method\\\\\\\": \\\\\\\"GET\\\\\\\",\\\\n    \\\\\\\"poc_payload\\\\\\\": \\\\\\\"curl -X GET -H 'Accept: */*' -H 'Connection: keep-alive' -H 'User-agent: python-requests/2.32.3' -H 'X-forwarded-for: {{IPv6 Address}}' -H 'Host: test.cn' -H 'Accept-encoding: gzip, deflate' 'https://test.cn:443/index.php'\\\\\\\",\\\\n    \\\\\\\"param_num\\\\\\\": 0\\\\n}\\\"\\n      ],\\n      \\\"ApiSensitiveRequest\\\": \\\"[\\\\\\\"1002\\\\\\\",\\\\\\\"1005\\\\\\\"]\\\",\\n      \\\"Resources\\\": [\\n        \\\"***.top-waf\\\"\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全资产列表"},"ModifyApisecStatus":{"summary":"修改API安全生效防护对象或防护对象组状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"189028","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"Resources","in":"query","schema":{"description":"防护对象名称。","type":"string","required":false,"example":"alb-wewbb23dfset***"}},{"name":"ApisecStatus","in":"query","schema":{"description":"API安全状态。取值： \n- **1**：表示开启。\n- **0**：表示关闭。","type":"integer","format":"int32","required":true,"example":"1"}},{"name":"ResourceGroups","in":"query","schema":{"description":"防护对象加入的防护对象组的名称。","type":"string","required":false,"example":"group"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"修改API安全生效状态"},"ModifyApisecModuleStatus":{"summary":"修改API安全防护模块生效防护对象或防护对象组状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"189643","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqtm**"}},{"name":"Resources","in":"query","schema":{"description":"防护对象名称。","type":"string","required":false,"example":"cwaf-***-waf"}},{"name":"ReportStatus","in":"query","schema":{"description":"合规审查状态。取值： \n- **1**：表示开启。\n- **0**：表示关闭。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"TraceStatus","in":"query","schema":{"description":"溯源审计状态。取值： \n- **1**：表示开启。\n- **0**：表示关闭。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"ResourceGroups","in":"query","schema":{"description":"防护对象加入的防护对象组的名称。","type":"string","required":false,"example":"group1"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"修改API安全防护模块生效状态"},"ModifyApisecApiResource":{"summary":"修改API安全API资产的标注。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"168714","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"Follow","in":"query","schema":{"description":"是否关注。取值：\n- **1**：表示关注。\n- **0**：表示不关注（默认）。","type":"integer","format":"int64","required":false,"example":"0","default":"0"}},{"name":"Note","in":"query","schema":{"description":"备注信息。","type":"string","required":false,"example":"know"}},{"name":"ApiId","in":"query","schema":{"description":"API的ID。","type":"string","required":true,"example":"c68995b89069595c5c0399676f3ca64f"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"修改API安全API资产的标注"},"DescribeUserEventType":{"summary":"查询API安全用户安全事件类型和统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"156221","abilityTreeNodes":["FEATUREwafDX9EQ6"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-5y***h0t"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"976"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1723435200"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1726113600"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek***ktt3y"}},{"name":"UserStatusList","in":"query","style":"flat","schema":{"description":"安全事件统计的状态列表。\n>默认统计 **toBeConfirmed**、**confirmed**、**actioned**状态的安全事件数据。","type":"array","items":{"description":"统计的安全事件状态。取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **actioned**：表示已处置。\n- **ignored**：表示忽略。","type":"string","required":false,"example":"toBeConfirmed"},"required":false}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"177BA739-6512-5470-98C6-E***0BAA3D"},"Event":{"description":"安全事件类型和统计列表。","type":"array","items":{"description":"事件类型和统计信息。","type":"object","properties":{"EventCount":{"description":"事件数量。","type":"integer","format":"int64","example":"0"},"EventType":{"description":"事件类型。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的事件类型。","type":"string","example":"Event_LoginCollision"},"EventParentType":{"description":"事件父类型。","type":"string","example":"EventType_Account"},"EventCode":{"description":"事件编码。","type":"string","example":"Event_LoginCollision"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"177BA739-6512-5470-98C6-E***0BAA3D\\\",\\n  \\\"Event\\\": [\\n    {\\n      \\\"EventCount\\\": 0,\\n      \\\"EventType\\\": \\\"Event_LoginCollision\\\",\\n      \\\"EventParentType\\\": \\\"EventType_Account\\\",\\n      \\\"EventCode\\\": \\\"Event_LoginCollision\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全用户安全事件类型和统计"},"DescribeUserEventTrend":{"summary":"查询API安全攻击走势。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"155226","abilityTreeNodes":["FEATUREwafDX9EQ6"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-7mz2797x***"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzwwk****cv5i"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F51E6DD6-B2D2-57C9-90F1-FAFD0A19DE00"},"Trend":{"description":"攻击走势列表。","type":"array","items":{"description":"攻击详情。","type":"object","properties":{"EventHigh":{"description":"高危事件数。","type":"integer","format":"int64","example":"9"},"EventLow":{"description":"低危事件数。","type":"integer","format":"int64","example":"23"},"EventMedium":{"description":"中危事件数。","type":"integer","format":"int64","example":"17"},"Timestamp":{"description":"统计的时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1723435200"},"TimeStamp":{"description":"统计的时间，格式为Unix时间戳（UTC时间），单位为秒。\n><notice>参数已弃用，建议使用Timestamp参数。></notice>","type":"integer","format":"int64","example":"1723435200"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F51E6DD6-B2D2-57C9-90F1-FAFD0A19DE00\\\",\\n  \\\"Trend\\\": [\\n    {\\n      \\\"EventHigh\\\": 9,\\n      \\\"EventLow\\\": 23,\\n      \\\"EventMedium\\\": 17,\\n      \\\"Timestamp\\\": 1723435200,\\n      \\\"TimeStamp\\\": 1723435200\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全攻击走势"},"DescribeUserAsset":{"summary":"查询API安全用户资产统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"155224","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-uax37ijm***"}},{"name":"DataType","in":"query","schema":{"description":"统计类型。取值：\n- **asset_num**：表示API资产总数。\n- **asset_active**：表示活跃API数。\n- **asset_newborn**：表示今日新增数。\n- **asset_offline**：表示失活API数。\n- **asset_bot**：表示存在机器请求API数。\n- **asset_cross_border**：表示跨境数据传输API数。\n- **sensitive_api**：表示响应涉敏API数。\n- **sensitive_domain**：表示响应涉敏站点数。","type":"string","required":true,"example":"asset_num"}},{"name":"Days","in":"query","schema":{"description":"查询的时间，格式为Unix时间戳（UTC时间），单位为秒。\n><notice>参数已弃用。></notice>","type":"string","required":false,"example":"1723435200"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"C1823E96-EF4B-5BD2-9E02-1D18****3ED8"},"Assets":{"description":"资产统计列表。","type":"array","items":{"description":"资产统计信息。","type":"object","properties":{"AssetNum":{"description":"统计数量。","type":"integer","format":"int64","example":"134"},"TimeStamp":{"description":"统计的时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1723435200"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C1823E96-EF4B-5BD2-9E02-1D18****3ED8\\\",\\n  \\\"Assets\\\": [\\n    {\\n      \\\"AssetNum\\\": 134,\\n      \\\"TimeStamp\\\": 1723435200\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全用户资产统计"},"DescribeUserApiRequest":{"summary":"查询API接口的流量统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"155227","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-zxu38***"}},{"name":"Domain","in":"query","schema":{"description":"API接口所属的域名或IP。\n><notice>该参数以弃用，请使用ApiId查询。></notice>","type":"string","required":false,"example":"c.***.com"}},{"name":"ApiFormat","in":"query","schema":{"description":"API接口。\n><notice>该参数以弃用，请使用ApiId查询。></notice>","type":"string","required":false,"example":"/api/v1/know"}},{"name":"Type","in":"query","schema":{"description":"统计类型。取值： \n- **api_ip**：表示总流量。\n- **api_cross_border_ip**：表示跨境流量。\n- **api_bot_ip**：表示机器流量。\n- **remote_region**：表示地理位置统计。\n- **client_id**：表示客户端类型统计。\n- **http_referer**：表示Referer统计。\n- **api_cnt**：表示总调用量。\n- **bot_cnt**：表示机器请求调用量。\n- **cross_border_cnt**：表示跨境请求量。\n- **api_freq**：表示调用频次。","type":"string","required":false,"example":"api_ip","default":"api_ip"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"ApiId","in":"query","schema":{"description":"API的ID。","type":"string","required":true,"example":"3799f0695c0d687f3295d132fe49bc14"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D13E4540-4432-5AD7-B216-6369512514F4"},"Requests":{"description":"统计列表。","type":"array","items":{"description":"统计信息。","type":"object","properties":{"Value":{"description":"统计信息。包括：\n- **client_list**：表示客户端工具。\n- **ip**：表示IP信息。\n- **region_id**：表示所属地域。\n- **country_id**：表示所属国家。","type":"string","example":"{\n    \"client_list\": [\n        \"Unknown\"\n    ],\n    \"ip\": \"47.92.113.***\",\n    \"region_id\": \"110000\",\n    \"country_id\": \"CN\"\n}"},"Count":{"description":"统计数。","type":"integer","format":"int64","example":"76"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D13E4540-4432-5AD7-B216-6369512514F4\\\",\\n  \\\"Requests\\\": [\\n    {\\n      \\\"Value\\\": \\\"{\\\\n    \\\\\\\"client_list\\\\\\\": [\\\\n        \\\\\\\"Unknown\\\\\\\"\\\\n    ],\\\\n    \\\\\\\"ip\\\\\\\": \\\\\\\"47.92.113.***\\\\\\\",\\\\n    \\\\\\\"region_id\\\\\\\": \\\\\\\"110000\\\\\\\",\\\\n    \\\\\\\"country_id\\\\\\\": \\\\\\\"CN\\\\\\\"\\\\n}\\\",\\n      \\\"Count\\\": 76\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API接口的流量统计"},"DescribeUserAbnormalType":{"summary":"查询API安全用户风险类型和统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"156222","abilityTreeNodes":["FEATUREwafWE25G7"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-g4***201"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"993"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1723435200"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1726113600"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-ac***lani"}},{"name":"UserStatusList","in":"query","style":"flat","schema":{"description":"风险统计的状态列表。\n\n>默认统计 **toBeConfirmed**、**toBeFixed**、**toBeVerified**、**notFixed**状态的风险数据。","type":"array","items":{"description":"统计的风险状态。取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **toBeFixed**：表示待修复。\n- **fixed**：表示已修复（人工验证）。\n- **ignored**：表示忽略。\n- **toBeVerified**：表示待系统验证。\n- **notFixed**：表示验证未修复。\n- **systemFixed**：表示已修复（系统验证）。","type":"string","required":false,"example":"toBeConfirmed"},"required":false}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"3E1CB966-1407-5988-9432-7***D784"},"Abnormal":{"description":"风险类型和统计列表。","type":"array","items":{"description":"风险类型和统计信息。","type":"object","properties":{"AbnormalCode":{"description":"风险编码。","type":"string","example":"Risk_InternalWeakPasswd"},"AbnormalParentType":{"description":"风险的父类型。","type":"string","example":"RiskType_Account"},"AbnormalType":{"description":"风险类型。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的风险类型。","type":"string","example":"Risk_InternalWeakPasswd"},"AbnormalCount":{"description":"风险数量。","type":"integer","format":"int64","example":"10"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"3E1CB966-1407-5988-9432-7***D784\\\",\\n  \\\"Abnormal\\\": [\\n    {\\n      \\\"AbnormalCode\\\": \\\"Risk_InternalWeakPasswd\\\",\\n      \\\"AbnormalParentType\\\": \\\"RiskType_Account\\\",\\n      \\\"AbnormalType\\\": \\\"Risk_InternalWeakPasswd\\\",\\n      \\\"AbnormalCount\\\": 10\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全用户风险类型和统计"},"DescribeUserAbnormalTrend":{"summary":"查询API安全风险走势。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"155225","abilityTreeNodes":["FEATUREwafWE25G7"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-uqm342yj***"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Trend":{"description":"风险走势列表。","type":"array","items":{"description":"风险走势信息。","type":"object","properties":{"AbnormalHigh":{"description":"高危风险数。","type":"integer","format":"int64","example":"12"},"AbnormalLow":{"description":"低危风险数。","type":"integer","format":"int64","example":"23"},"AbnormalMedium":{"description":"中危风险数。","type":"integer","format":"int64","example":"14"},"Timestamp":{"description":"统计的时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1722268800"},"TimeStamp":{"description":"统计的时间，格式为Unix时间戳（UTC时间），单位为秒。\n\n\n><notice>参数已弃用，建议使用Timestamp参数。</notice>","type":"integer","format":"int64","example":"1722268800"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Trend\\\": [\\n    {\\n      \\\"AbnormalHigh\\\": 12,\\n      \\\"AbnormalLow\\\": 23,\\n      \\\"AbnormalMedium\\\": 14,\\n      \\\"Timestamp\\\": 1722268800,\\n      \\\"TimeStamp\\\": 1722268800\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全风险走势"},"DescribeSensitiveStatistic":{"summary":"查询溯源审计的敏感数据统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"188100","abilityTreeNodes":["FEATUREwaf8XGRZR"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbq****"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1672502400"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1725966000"}},{"name":"StatisticType","in":"query","schema":{"description":"数据统计类型。取值：\n- **ip**：表示IP地址统计。\n- **host**：域名统计。\n- **sensitive_code**：表示敏感数据类型统计。\n- **api**：表示敏感数据接口统计。","type":"string","required":false,"example":"ip","default":"ip"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"20","minimum":"1","example":"10","default":"5"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Data":{"description":"敏感数据统计列表。","type":"array","items":{"description":"敏感数据统计信息。","type":"object","properties":{"SensitiveCode":{"description":"敏感数据类型。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的敏感数据类型。","type":"string","example":"1003"},"MatchedHost":{"description":"域名。","type":"string","example":"a.****.com"},"ApiFormat":{"description":"API接口。","type":"string","example":"/api/login"},"Count":{"description":"数据条数。","type":"integer","format":"int64","example":"169"},"ClientIP":{"description":"IP地址。","type":"string","example":"10.50.11.**"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 10,\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"SensitiveCode\\\": \\\"1003\\\",\\n      \\\"MatchedHost\\\": \\\"a.****.com\\\",\\n      \\\"ApiFormat\\\": \\\"/api/login\\\",\\n      \\\"Count\\\": 169,\\n      \\\"ClientIP\\\": \\\"10.50.11.**\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询溯源审计的敏感数据统计"},"DescribeSensitiveRequests":{"summary":"查询敏感数据溯源结果。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"187966","abilityTreeNodes":["FEATUREwaf8XGRZR"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-0xldbqt****"}},{"name":"SensitiveCode","in":"query","schema":{"description":"敏感数据类型。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持敏感数据类型。","type":"integer","format":"int64","required":false,"example":"1001"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1723392000"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1725966000"}},{"name":"SensitiveData","in":"query","schema":{"description":"敏感数据。","type":"string","required":false,"example":"card"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为10，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"25","minimum":"1","example":"10","default":"10"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"269"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzwwkpn****5i"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":"26E46541-7AAB-5565-801D-F14DBDC5****"},"Data":{"description":"数据溯源结果列表。","type":"array","items":{"description":"数据溯源信息。","type":"object","properties":{"EventCount":{"description":"近30天事件数。","type":"integer","format":"int64","example":"679"},"MatchedHost":{"description":"API接口所属的域名。","type":"string","example":"a.****.com"},"ApiFormat":{"description":"API接口。","type":"string","example":"/api/users/login"},"DetectionResult":{"description":"评估结果。取值：\n- **leak**：表示有泄露风险。\n- **none**：表示无泄露风险。","type":"string","example":"leak"},"ClientIP":{"description":"IP地址。","type":"string","example":"103.118.55.**"},"ApiId":{"description":"API的ID。","type":"string","example":"09559c0d71ca2ffc996b81***836d8"},"SensitiveList":{"description":"敏感数据列表。","type":"array","items":{"description":"敏感数据。","type":"string","example":"card"}},"InfoCount":{"description":"敏感数据统计列表。","type":"array","items":{"description":"敏感数据统计信息。","type":"object","properties":{"Count":{"description":"敏感数据数量。","type":"integer","format":"int64","example":"23"},"Code":{"description":"敏感数据类型。","type":"string","example":"1001"}}}},"AbnormalCount":{"description":"近30天风险数。","type":"integer","format":"int64","example":"23"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 10,\\n  \\\"RequestId\\\": \\\"26E46541-7AAB-5565-801D-F14DBDC5****\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"EventCount\\\": 679,\\n      \\\"MatchedHost\\\": \\\"a.****.com\\\",\\n      \\\"ApiFormat\\\": \\\"/api/users/login\\\",\\n      \\\"DetectionResult\\\": \\\"leak\\\",\\n      \\\"ClientIP\\\": \\\"103.118.55.**\\\",\\n      \\\"ApiId\\\": \\\"09559c0d71ca2ffc996b81***836d8\\\",\\n      \\\"SensitiveList\\\": [\\n        \\\"card\\\"\\n      ],\\n      \\\"InfoCount\\\": [\\n        {\\n          \\\"Count\\\": 23,\\n          \\\"Code\\\": \\\"1001\\\"\\n        }\\n      ],\\n      \\\"AbnormalCount\\\": 23\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询敏感数据溯源结果"},"DescribeSensitiveRequestLog":{"summary":"查询敏感数据的访问日志信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"188086","abilityTreeNodes":["FEATUREwaf8XGRZR"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1723392000"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1726057800"}},{"name":"MatchedHost","in":"query","schema":{"description":"API接口所属的域名。","type":"string","required":false,"example":"a.***.com"}},{"name":"ApiFormat","in":"query","schema":{"description":"API接口。","type":"string","required":false,"example":"/api/users/login\n"}},{"name":"ClientIP","in":"query","schema":{"description":"IP地址。","type":"string","required":false,"example":"103.118.55.**"}},{"name":"SensitiveCode","in":"query","schema":{"description":"敏感数据类型。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持敏感数据类型。","type":"string","required":false,"example":"1000,1001"}},{"name":"SensitiveData","in":"query","schema":{"description":"响应敏感数据。","type":"string","required":false,"example":"user"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"10","minimum":"1","example":"10","default":"10"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"433"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"7"},"RequestId":{"description":"请求ID。","type":"string","example":"26E46541-7AAB-5565-801D-F14DBDC5****"},"Data":{"description":"访问日志列表。","type":"array","items":{"description":"访问日志信息。","type":"object","properties":{"MatchedHost":{"description":"API接口所属的域名。","type":"string","example":"a.****.com"},"ApiFormat":{"description":"API接口。","type":"string","example":"/api/users/login"},"TraceId":{"description":"日志ID。","type":"string","example":"0a3d455b17027784870843933dce3d"},"RequestTime":{"description":"请求时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1723392000"},"Count":{"description":"出站敏感数据条数。","type":"integer","format":"int64","example":"12"},"ClientIP":{"description":"IP地址。","type":"string","example":"103.118.55.**"},"ApiId":{"description":"API的ID。","type":"string","example":"197b52abcd81d6a8bd4***e477"},"SensitiveList":{"description":"敏感数据信息。以一系列参数构造的 JSON 格式转化成字符串。其中 JSON 的 Key为敏感信息类型标识（包括内置和自定义两种类型），Value为敏感信息数据列表。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的敏感信息类型。","type":"string","example":"{\n          \"1000\":[ \n              \"90.88.49.19\",\n              \"90.88.49.19\"\n          ],\n          \"835436\":[ \n              \"www.abc.com\"\n          ]\n}"},"RemoteCountryId":{"description":"IP所属区域，格式为地域标识代码。","type":"string","example":"CN"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 7,\\n  \\\"RequestId\\\": \\\"26E46541-7AAB-5565-801D-F14DBDC5****\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"MatchedHost\\\": \\\"a.****.com\\\",\\n      \\\"ApiFormat\\\": \\\"/api/users/login\\\",\\n      \\\"TraceId\\\": \\\"0a3d455b17027784870843933dce3d\\\",\\n      \\\"RequestTime\\\": 1723392000,\\n      \\\"Count\\\": 12,\\n      \\\"ClientIP\\\": \\\"103.118.55.**\\\",\\n      \\\"ApiId\\\": \\\"197b52abcd81d6a8bd4***e477\\\",\\n      \\\"SensitiveList\\\": \\\"{\\\\n          \\\\\\\"1000\\\\\\\":[ \\\\n              \\\\\\\"90.88.49.19\\\\\\\",\\\\n              \\\\\\\"90.88.49.19\\\\\\\"\\\\n          ],\\\\n          \\\\\\\"835436\\\\\\\":[ \\\\n              \\\\\\\"www.abc.com\\\\\\\"\\\\n          ]\\\\n}\\\",\\n      \\\"RemoteCountryId\\\": \\\"CN\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询敏感数据的访问日志信息"},"DescribeSensitiveOutboundTrend":{"summary":"查询个人信息数据出境走势。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"187670","abilityTreeNodes":["FEATUREwaf8XGRZR"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。\n> 合规审查当前仅支持查询最近1个月、最近3个月、最近6个月、最近12个月、自去年1月1日至今的数据，请确保时间的合法性。","type":"integer","format":"int64","required":false,"example":"1672502400"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。\n\n>合规审查当前仅支持查询最近1个月、最近3个月、最近6个月、最近12个月、自去年1月1日至今的数据，请确保时间的合法性。","type":"integer","format":"int64","required":false,"example":"1725966000\n"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"433"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"7"},"RequestId":{"description":"请求ID。","type":"string","example":"C1823E96-EF4B-5BD2-9E02-1D18****3ED8"},"Data":{"description":"数据出境信息列表。","type":"array","items":{"description":"数据出境信息。","type":"object","properties":{"SensitiveOutboundCount":{"description":"出境敏感信息总数。","type":"integer","format":"int64","example":"378"},"Timestamp":{"description":"数据出境时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1672502400"},"InfoCount":{"description":"个人信息总数。","type":"integer","format":"int64","example":"672"},"InfoOutboundCount":{"description":"出境个人信息总数。","type":"integer","format":"int64","example":"541"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 7,\\n  \\\"RequestId\\\": \\\"C1823E96-EF4B-5BD2-9E02-1D18****3ED8\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"SensitiveOutboundCount\\\": 378,\\n      \\\"Timestamp\\\": 1672502400,\\n      \\\"InfoCount\\\": 672,\\n      \\\"InfoOutboundCount\\\": 541\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询个人信息数据出境走势"},"DescribeSensitiveOutboundStatistic":{"summary":"查询个人信息出境类型统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"187677","abilityTreeNodes":["FEATUREwaf8XGRZR"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-0xldbqt****"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。\n> 合规审查当前仅支持查询最近1个月、最近3个月、最近6个月、最近12个月、自去年1月1日至今的数据，请确保时间的合法性。","type":"integer","format":"int64","required":false,"example":"1672502400"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。\n\n>合规审查当前仅支持查询最近1个月、最近3个月、最近6个月、最近12个月、自去年1月1日至今的数据，请确保时间的合法性。","type":"integer","format":"int64","required":false,"example":"1725966000"}},{"name":"SensitiveType","in":"query","schema":{"description":"查询信息类型。取值： \n- **info**：表示全部个人信息（默认）。\n- **sensitive**：表示仅个人敏感信息。","type":"string","required":false,"example":"info"}},{"name":"SensitiveLevel","in":"query","schema":{"description":"敏感等级。取值： \n- **high**：表示高敏感。\n- **medium**：表示中敏感。\n- **low**：表示低敏感。","type":"string","required":false,"example":"high"}},{"name":"SensitiveCode","in":"query","schema":{"description":"敏感数据类型，多个敏感数据类型之间使用英文逗号（,）分隔。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持敏感数据类型，当前参数仅支持内置敏感数据类型。","type":"string","required":false,"example":"1000,1001"}},{"name":"DetectionResult","in":"query","schema":{"description":"评估结果。取值：\n- **report**：表示存在数据出境风险。\n- **none**：表示不存在数据出境风险。","type":"string","required":false,"example":"report"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"25","minimum":"1","example":"10","default":"10"}},{"name":"OrderKey","in":"query","schema":{"description":"排序字段的名称。取值：\n- **total_count**：表示数据总数（默认）。\n- **outbound_count**：表示出境数据总数。","type":"string","required":false,"example":"total_count"}},{"name":"OrderWay","in":"query","schema":{"description":"排序的方式。取值：\n- **desc**：表示降序（默认）。\n- **asc**：表示升序。","type":"string","required":false,"example":"desc"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"5"},"RequestId":{"description":"请求ID。","type":"string","example":"2EFCFE18-78F8-5079-B312-07***48B"},"Data":{"description":"个人信息出境类型统计列表。","type":"array","items":{"description":"个人信息出境类型统计信息。","type":"object","properties":{"SensitiveLevel":{"description":"敏感等级。取值： \n- **high**：表示高敏感。\n- **medium**：表示中敏感。\n- **low**：表示低敏感。","type":"string","example":"high"},"SensitiveCode":{"description":"敏感数据类型。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持敏感数据类型。","type":"integer","format":"int64","example":"1001"},"OutboundCount":{"description":"出境数据条数。","type":"integer","format":"int64","example":"300"},"DetectionResult":{"description":"评估结果。取值：\n- **report**：表示存在数据出境风险。\n- **none**：表示不存在数据出境风险。","type":"string","example":"report"},"SensitiveType":{"description":"查询信息类型。取值： \n- **info**：表示全部个人信息。\n- **sensitive**：表示仅个人敏感信息。","type":"string","example":"info"},"InfoCount":{"description":"数据总条数。","type":"integer","format":"int64","example":"546"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 5,\\n  \\\"RequestId\\\": \\\"2EFCFE18-78F8-5079-B312-07***48B\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"SensitiveLevel\\\": \\\"high\\\",\\n      \\\"SensitiveCode\\\": 1001,\\n      \\\"OutboundCount\\\": 300,\\n      \\\"DetectionResult\\\": \\\"report\\\",\\n      \\\"SensitiveType\\\": \\\"info\\\",\\n      \\\"InfoCount\\\": 546\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询个人信息出境类型统计"},"DescribeSensitiveOutboundDistribution":{"summary":"查询个人信息出境流量分布。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"187676","abilityTreeNodes":["FEATUREwaf8XGRZR"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。\n> 合规审查当前仅支持查询最近1个月、最近3个月、最近6个月、最近12个月、自去年1月1日至今的数据，请确保时间的合法性。","type":"integer","format":"int64","required":false,"example":"1672502400"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。\n\n>合规审查当前仅支持查询最近1个月、最近3个月、最近6个月、最近12个月、自去年1月1日至今的数据，请确保时间的合法性。","type":"integer","format":"int64","required":false,"example":"1725966000"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"443"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Data":{"description":"人信息出境流量分布列表。","type":"array","items":{"description":"人信息出境流量信息。","type":"object","properties":{"SensitiveOutboundCount":{"description":"出境敏感信息数量。","type":"integer","format":"int64","example":"144"},"Country":{"description":"出境国家。","type":"string","example":"US"},"InfoOutboundCount":{"description":"出境个人信息数量。","type":"integer","format":"int64","example":"213"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"SensitiveOutboundCount\\\": 144,\\n      \\\"Country\\\": \\\"US\\\",\\n      \\\"InfoOutboundCount\\\": 213\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询个人信息出境流量分布"},"DescribeSensitiveDetectionResult":{"summary":"查询API安全合规要求检测结果。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"187711","abilityTreeNodes":["FEATUREwaf8XGRZR"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-7pp26f1****"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1672502400"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1725966000"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Data":{"description":"合规检测结果。","type":"object","properties":{"Result":{"description":"合规检测列表。","type":"array","items":{"description":"合规检测信息。","type":"object","properties":{"Max":{"description":"敏感类型数据统计的最大值。","type":"object","properties":{"SensitiveCode":{"description":"最多的敏感数据类型。","type":"integer","format":"int64","example":"1003"},"OutboundCount":{"description":"最多的敏感数据类型对应的个人出境信息数量。","type":"integer","format":"int64","example":"54"},"InfoCount":{"description":"最多的敏感数据类型对应的个人信息数量。","type":"integer","format":"int64","example":"187"}}},"DetectionResult":{"description":"合规检测结果。取值： \n- **report**：表示存在数据出境风险。\n- **none**：表示不存在数据出境风险。","type":"string","example":"report"},"List":{"description":"敏感类型信息检测列表。","type":"array","items":{"description":"敏感类型数据检测信息。","type":"object","properties":{"SensitiveCode":{"description":"敏感数据类型。","type":"integer","format":"int64","example":"1002"},"OutboundCount":{"description":"个人出境信息数量。","type":"integer","format":"int64","example":"6"},"InfoCount":{"description":"个人信息数量。","type":"integer","format":"int64","example":"11"}}}}}}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Data\\\": {\\n    \\\"Result\\\": [\\n      {\\n        \\\"Max\\\": {\\n          \\\"SensitiveCode\\\": 1003,\\n          \\\"OutboundCount\\\": 54,\\n          \\\"InfoCount\\\": 187\\n        },\\n        \\\"DetectionResult\\\": \\\"report\\\",\\n        \\\"List\\\": [\\n          {\\n            \\\"SensitiveCode\\\": 1002,\\n            \\\"OutboundCount\\\": 6,\\n            \\\"InfoCount\\\": 11\\n          }\\n        ]\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询API安全合规要求检测结果"},"DescribeSensitiveApiStatistic":{"summary":"查询个人信息涉及站点及接口统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"187678","abilityTreeNodes":["FEATUREwaf8XGRZR"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"MatchedHost","in":"query","schema":{"description":"API接口所属的域名或IP。","type":"string","required":false,"example":"a.***.com"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。\n> 合规审查当前仅支持查询最近1个月、最近3个月、最近6个月、最近12个月、自去年1月1日至今的数据，请确保时间的合法性。","type":"integer","format":"int64","required":false,"example":"1672502400"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。\n\n>合规审查当前仅支持查询最近1个月、最近3个月、最近6个月、最近12个月、自去年1月1日至今的数据，请确保时间的合法性。","type":"integer","format":"int64","required":false,"example":"1725966000"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"25","minimum":"1","example":"10","default":"10"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"269"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Type","in":"query","schema":{"description":"统计的维度。取值：\n\n- **matchedHost**（默认）：表示域名维度的统计。\n\n- **apiFormat**：表示API维度的统计。\n\n> **apiFormat** 维度统计，需要指定对应的域名入参**MatchedHost**。","type":"string","required":false,"example":"matchedHost","default":"matchedHost"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Data":{"description":"统计列表。","type":"array","items":{"description":"统计信息。","type":"object","properties":{"SensitiveOutboundCount":{"description":"域名维度的出境个人敏感信息数量。","type":"integer","format":"int64","example":"127"},"MatchedHost":{"description":"域名或IP。","type":"string","example":"www.***.top"},"List":{"description":"域名下的API接口统计列表。\n\n>需要入参 **Type** 为 **apiFormat** 时，才返回API维度的统计信息。","type":"array","items":{"description":"域名下的API接口统计信息。","type":"object","properties":{"SensitiveCode":{"description":"敏感数据类型列表。","type":"array","items":{"description":"敏感数据类型。","type":"string","example":"1003"}},"ApiFormat":{"description":"API接口。","type":"string","example":"/api/login"},"SensitiveCount":{"description":"API维度的出境个人敏感信息数量。","type":"integer","format":"int64","example":"55"},"ApiId":{"description":"API的ID。","type":"string","example":"d288137009c119a873d4c395****"},"InfoCount":{"description":"API维度的出境个人信息条数。","type":"integer","format":"int64","example":"78"}}}},"InfoOutboundCount":{"description":"域名维度的出境个人信息条数。","type":"integer","format":"int64","example":"213"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 10,\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"SensitiveOutboundCount\\\": 127,\\n      \\\"MatchedHost\\\": \\\"www.***.top\\\",\\n      \\\"List\\\": [\\n        {\\n          \\\"SensitiveCode\\\": [\\n            \\\"1003\\\"\\n          ],\\n          \\\"ApiFormat\\\": \\\"/api/login\\\",\\n          \\\"SensitiveCount\\\": 55,\\n          \\\"ApiId\\\": \\\"d288137009c119a873d4c395****\\\",\\n          \\\"InfoCount\\\": 78\\n        }\\n      ],\\n      \\\"InfoOutboundCount\\\": 213\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询个人信息涉及站点及接口统计"},"DescribeFreeUserEvents":{"summary":"查询API安全基础检测的安全事件列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"156225","abilityTreeNodes":["FEATUREwafDX9EQ6"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-27a3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"8A2DF88D-90C2-56E9-B8D5-36BB9646791C"},"Event":{"description":"基础检测的安全事件列表。","type":"array","items":{"description":"基础检测的安全事件信息。","type":"object","properties":{"EventTag":{"description":"事件类型。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的事件类型。","type":"string","example":"Event_DataTraverse"},"ApiFormat":{"description":"API接口。","type":"string","example":"/api/login"},"Domain":{"description":"API接口所属的域名。","type":"string","example":"www.***.cn"},"AttackIP":{"description":"攻击IP。","type":"string","example":"104.234.140.**"},"AttackTime":{"description":"攻击时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1683703260"},"EventLevel":{"description":"事件等级。取值：\n- **high**：表示高危。\n- **medium**：表示中危。\n- **low**：表示低危。","type":"string","example":"high"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"8A2DF88D-90C2-56E9-B8D5-36BB9646791C\\\",\\n  \\\"Event\\\": [\\n    {\\n      \\\"EventTag\\\": \\\"Event_DataTraverse\\\",\\n      \\\"ApiFormat\\\": \\\"/api/login\\\",\\n      \\\"Domain\\\": \\\"www.***.cn\\\",\\n      \\\"AttackIP\\\": \\\"104.234.140.**\\\",\\n      \\\"AttackTime\\\": 1683703260,\\n      \\\"EventLevel\\\": \\\"high\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全基础检测的安全事件列表"},"DescribeFreeUserEventTypes":{"summary":"查询API安全基础检测的安全事件类型。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"188825","abilityTreeNodes":["FEATUREwafDX9EQ6"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-bl0****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"B9D6AD11-DD3D-5A27-B1D9-8A37F7777196"},"Data":{"description":"基础检测的安全事件类型列表。","type":"array","items":{"description":"基础检测的安全事件类型信息。","type":"object","properties":{"EventNum":{"description":"安全事件数量。","type":"string","example":"4"},"EventType":{"description":"安全事件类型。","type":"string","example":"SMSInterfaceAbuse"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B9D6AD11-DD3D-5A27-B1D9-8A37F7777196\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"EventNum\\\": \\\"4\\\",\\n      \\\"EventType\\\": \\\"SMSInterfaceAbuse\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全基础检测的安全事件类型"},"DescribeFreeUserEventCount":{"summary":"查询API安全基础检测的安全事件统计。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"156223","abilityTreeNodes":["FEATUREwafDX9EQ6"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepay_public_intl-sg-vf***"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求的ID。","type":"string","example":"0D9FB3BC-0DE9-58A8-9663-ACE56F24F405"},"Event":{"description":"基础检测的安全事件信息。","type":"object","properties":{"EventTotal":{"description":"API安全事件总数。","type":"integer","format":"int64","example":"16"},"EventLow":{"description":"低危事件数量。","type":"integer","format":"int64","example":"12"},"EventHigh":{"description":"高危事件数量。","type":"integer","format":"int64","example":"1"},"EventMedium":{"description":"中危事件数量。","type":"integer","format":"int64","example":"3"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0D9FB3BC-0DE9-58A8-9663-ACE56F24F405\\\",\\n  \\\"Event\\\": {\\n    \\\"EventTotal\\\": 16,\\n    \\\"EventLow\\\": 12,\\n    \\\"EventHigh\\\": 1,\\n    \\\"EventMedium\\\": 3\\n  }\\n}\",\"type\":\"json\"}]","title":"查询API安全基础检测的安全事件统计"},"DescribeFreeUserAssetCount":{"summary":"查询API安全基础检测的资产统计信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"156224","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-cs0*****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"30488BF0-FD58-52DD-B396-D014549F43A3"},"Asset":{"description":"基础检测的资产统计信息。","type":"object","properties":{"AssetCount":{"description":"API资产总数。","type":"integer","format":"int64","example":"15"},"AssetActive":{"description":"活跃API数量。","type":"integer","format":"int64","example":"34"},"AssetOffline":{"description":"失活API数量。","type":"integer","format":"int64","example":"13"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"30488BF0-FD58-52DD-B396-D014549F43A3\\\",\\n  \\\"Asset\\\": {\\n    \\\"AssetCount\\\": 15,\\n    \\\"AssetActive\\\": 34,\\n    \\\"AssetOffline\\\": 13\\n  }\\n}\",\"type\":\"json\"}]","title":"查询API安全基础检测的资产统计信息"},"DescribeApisecUserOperations":{"summary":"查询API安全用户操作记录。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"169805","abilityTreeNodes":["FEATUREwafWE25G7"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-wwo36ksck1e"}},{"name":"Type","in":"query","schema":{"description":"操作记录类型，取值：\n- **abnormal**：表示风险检测。\n- **event**：表示安全事件。","type":"string","required":false,"example":"event","default":"abnormal"}},{"name":"ObjectId","in":"query","schema":{"description":"操作记录对象ID。","type":"string","required":true,"example":"fe8723e92e2037245014ab62161bbec8"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek2ax2y5****pi"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"C9825654-327B-5156-A570-847054B4CF10"},"Data":{"description":"操作记录列表。","type":"array","items":{"description":"操作记录。","type":"object","properties":{"Type":{"description":"操作记录类型，取值：\n- **abnormal**：表示风险检测。\n- **event**：表示安全事件。","type":"string","example":"abnormal"},"ToStatus":{"description":"操作后状态。\n\n风险（risk）状态，取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **toBeFixed**：表示待修复。\n- **fixed**：表示已修复。\n- **ignored**：表示忽略。\n\n事件（event）状态，取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **ignored**：表示忽略。","type":"string","example":"Confirmed"},"ObjectId":{"description":"操作记录类型的对象ID。","type":"string","example":"24d997acc48a67a01e09b9c5ad861287"},"FromStatus":{"description":"操作前状态。\n\n风险（risk）状态，取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **toBeFixed**：表示待修复。\n- **fixed**：表示已修复。\n- **ignored**：表示忽略。\n\n事件（event）状态，取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **ignored**：表示忽略。","type":"string","example":"ignored"},"UserId":{"description":"用户ID。","type":"string","example":"1610954****"},"Note":{"description":"备注信息。","type":"string","example":"Procesed"},"Time":{"description":"操作时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1685072214"},"OperationSource":{"description":"操作的来源。 取值：\n- **system**：表示系统操作。\n- **custom**：表示用户操作。","type":"string","example":"custom"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C9825654-327B-5156-A570-847054B4CF10\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"Type\\\": \\\"abnormal\\\",\\n      \\\"ToStatus\\\": \\\"Confirmed\\\",\\n      \\\"ObjectId\\\": \\\"24d997acc48a67a01e09b9c5ad861287\\\",\\n      \\\"FromStatus\\\": \\\"ignored\\\",\\n      \\\"UserId\\\": \\\"1610954****\\\",\\n      \\\"Note\\\": \\\"Procesed\\\",\\n      \\\"Time\\\": 1685072214,\\n      \\\"OperationSource\\\": \\\"custom\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全用户操作记录"},"DescribeApisecSuggestions":{"summary":"查询API资产的防护建议。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"169804","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-pe336n43m04"}},{"name":"ApiId","in":"query","schema":{"description":"API的ID。","type":"string","required":true,"example":"a60fd7e3021fe371c06dc1dcb883def0"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Data":{"description":"防护建议列表。","type":"array","items":{"description":"防护建议信息。","type":"object","properties":{"SuggestRule":{"description":"防护建议规则内容，以一系列参数构造的JSON格式转化成字符串。包括：\n- **event_tags**：表示事件类型。\n- **black_iplist**：表示IP黑名单列表。\n- **ip_baseline**：表示IP列表。\n- **freq_baseline**：表示限流频率信息。\n- **client_id_baseline**：表示客户端信息。\n- **country_baseline**：表示国家信息。\n- **province_baseline**：表示地区信息。\n- **sensitive_type**：表示敏感信息类型。","type":"string","example":"{\n    \"rule\": \"ClientRule\",\n    \"client_id_baseline\": [\"Edge\"]\n}"},"MatchedHost":{"description":"API接口所属的域名或IP。","type":"string","example":"a.aliyun.com"},"ApiFormat":{"description":"API接口。","type":"string","example":"/apisec/v1/saveinfo"},"SuggestType":{"description":"防护建议类型。取值： \n- **BotRule**：表示Bot规则。\n- **BlackIPRule**：表示IP黑名单规则。\n- **WhiteIPRule**：表示IP白名单规则。\n- **RateLimitRule**：表示限流规则。\n- **ClientRule**：表示客户端规则。\n- **GeoRule**：表示地域规则。\n- **SensitiveRule**：表示敏感信息规则。\n- **UnauthRule**：表示鉴权规则。","type":"string","example":"WhiteIPRule"},"SuggestId":{"description":"防护建议ID。","type":"string","example":"15060a1f8fed40130b7c4a7bf8d8733b"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"SuggestRule\\\": \\\"{\\\\n    \\\\\\\"rule\\\\\\\": \\\\\\\"ClientRule\\\\\\\",\\\\n    \\\\\\\"client_id_baseline\\\\\\\": [\\\\\\\"Edge\\\\\\\"]\\\\n}\\\",\\n      \\\"MatchedHost\\\": \\\"a.aliyun.com\\\",\\n      \\\"ApiFormat\\\": \\\"/apisec/v1/saveinfo\\\",\\n      \\\"SuggestType\\\": \\\"WhiteIPRule\\\",\\n      \\\"SuggestId\\\": \\\"15060a1f8fed40130b7c4a7bf8d8733b\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API资产的防护建议"},"DescribeApisecStatistics":{"summary":"查询API安全风险或安全事件的检测统计信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"169803","abilityTreeNodes":["FEATUREwafWE25G7"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-uax***b09"}},{"name":"Type","in":"query","schema":{"description":"检测统计类型。取值：\n- **risk**：表示风险影响统计。\n- **event**：表示攻击影响统计。","type":"string","required":false,"example":"risk","default":"risk"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek2***uwbs5q"}},{"name":"StartTime","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1668496310"}},{"name":"EndTime","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1726113600"}},{"name":"UserStatusList","in":"query","style":"flat","schema":{"description":"检测统计的状态列表。","type":"array","items":{"description":"统计的风险或安全事件的状态。\n>您可以查看 [DescribeApisecAbnormals](~~2859134~~) 、 [DescribeApisecEvents](~~2858948~~) 的入参**UserStatus** 获取支持风险和安全事件支持的状态取值。","type":"string","required":false,"example":"toBeConfirmed"},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"221F0F14-54C6-59A1-9967-72***81B61A"},"Data":{"description":"统计结果。","type":"object","properties":{"High":{"description":"高危数量。","type":"integer","format":"int64","example":"135"},"ToBeFixed":{"description":"待修复数量。","type":"integer","format":"int64","example":"3"},"Ignore":{"description":"已忽略数量。","type":"integer","format":"int64","example":"3"},"TodayTotal":{"description":"今日新增总数量。","type":"string","example":"3"},"TodayMedium":{"description":"今日新增中危数量。","type":"string","example":"0"},"TodayHigh":{"description":"今日新增高危数量。","type":"string","example":"3"},"Low":{"description":"低危数量。","type":"integer","format":"int64","example":"160"},"Medium":{"description":"中危数量。","type":"integer","format":"int64","example":"27"},"Total":{"description":"总数。\n\n> 出参**High**、**Medium**、**Low**的总和。","type":"integer","format":"int64","example":"322"},"TodayLow":{"description":"今日新增低危数量。","type":"integer","format":"int64","example":"0"},"ToBeConfirmed":{"description":"待确认数量。","type":"integer","format":"int64","example":"295"},"Api":{"description":"API数量。","type":"integer","format":"int64","example":"202"},"Confirmed":{"description":"已确认数量。","type":"integer","format":"int64","example":"11"},"Domain":{"description":"域名数量。","type":"integer","format":"int64","example":"22"},"Fixed":{"description":"已修复（人工验证）数量。","type":"integer","format":"int64","example":"13"},"Actioned":{"description":"已处置数量。","type":"integer","format":"int64","example":"1"},"ToBeVerified":{"description":"待系统验证的数量。","type":"integer","format":"int64","example":"2"},"NotFixed":{"description":"验证未修复的数量。","type":"integer","format":"int64","example":"0"},"SystemFixed":{"description":"已修复（系统验证）数量。","type":"integer","format":"int64","example":"1"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"221F0F14-54C6-59A1-9967-72***81B61A\\\",\\n  \\\"Data\\\": {\\n    \\\"High\\\": 135,\\n    \\\"ToBeFixed\\\": 3,\\n    \\\"Ignore\\\": 3,\\n    \\\"TodayTotal\\\": \\\"3\\\",\\n    \\\"TodayMedium\\\": \\\"0\\\",\\n    \\\"TodayHigh\\\": \\\"3\\\",\\n    \\\"Low\\\": 160,\\n    \\\"Medium\\\": 27,\\n    \\\"Total\\\": 322,\\n    \\\"TodayLow\\\": 0,\\n    \\\"ToBeConfirmed\\\": 295,\\n    \\\"Api\\\": 202,\\n    \\\"Confirmed\\\": 11,\\n    \\\"Domain\\\": 22,\\n    \\\"Fixed\\\": 13,\\n    \\\"Actioned\\\": 1,\\n    \\\"ToBeVerified\\\": 2,\\n    \\\"NotFixed\\\": 0,\\n    \\\"SystemFixed\\\": 1\\n  }\\n}\",\"type\":\"json\"}]","title":"查询API安全检测统计信息"},"DescribeApisecRules":{"summary":"查询API安全策略配置规则。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"167015","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0x***"}},{"name":"Type","in":"query","schema":{"description":"规则类型。取值：\n- **risk**：表示风险检测。\n- **event**：表示安全事件。\n- **sensitive_word**：表示敏感数据。\n- **auth_flag**：表示鉴权凭证。\n- **api_tag**：表示业务用途。\n- **desensitization**：表示脱敏。\n- **whitelist**：表示白名单。\n- **recognition**：表示接口。\n- **offline_api**：表示生命周期管理。","type":"string","required":true,"example":"risk"}},{"name":"Level","in":"query","schema":{"description":"规则的等级。\n\n对于风险检测（risk）、安全事件（event），取值：\n- **high**：表示高危。\n- **medium**：表示中危。\n- **low**：表示低危。\n\n对于敏感数据（sensitive_word），取值：\n- **S1**：表示S1等级。\n- **S2**：表示S2等级。\n- **S3**：表示S3等级。\n- **S4**：表示S4等级。","type":"string","required":false,"example":"high"}},{"name":"Name","in":"query","schema":{"description":"规则名称。","type":"string","required":false,"example":"information leakage"}},{"name":"Origin","in":"query","schema":{"description":"规则的来源。取值：\n- **custom**：表示自定义。\n- **default**：表示内置。","type":"string","required":false,"example":"custom"}},{"name":"Status","in":"query","schema":{"description":"规则的开启状态。取值：\n\n- **1**：表示开启。\n\n- **0**：表示关闭。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"example":"10","default":"10"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"Lang","in":"query","schema":{"description":"返回规则的语言类型。取值：\n\n- **zh**（默认）：中文。\n- **en**：英文。","type":"string","required":false,"example":"zh","default":"zh"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"6"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Data":{"description":"规则的列表。","type":"array","items":{"description":"规则的信息。","type":"object","properties":{"Status":{"description":"规则的状态。取值：\n\n- **1**：表示开启。\n\n- **0**：表示关闭。","type":"integer","format":"int64","example":"1"},"Type":{"description":"规则类型。取值：\n- **risk**：表示风险检测。\n- **event**：表示安全事件。\n- **sensitive_word**：表示敏感数据。\n- **auth_flag**：表示鉴权凭证。\n- **api_tag**：表示业务用途。\n- **desensitization**：表示脱敏。\n- **whitelist**：表示白名单。\n- **recognition**：表示接口。\n- **offline_api**：表示生命周期管理。","type":"string","example":"risk"},"UpdateTime":{"description":"规则的更新时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1721095301"},"Id":{"description":"规则的ID。","type":"integer","format":"int64","example":"34933"},"Rule":{"description":"规则详情，以一系列参数构造的JSON格式转化成字符串。","type":"string","example":"{\n    \"ext\": \"Date\",\n    \"regex\": \"-\",\n    \"code\": \"2009\",\n    \"level\": \"S1\",\n    \"origin\": \"default\",\n    \"name\": \"2009\"\n}\n"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 6,\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"Status\\\": 1,\\n      \\\"Type\\\": \\\"risk\\\",\\n      \\\"UpdateTime\\\": 1721095301,\\n      \\\"Id\\\": 34933,\\n      \\\"Rule\\\": \\\"{\\\\n    \\\\\\\"ext\\\\\\\": \\\\\\\"Date\\\\\\\",\\\\n    \\\\\\\"regex\\\\\\\": \\\\\\\"-\\\\\\\",\\\\n    \\\\\\\"code\\\\\\\": \\\\\\\"2009\\\\\\\",\\\\n    \\\\\\\"level\\\\\\\": \\\\\\\"S1\\\\\\\",\\\\n    \\\\\\\"origin\\\\\\\": \\\\\\\"default\\\\\\\",\\\\n    \\\\\\\"name\\\\\\\": \\\\\\\"2009\\\\\\\"\\\\n}\\\\n\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全策略配置规则"},"DescribeApisecProtectionResources":{"summary":"查询API安全防护对象生效列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"188983","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-0xldbqt****"}},{"name":"Resource","in":"query","schema":{"description":"防护对象名称。","type":"string","required":false,"example":"cwaf-***-waf"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"100","minimum":"1","example":"10","default":"10"}},{"name":"ApisecStatus","in":"query","schema":{"description":"API安全总开关。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"5"},"RequestId":{"description":"请求ID。","type":"string","example":"2EFCFE18-78F8-5079-B312-07***48B"},"Data":{"description":"防护对象的列表。","type":"array","items":{"description":"防护对象的信息。","type":"object","properties":{"ApisecStatus":{"description":"API安全总开关。","type":"integer","format":"int64","example":"1","default":"0"},"Resource":{"description":"防护对象。","type":"string","example":"cwaf-***-waf"},"ReportStatus":{"description":"合规审查开关。","type":"integer","format":"int64","example":"1","default":"0"},"TraceStatus":{"description":"溯源审计开关。","type":"integer","format":"int64","example":"0","default":"0"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 5,\\n  \\\"RequestId\\\": \\\"2EFCFE18-78F8-5079-B312-07***48B\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"ApisecStatus\\\": 1,\\n      \\\"Resource\\\": \\\"cwaf-***-waf\\\",\\n      \\\"ReportStatus\\\": 1,\\n      \\\"TraceStatus\\\": 0\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全防护对象生效列表"},"DescribeApisecProtectionGroups":{"summary":"查询API安全防护对象组的生效列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"189024","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"ResourceGroup","in":"query","schema":{"description":"防护对象加入的防护对象组的名称。","type":"string","required":false,"example":"group1\n"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"60","minimum":"1","example":"10","default":"10"}},{"name":"ApisecStatus","in":"query","schema":{"description":"API安全检测开关。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"防护对象组的总数。","type":"integer","format":"int64","example":"8"},"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"},"Data":{"description":"防护对象组的列表。","type":"array","items":{"description":"防护对象组的信息。","type":"object","properties":{"ApisecStatus":{"description":"API安全总开关。","type":"integer","format":"int64","example":"1","default":"0"},"ReportStatus":{"description":"合规审查开关。","type":"integer","format":"int64","example":"0","default":"0"},"ResourceGroup":{"description":"防护对象组的名称。","type":"string","example":"group1"},"TraceStatus":{"description":"溯源审计开关。","type":"integer","format":"int64","example":"0","default":"0"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 8,\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"ApisecStatus\\\": 1,\\n      \\\"ReportStatus\\\": 0,\\n      \\\"ResourceGroup\\\": \\\"group1\\\",\\n      \\\"TraceStatus\\\": 0\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全防护对象组的生效列表"},"DescribeApisecMatchedHosts":{"summary":"查询API安全检测的域名列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"168988","abilityTreeNodes":["FEATUREwaf71G1E8"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-x0r37plpl0g"}},{"name":"MatchedHost","in":"query","schema":{"description":"域名或IP。","type":"string","required":false,"example":"bc.aliyun.com"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"string","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"string","required":false,"example":"8","default":"10"}},{"name":"Type","in":"query","schema":{"description":"检测类型。取值：\n- **api**：表示API资产的域名列表。\n- **abnormal**：表示风险的域名列表。\n- **event**：表示安全事件的域名列表。","type":"string","required":false,"example":"event","default":"api"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"433"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekz5qqo7jthcsa"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"string","example":"2"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"8D4CA088-F72B-5658-BD5B-ECE8B8F0C7BB"},"Data":{"description":"域名列表。","type":"array","items":{"description":"域名信息。","type":"object","properties":{"MatchedHost":{"description":"域名或IP。","type":"string","example":"bc.aliyun.com"},"Count":{"description":"查询数量。","type":"integer","format":"int64","example":"31"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": \\\"2\\\",\\n  \\\"RequestId\\\": \\\"8D4CA088-F72B-5658-BD5B-ECE8B8F0C7BB\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"MatchedHost\\\": \\\"bc.aliyun.com\\\",\\n      \\\"Count\\\": 31\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全检测的域名列表"},"DescribeApisecEvents":{"summary":"查询API安全事件列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"169015","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-5y***d31"}},{"name":"EventId","in":"query","schema":{"description":"API安全事件ID。","type":"string","required":false,"example":"18ba94fea9***e66ba0557b7b91"}},{"name":"ApiFormat","in":"query","schema":{"description":"API接口。","type":"string","required":false,"example":"/apisec/v1/***.php"}},{"name":"MatchedHost","in":"query","schema":{"description":"API接口所属的域名或IP。","type":"string","required":false,"example":"a.***.com"}},{"name":"EventTag","in":"query","schema":{"description":"事件类型。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的事件类型。","type":"string","required":false,"example":"ObtainSensitiveUnauthorized"}},{"name":"StartTs","in":"query","schema":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1683648000"}},{"name":"EndTs","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","required":false,"example":"1683703260"}},{"name":"OrderKey","in":"query","schema":{"description":"排序字段的名称。取值：\n- **allCnt**：表示攻击次数。\n- **startTs**：表示事件开始时间。\n- **endTs**：表示事件结束时间。","type":"string","required":false,"example":"startTs"}},{"name":"OrderWay","in":"query","schema":{"description":"排序的方式。取值：\n- **desc**：表示降序（默认）。\n- **asc**：表示升序。","type":"string","required":false,"example":"desc"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int64","required":false,"maximum":"200","minimum":"1","example":"10","default":"10"}},{"name":"ApiTag","in":"query","schema":{"description":"API业务用途。\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的业务用途。","type":"string","required":false,"example":"SendMail"}},{"name":"Origin","in":"query","schema":{"description":"事件类型的来源。取值：\n- **custom**：表示自定义。\n- **default**：表示内置。","type":"string","required":false,"example":"default"}},{"name":"EventLevel","in":"query","schema":{"description":"事件等级。取值：\n- **high**：表示高危。\n- **medium**：表示中危。\n- **low**：表示低危。","type":"string","required":false,"example":"low"}},{"name":"UserStatus","in":"query","schema":{"description":"事件状态。取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **actioned**：表示已处置。\n- **ignored**：表示忽略。","type":"string","required":false,"example":"ignored"}},{"name":"AttackIp","in":"query","schema":{"description":"攻击IP。","type":"string","required":false,"example":"42.224.*.*"}},{"name":"ApiId","in":"query","schema":{"description":"API的ID。","type":"string","required":false,"example":"820b860***6205da93b935b28"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"string","required":false,"example":"428"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"请求结果。","type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"3"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"12F4CC8F-7E9F-5E4D-BF7C-BD1EDDE0C282"},"Data":{"description":"安全事件列表。","type":"array","items":{"description":"安全事件信息。","type":"object","properties":{"Origin":{"description":"事件类型的来源。取值：\n- **custom**：表示自定义。\n- **default**：表示内置。","type":"string","example":"custom"},"EventLevel":{"description":"事件等级。取值：\n- **high**：表示高危。\n- **medium**：表示中危。\n- **low**：表示低危。","type":"string","example":"medium"},"StartTs":{"description":"查询的开始时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1683648000"},"EventInfo":{"description":"事件详细信息，以一系列参数构造的JSON格式转化成字符串。包括：\n- **ip_info**：表示攻击IP信息，可以参考本接口的返回参数**AttackIpInfo**。\n- **rule_id**：表示事件对应的规则ID。\n- **rule_tag**：表示事件对应的规则信息。","type":"string","example":"{\n    \"ip_info\": [\n        {\n            \"ip\": \"112.224.143.**\",\n            \"country_id\": \"CN\",\n            \"region_id\": \"-\",\n            \"cnt\": \"4\"\n        }\n    ],\n    \"rule_id\": \"837**\",\n    \"rule_tag\": \"interface returns a large amount of sensitive information\"\n}\n"},"ApiFormat":{"description":"API接口。","type":"string","example":"/apisec/v1/register.php"},"ApiTag":{"description":"API业务用途。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的业务用途。","type":"string","example":"SendMail"},"UserStatus":{"description":"事件状态。取值：\n- **toBeConfirmed**：表示待确认。\n- **confirmed**：表示已确认。\n- **actioned**：表示已处置。\n- **ignored**：表示忽略。","type":"string","example":"toBeConfirmed"},"Follow":{"description":"是否关注。取值：\n- **1**：表示关注。\n- **0**：表示未关注。","type":"integer","format":"int32","example":"0"},"RequestData":{"description":"API请求数据实例，以一系列参数构造的JSON格式转化成字符串。","type":"string","example":"{}"},"EventId":{"description":"事件ID。","type":"string","example":"c82cb276847e9c96f9597d9f4b0cdcff"},"AttackIp":{"description":"攻击IP。\n><notice>参数已弃用，请使用AttackIps参数。></notice>","type":"string","example":"104.234.140.**"},"AttackIpInfo":{"description":"攻击IP相关信息，以一系列参数构造的JSON格式转化成字符串。包括：\n- **ip**：表示IP地址。\n- **country_id**：表示所属国家。\n- **region_id**：表示所属地区。\n- **cnt**：表示攻击次数。","type":"string","example":"[\n    {\n        \"ip\": \"72.*.*.119\",\n        \"country_id\": \"US\",\n        \"region_id\": \"\",\n        \"cnt\": \"2100\"\n    }\n]"},"EndTs":{"description":"查询的结束时间，格式为Unix时间戳（UTC时间），单位为秒。","type":"integer","format":"int64","example":"1683703260"},"AttackCntInfo":{"description":"攻击数量相关信息，以一系列参数构造的JSON格式转化成字符串。其中Key为时间戳，单位为秒、Value为攻击数量。","type":"string","example":"{\n    \"1717498320\": 500,\n    \"1717498380\": 529,\n    \"1717498440\": 20\n}"},"AllCnt":{"description":"攻击次数。","type":"integer","format":"int64","example":"10"},"RemoteRegion":{"description":"攻击IP所属地区。","type":"string","example":"110000"},"ResponseData":{"description":"API响应数据示例，以一系列参数构造的JSON格式转化成字符串。","type":"string","example":"{}"},"AttackClient":{"description":"攻击客户端。","type":"string","example":"Chrome"},"EventTag":{"description":"事件类型。\n\n> 您可以调用[DescribeApisecRules](~~2859155~~)获取支持的事件类型。","type":"string","example":"ObtainSensitiveUnauthorized"},"MatchedHost":{"description":"API接口所属的域名或IP。","type":"string","example":"a.***.com"},"Note":{"description":"备注信息。","type":"string","example":"Notify"},"ApiId":{"description":"安全事件关联API的ID。","type":"string","example":"2ecc1cf67b91853bc55545052ccf06a8"},"RemoteCountry":{"description":"攻击IP所属国家。","type":"string","example":"US"},"AttackIps":{"description":"攻击IP列表。","type":"array","items":{"description":"攻击IP。","type":"string","example":"104.234.140.**\n"}}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 3,\\n  \\\"RequestId\\\": \\\"12F4CC8F-7E9F-5E4D-BF7C-BD1EDDE0C282\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"Origin\\\": \\\"custom\\\",\\n      \\\"EventLevel\\\": \\\"medium\\\",\\n      \\\"StartTs\\\": 1683648000,\\n      \\\"EventInfo\\\": \\\"{\\\\n    \\\\\\\"ip_info\\\\\\\": [\\\\n        {\\\\n            \\\\\\\"ip\\\\\\\": \\\\\\\"112.224.143.**\\\\\\\",\\\\n            \\\\\\\"country_id\\\\\\\": \\\\\\\"CN\\\\\\\",\\\\n            \\\\\\\"region_id\\\\\\\": \\\\\\\"-\\\\\\\",\\\\n            \\\\\\\"cnt\\\\\\\": \\\\\\\"4\\\\\\\"\\\\n        }\\\\n    ],\\\\n    \\\\\\\"rule_id\\\\\\\": \\\\\\\"837**\\\\\\\",\\\\n    \\\\\\\"rule_tag\\\\\\\": \\\\\\\"interface returns a large amount of sensitive information\\\\\\\"\\\\n}\\\\n\\\",\\n      \\\"ApiFormat\\\": \\\"/apisec/v1/register.php\\\",\\n      \\\"ApiTag\\\": \\\"SendMail\\\",\\n      \\\"UserStatus\\\": \\\"toBeConfirmed\\\",\\n      \\\"Follow\\\": 0,\\n      \\\"RequestData\\\": \\\"{}\\\",\\n      \\\"EventId\\\": \\\"c82cb276847e9c96f9597d9f4b0cdcff\\\",\\n      \\\"AttackIp\\\": \\\"104.234.140.**\\\",\\n      \\\"AttackIpInfo\\\": \\\"[\\\\n    {\\\\n        \\\\\\\"ip\\\\\\\": \\\\\\\"72.*.*.119\\\\\\\",\\\\n        \\\\\\\"country_id\\\\\\\": \\\\\\\"US\\\\\\\",\\\\n        \\\\\\\"region_id\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"cnt\\\\\\\": \\\\\\\"2100\\\\\\\"\\\\n    }\\\\n]\\\",\\n      \\\"EndTs\\\": 1683703260,\\n      \\\"AttackCntInfo\\\": \\\"{\\\\n    \\\\\\\"1717498320\\\\\\\": 500,\\\\n    \\\\\\\"1717498380\\\\\\\": 529,\\\\n    \\\\\\\"1717498440\\\\\\\": 20\\\\n}\\\",\\n      \\\"AllCnt\\\": 10,\\n      \\\"RemoteRegion\\\": \\\"110000\\\",\\n      \\\"ResponseData\\\": \\\"{}\\\",\\n      \\\"AttackClient\\\": \\\"Chrome\\\",\\n      \\\"EventTag\\\": \\\"ObtainSensitiveUnauthorized\\\",\\n      \\\"MatchedHost\\\": \\\"a.***.com\\\",\\n      \\\"Note\\\": \\\"Notify\\\",\\n      \\\"ApiId\\\": \\\"2ecc1cf67b91853bc55545052ccf06a8\\\",\\n      \\\"RemoteCountry\\\": \\\"US\\\",\\n      \\\"AttackIps\\\": [\\n        \\\"104.234.140.**\\\\n\\\"\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全事件列表"},"DescribeNetworkFlowTimeSeriesMetric":{"summary":"查询所有流量的时序统计数据，包含恶意请求和正常的业务请求。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"258611","abilityTreeNodes":["FEATUREwafVPSU1I"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"Filter","in":"query","style":"json","schema":{"description":"查询过滤条件，多个过滤条件之间是逻辑与的关系。","type":"object","properties":{"DateRange":{"description":"查询时间范围。","type":"object","properties":{"StartDate":{"description":"查询的数据范围不超过过去30天。查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。\n> 开始时间必须晚于当前时间减去30天。\n> -","type":"integer","format":"int64","required":true,"example":"1713888000"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。","type":"integer","format":"int64","required":true,"example":"1713888600"}},"required":true},"Conditions":{"description":"过滤条件列表，每一个节点描述一个过滤条件。","type":"array","items":{"description":"单个查询条件配置，查询条件由**字段名称**、**操作符**和**过滤内容**组成。关于查询条件中支持的字段名称以及操作符请参见**请求参数补充说明**。","type":"object","properties":{"Key":{"description":"执行过滤操作的字段名称，当前接口的Key只支持如下两个字段：\n\n- matched_host\n- cluster","type":"string","required":false,"enumValueTitles":{},"example":"matched_host（防护对象）\n"},"OpValue":{"description":"操作符。","type":"string","required":false,"example":"eq（等于）\n"},"Values":{"description":"过滤值。","type":"any","required":false,"example":"test.waf-top"}},"required":false},"required":false}},"required":true}},{"name":"Metric","in":"query","schema":{"description":"用于区分返回的数据内容，不同的Metric对应不同的数据内容，该接口支持的Metric如下：\n\n*   qps: 返回waf每秒处理的请求数，采用峰值计算方法，每10秒计算出一个qps值，最后从多个值中取最大峰值作为当前统计时间粒度内的qps值。\n*   total_requests: 返回waf处理的总请求数。\n*   top5_status: 返回waf返回给客户端的top5响应码，以及对应的时间序列统计数据。\n*   top 5_upstream_status: 返回源站返回给客户端的top5响应码，以及对应的时间序列统计数据。","type":"string","required":true,"example":"total_requests"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"返回的数据结果，格式样例参见**示例**。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D827FCFE-90A7-4330-9326-D33C8B4*****"},"NetworkFlowTimeSeries":{"description":"返回的时间序列数据，支持返回多个值的时间序列数据。","type":"array","items":{"description":"单个时间序列数据，时间序列数据主要包含两个数组，分别对应Timestamps和Values数组，Timestamps数组中包含了固定时间间隔的时间序列，Values数组中包含了每个固定时间间隔内的统计计数，这两个数组包含的节点个数是一样的，两者的数据点是一一对应的关系。","type":"object","properties":{"Metric":{"description":"返回的数据内容，跟入参中的Metric含义保持一致。","type":"string","example":"total_requests"},"Timestamps":{"description":"时间序列，每个点代表一个时间范围的起始时间。","type":"array","items":{"description":"每个数据统计点的起始统计时间，使用UNIX时间戳字符串表示。","type":"string","example":"[]"}},"Values":{"description":"数据序列，每个点代表一定时间范围内的统计计数。","type":"array","items":{"description":"当前时间范围的统计计数。","type":"integer","format":"int64","example":"[]"}}}}},"TimeSeriesMetaData":{"description":"返回数据的元信息。","type":"object","properties":{"DateRange":{"description":"查询时使用的时间范围。","type":"object","properties":{"StartDate":{"description":"查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的StartDate一致。","type":"integer","format":"int64","example":"1713888000"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的EndDate一致。","type":"integer","format":"int64","example":"1713888600"}}},"AggregateInterval":{"description":"返回的时间序列数据中，每个数据点的统计时间粒度，比如\"15m\"则表示返回的每个数据点是每15分钟的统计数据。返回数据的时间粒度参见**时间序列数据点时间粒度说明**。","type":"string","example":"1m"},"Units":{"description":"返回的统计数据的单位。默认值为requests。","type":"string","example":"requests"}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Report.%s","errorMessage":"Invalid parameter:%s."},{"errorCode":"Waf.Report.InternalError","errorMessage":"Server error occurred in report service."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D827FCFE-90A7-4330-9326-D33C8B4*****\\\",\\n  \\\"NetworkFlowTimeSeries\\\": [\\n    {\\n      \\\"Metric\\\": \\\"total_requests\\\",\\n      \\\"Timestamps\\\": [\\n        \\\"[]\\\"\\n      ],\\n      \\\"Values\\\": [\\n        0\\n      ]\\n    }\\n  ],\\n  \\\"TimeSeriesMetaData\\\": {\\n    \\\"DateRange\\\": {\\n      \\\"StartDate\\\": 1713888000,\\n      \\\"EndDate\\\": 1713888600\\n    },\\n    \\\"AggregateInterval\\\": \\\"1m\\\",\\n    \\\"Units\\\": \\\"requests\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询网络流量时序数据","requestParamsDescription":"**操作符说明**\n\n|操作符|含义|说明|\n|----------|------------|------------|\n|all-not-match|不等于任一值|字段值和数据集合中的任意数据都不相等，例如过滤real_client_ip不等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"all-not-match\",\"Values\":[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]}`|\n|eq|等于|字段值等于某个字符串，例如设置过滤条件为URL等于\"/testcase\"的统计数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"eq\",\"Values\":\"/testcase\"}`|\n|match-one|等于多值之一|字段值和数据集合中的任意一数据相等，例如过滤real_client_ip等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"match-one\",\"Values\":[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]}`|\n|ne|不等于|字段值不等于某个字符串，例如设置过滤条件为URL不等于\"/testcase\"的统计数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"ne\",\"Values\":\"/testcase\"}` |\n\n\n\n**过滤条件支持的Key**\n\n|字段名称|字段含义|支持的操作符|\n|----------|------------|------------|\n|cluster|防护集群。|ne、eq、<br>match-one、<br>all-not-match|\n|matched_host|防护对象。|ne、eq、<br>match-one、<br>all-not-match|","responseParamsDescription":"**时间序列数据点时间粒度说明**\n\n查询数据时选择不同的时间范围，返回的数据的统计时间粒度不一样。\n\n- 查询时间范围小于3小时，返回的数据点的统计时间粒度为1m(1分钟）。\n- 查询时间范围大于等于3小时小于6小时，返回的数据点的统计时间粒度为5m(5分钟）。\n- 查询时间范围大于等于6小时小于24小时，返回的数据点的统计时间粒度为15m(15分钟）。\n- 查询时间范围大于等于24小时小于7天，返回的数据点的统计时间粒度为1h(1小时）。\n- 查询时间范围大于等于7天小于30天，返回的数据点的统计时间粒度为1d(1天）。"},"DescribeSecurityEventTopNMetric":{"summary":"查询攻击流量top统计数据，攻击流量按照一定维度聚合统计并排序后返回topN数据。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"258810","abilityTreeNodes":["FEATUREwafVPSU1I"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"Filter","in":"query","style":"json","schema":{"description":"查询过滤条件，多个过滤条件之间是逻辑与的关系。","type":"object","properties":{"DateRange":{"description":"查询时间范围。","type":"object","properties":{"StartDate":{"description":"查询的数据范围不超过过去30天。查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。\n\n\n> 开始时间必须晚于当前时间减去30天。\n> -","type":"integer","format":"int64","required":true,"example":"1713888000\n"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。","type":"integer","format":"int64","required":true,"example":"1713888600\n"}},"required":true},"Conditions":{"description":"过滤条件列表，每一个节点描述一个过滤条件。","type":"array","items":{"description":"单个查询条件配置，查询条件由**字段名称**、**操作符**和**过滤内容**组成。关于查询条件中支持的字段名称以及操作符请参见**请求参数补充说明**。","type":"object","properties":{"Key":{"description":"执行过滤操作的字段名称，该接口支持所有字段。","type":"string","required":false,"example":"matched_host\n"},"OpValue":{"description":"操作符。","type":"string","required":false,"example":"eq\n"},"Values":{"description":"过滤值。","type":"any","required":false,"example":"test.waf-top\n"}},"required":false},"required":false}},"required":true}},{"name":"Limit","in":"query","schema":{"description":"控制统计数据按照降序排序后返回数据条数，最大值为10。","type":"integer","format":"int64","required":true,"example":"10\n"}},{"name":"Metric","in":"query","schema":{"description":"用于区分返回的数据内容，不同的Metric对应不同的数据内容，该接口支持的Metric如下：\n> “攻击请求”的定义参见API接口描述，下面的描述中引用该概念\n\n- real_client_ip，把攻击请求的源IP聚合统计并降序排序后，返回前N条数据\n- http_user_agent，把攻击请求的User-Agent聚合统计并按照降序排序后，返回前N条数据\n- matched_host，把攻击请求命中的防护对象聚合统计并按照降序排序后，返回前N条数据\n- remote_region_id，把攻击请求的源IP所属的国家聚合统计并降序排序后，返回前N条数据\n- request_path，把攻击请求的URL（不包含query）聚合统计并按照降序排序后，返回前N条数据\n- block_defense_scene，把拦截请求（处置动作为非“观察”）的最终处置模块聚合统计并按照降序排序后，返回前N条数据\n- defense_scene，把攻击请求命中的所有防护模块进行聚合统计并按照降序排序后，返回前N条数据\n- defense_scene_rule_id，查询命中的非观察规则的top rule id以及规则对应的防护模块。该查询只返回非观察模式规则的统计。返回数据格式如下：<br>\n `{ \"Attribute\": \"waf_base\", \"Value\": 140, \"Name\": \"111034\" }`\n- defense_scene_with_rule_id，返回命中请求数排名前N的规则id以及规则所属防护模块，使用“-”连接。该查询不区分规则动作，包含了观察规则和拦截规则。返回格式如下所示：<br>\n `{ \"Attribute\": \"\",  \"Value\": 1,  \"Name\": \"120075-waf_base\" }`\n- defense_scene_top_rule_id，查询某个防护模块的top命中规则，需要在Filter的Conditions字段指定过滤条件，比如查询\"自定义acl\"模块的top命中规则，Conditions字段格式如下：<br>\n   `{ \"Key\": \"defense_scene_map\", \"OpValue\": \"contain\", \"Values\": \"custom_acl\" }`\n- defense_scene_rule_type，查询web核心防护模块的top命中规则类型，只有Web核心防护模块支持该查询，因为只有Web核心防护有规则子类型。查询时需要在Filter的Conditions字段指定过滤条件。格式如下：<br>\n`    { \"Key\": \"defense_scene\", \"OpValue\": \"eq\", \"Values\": \"waf_base\" }`","type":"string","required":true,"example":"real_client_ip"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou\n","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q\n"}}],"responses":{"200":{"schema":{"description":"返回的数据结果，格式样例参见**示例**。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D827FCFE-90A7-4330-9326-*****B4C7726\n"},"SecurityEventTopNValues":{"description":"返回的top统计数据数组。","type":"array","items":{"description":"每一个点对应一条top统计数据。","type":"object","properties":{"Name":{"description":"某个字段的值，根据查询的Metric不同，代表不同的含义。","type":"string","example":"10000"},"Attribute":{"description":"用于返回额外的信息，比如返回规则ID所属的防护模块。","type":"string","example":"waf_base\n"},"Value":{"description":"用于top排序的统计计数。","type":"integer","format":"int64","example":"1111"}}}},"TopNMetaData":{"description":"返回数据的元信息。","type":"object","properties":{"DateRange":{"description":"查询时使用的时间范围。","type":"object","properties":{"StartDate":{"description":"查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的StartDate一致。","type":"integer","format":"int64","example":"1713888000\n"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的EndDate一致。","type":"integer","format":"int64","example":"1713888600\n"}}},"Units":{"description":"返回的统计数据的单位。","type":"string","example":"requests\n"}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Report.%s","errorMessage":"Invalid parameter:%s."},{"errorCode":"Waf.Report.InternalError","errorMessage":"Server error occurred in report service."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D827FCFE-90A7-4330-9326-*****B4C7726\\\\n\\\",\\n  \\\"SecurityEventTopNValues\\\": [\\n    {\\n      \\\"Name\\\": \\\"10000\\\",\\n      \\\"Attribute\\\": \\\"waf_base\\\\n\\\",\\n      \\\"Value\\\": 1111\\n    }\\n  ],\\n  \\\"TopNMetaData\\\": {\\n    \\\"DateRange\\\": {\\n      \\\"StartDate\\\": 1713888000,\\n      \\\"EndDate\\\": 1713888600\\n    },\\n    \\\"Units\\\": \\\"requests\\\\n\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询攻击流量top统计数据","description":"攻击流量指的是命中规则并且被判定为有风险的请求。如下三种数据不包含：\n\n- 命中“白名单规则”的请求。\n- 命中bot规则，但是规则动作为“回源标记”的请求。\n- 命中规则并且规则动作为“动态令牌”/“滑块”/“严格滑块”/“js验证”，但是用户校验通过并放行的请求。","requestParamsDescription":"**操作符说明**\n\n|操作符|含义|说明|\n|----------|------------|------------|\n|all-not-match|不等于任一值|字段值和数据集合中的任意数据都不相等，例如过滤real_client_ip不等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"all-not-match\",\"Values\":[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]}`|\n|contain|包含|字段值包含某个字符串，例如过滤URL包含\"test\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"contain\",\"Values\":\"test\"}` |\n|eq|等于|字段值等于某个字符串，例如过滤URL等于\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"eq\",\"Values\":\"/testcase\"}`|\n|match-one|等于多值之一|字段值和数据集合中的任意一数据相等，例如过滤real_client_ip等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"match-one\",\"Values\":[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]}`|\n|ne|不等于|字段值不等于某个字符串，例如过滤URL不等于\"/testcase\"的统计数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"ne\",\"Values\":\"/testcase\"}` |\n|not-contain|不包含|字段值不包含某个字符串，例如过滤URL不包含\"test\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"not-contain\",\"Values\":\"test\"}` |\n|prefix-match|前缀匹配 |字段值以某个字符串作为前缀，例如滤URL前缀是\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"prefix-match\",\"Values\":\"/testcase\"}`|\n|suffix-match | 后缀匹配| 字段值以某个字符串作为后缀，例如过滤URL后缀是\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"suffix-match\",\"Values\":\"/testcase\"}`|\n\n\n**过滤条件支持的Key**\n\n|字段名称|字段含义|支持的操作符|\n|----------|------------|------------|\n|action|防护动作，即该请求最终被处置的动作。|ne、eq|\n|cluster|防护集群。|ne、eq、<br>match-one、<br>all-not-match|\n|defense_scene |防护模块，一条请求可能命中多个防护模块，使用该字段过滤出的请求可能也会同时命中其它模块。|ne、eq|\n|host|http头部的host。|contain、<br>not-contain、ne、eq、match-one、all-not-match、prefix-match、suffix-match|\n|http_cookie|http头部的cookie。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|http_user_agent|http头部获取的User-Agent。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|matched_host|防护对象。|ne、eq、<br>match-one、<br>all-not-match|\n|real_client_ip|请求源IP，操作符后跟随的参数只能是IP地址字符串或者IP地址字符串列表，不支持网段查询。|ne、eq、<br>match-one、<br>all-not-match|\n|remote_country_id|http请求源IP归属国家。|ne、eq、<br>match-one、<br>all-not-match|\n|remote_region_id|http请求源IP省市。|ne、eq、<br>match-one、<br>all-not-match|\n|request_method|http请求方法。|ne、eq、<br>match-one、<br>all-not-match|\n|request_path|http请求URL，不包含query。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|request_traceid |标识请求的唯一ID。|ne、eq、<br>match-one、<br>all-not-match|\n|rule_id|规则ID，一条请求可能命中多条规则，使用该字段过滤出的请求可能也会同时命中其它规则。|ne、eq|"},"DescribeSecurityEventTimeSeriesMetric":{"summary":"查询攻击流量时序数据，攻击请求指的是命中规则并且被判定为有风险的请求。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"258794","abilityTreeNodes":["FEATUREwafVPSU1I"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"要操作的WAF实例ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询WAF实例的ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"Filter","in":"query","style":"json","schema":{"description":"查询过滤条件，多个过滤条件之间是逻辑与的关系。","type":"object","properties":{"DateRange":{"description":"查询时间范围。","type":"object","properties":{"StartDate":{"description":"查询的数据范围不超过过去30天。查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。\n\n\n> 开始时间必须晚于当前时间减去30天。\n> -","type":"integer","format":"int64","required":true,"example":"1713888000\n"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。","type":"integer","format":"int64","required":true,"example":"1713888600\n"}},"required":true},"Conditions":{"description":"过滤条件列表，每一个节点描述一个过滤条件。","type":"array","items":{"description":"单个查询条件配置，查询条件由**字段名称**、**操作符**和**过滤内容**组成。关于查询条件中支持的字段名称以及操作符请参见**请求参数补充说明**。","type":"object","properties":{"Key":{"description":"执行过滤操作的字段名称，该接口支持所有字段。","type":"string","required":false,"example":"matched_host"},"OpValue":{"description":"操作符。","type":"string","required":false,"example":"eq\n"},"Values":{"description":"过滤值。","type":"any","required":false,"example":"test.waf-top\n"}},"required":false},"required":false}},"required":true}},{"name":"Metric","in":"query","schema":{"description":"用于区分返回的数据内容，不同的Metric对应不同的数据内容，该接口支持的Metric如下：\n\n- mitigated_requests，返回被拦截的请求的时序统计数据。\n- monitored_requests，返回只命中观察类型规则的请求的时序统计数据。\n- mitigated_requests_group_by_defense_scene，返回的数据按照模块划分，分别记录了每个模块的命中次数时序统计图。一条请求可能会命中多个模块，因此该metric返回的模块命中次数不能和请求数保持一致。\n- mitigated_requests_group_by_block_defense_scene，返回的数据按照模块划分，分别记录了每个模块的拦截量时序统计图。一条请求只会被一个模块拦截，因此该metric返回的统计计数是可以和请求数保持一致的。","type":"string","required":true,"example":"mitigated_requests"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou\n","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q\n"}}],"responses":{"200":{"schema":{"description":"返回的数据结果，格式样例参见**示例**。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D827FCFE-90A7-4330-9326-*****4C7726\n"},"SecurityEventTimeSeries":{"description":"返回的时间序列数据，支持返回多个值的时间序列数据。","type":"array","items":{"description":"单个时间序列数据，时间序列数据主要包含两个数组，分别对应Timestamps和Values数组，Timestamps数组中包含了固定时间间隔的时间序列，Values数组中包含了每个固定时间间隔内的统计计数，这两个数组包含的节点个数是一样的，两者的数据点是一一对应的关系。","type":"object","properties":{"Metric":{"description":"返回的数据内容，跟入参中的Metric含义保持一致。","type":"string","example":"monitored_requests"},"Timestamps":{"description":"时间序列，每个点代表一个时间范围的起始时间。","type":"array","items":{"description":"每个数据统计点的起始统计时间，使用UNIX时间戳字符串表示。","type":"string","example":"[]"}},"Values":{"description":"数据序列，每个点代表一定时间范围内的统计计数。","type":"array","items":{"description":"当前时间范围的统计计数。","type":"integer","format":"int64","example":"[]\n"}}}}},"TimeSeriesMetaData":{"description":"返回数据的元信息。","type":"object","properties":{"DateRange":{"description":"查询时使用的时间范围。","type":"object","properties":{"StartDate":{"description":"查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的StartDate一致。","type":"integer","format":"int64","example":"1713888000\n"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的EndDate一致。","type":"integer","format":"int64","example":"1713888600\n"}}},"AggregateInterval":{"description":"返回的时间序列数据中，每个数据点的统计时间粒度，比如\"15m\"则表示返回的每个数据点是每15分钟的统计数据。返回数据的时间粒度参见**时间序列数据点时间粒度说明**。","type":"string","example":"1m"},"Units":{"description":"返回的统计数据的单位。","type":"string","example":"requests\n"}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Report.%s","errorMessage":"Invalid parameter:%s."},{"errorCode":"Waf.Report.InternalError","errorMessage":"Server error occurred in report service."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D827FCFE-90A7-4330-9326-*****4C7726\\\\n\\\",\\n  \\\"SecurityEventTimeSeries\\\": [\\n    {\\n      \\\"Metric\\\": \\\"monitored_requests\\\",\\n      \\\"Timestamps\\\": [\\n        \\\"[]\\\"\\n      ],\\n      \\\"Values\\\": [\\n        0\\n      ]\\n    }\\n  ],\\n  \\\"TimeSeriesMetaData\\\": {\\n    \\\"DateRange\\\": {\\n      \\\"StartDate\\\": 1713888000,\\n      \\\"EndDate\\\": 1713888600\\n    },\\n    \\\"AggregateInterval\\\": \\\"1m\\\",\\n    \\\"Units\\\": \\\"requests\\\\n\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询攻击流量时序数据","description":"攻击流量指的是命中规则并且被判定为有风险的请求。如下三种数据不包含：\n\n- 命中“白名单规则”的请求。\n- 命中bot规则，但是规则动作为“回源标记”的请求。\n- 命中规则并且规则动作为“动态令牌”/“滑块”/“严格滑块”/“js验证”，但是用户校验通过并放行的请求。","requestParamsDescription":"**操作符说明**\n\n|操作符|含义|说明|\n|----------|------------|------------|\n|all-not-match|不等于任一值|字段值和数据集合中的任意数据都不相等，例如过滤real_client_ip不等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"all-not-match\",\"Values\":[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]}`|\n|contain|包含|字段值包含某个字符串，例如过滤URL包含\"test\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"contain\",\"Values\":\"test\"}` |\n|eq|等于|字段值等于某个字符串，例如过滤URL等于\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"eq\",\"Values\":\"/testcase\"}`|\n|match-one|等于多值之一|字段值和数据集合中的任意一数据相等，例如过滤real_client_ip等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"match-one\",\"Values\":[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]}`|\n|ne|不等于|字段值不等于某个字符串，例如过滤URL不等于\"/testcase\"的统计数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"ne\",\"Values\":\"/testcase\"}` |\n|not-contain|不包含|字段值不包含某个字符串，例如过滤URL不包含\"test\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"not-contain\",\"Values\":\"test\"}` |\n|prefix-match|前缀匹配 |字段值以某个字符串作为前缀，例如滤URL前缀是\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"prefix-match\",\"Values\":\"/testcase\"}`|\n|suffix-match | 后缀匹配| 字段值以某个字符串作为后缀，例如过滤URL后缀是\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"suffix-match\",\"Values\":\"/testcase\"}`|\n\n\n**过滤条件支持的Key**\n\n|字段名称|字段含义|支持的操作符|\n|----------|------------|------------|\n|action|防护动作，即该请求最终被处置的动作。|ne、eq|\n|cluster|防护集群。|ne、eq、<br>match-one、<br>all-not-match|\n|defense_scene |防护模块，一条请求可能命中多个防护模块，使用该字段过滤出的请求可能也会同时命中其它模块。|ne、eq|\n|host|http头部的host。|contain、<br>not-contain、ne、eq、match-one、all-not-match、prefix-match、suffix-match|\n|http_cookie|http头部的cookie。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|http_user_agent|http头部获取的User-Agent。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|matched_host|防护对象。|ne、eq、<br>match-one、<br>all-not-match|\n|real_client_ip|请求源IP，操作符后跟随的参数只能是IP地址字符串或者IP地址字符串列表，不支持网段查询。|ne、eq、<br>match-one、<br>all-not-match|\n|remote_country_id|http请求源IP归属国家。|ne、eq、<br>match-one、<br>all-not-match|\n|remote_region_id|http请求源IP省市。|ne、eq、<br>match-one、<br>all-not-match|\n|request_method|http请求方法。|ne、eq、<br>match-one、<br>all-not-match|\n|request_path|http请求URL，不包含query。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|request_traceid |标识请求的唯一ID。|ne、eq、<br>match-one、<br>all-not-match|\n|rule_id|规则ID，一条请求可能命中多条规则，使用该字段过滤出的请求可能也会同时命中其它规则。|ne、eq|","responseParamsDescription":"**时间序列数据点时间粒度说明**\n\n查询数据时选择不同的时间范围，返回的数据的统计时间粒度不一样。\n\n- 查询时间范围小于3小时，返回的数据点的统计时间粒度为1m(1分钟）。\n- 查询时间范围大于等于3小时小于6小时，返回的数据点的统计时间粒度为5m(5分钟）。\n- 查询时间范围大于等于6小时小于24小时，返回的数据点的统计时间粒度为15m(15分钟）。\n- 查询时间范围大于等于24小时小于7天，返回的数据点的统计时间粒度为1h(1小时）。\n- 查询时间范围大于等于7天小于30天，返回的数据点的统计时间粒度为1d(1天）。"},"DescribeSecurityEventLogs":{"summary":"查询攻击流量的详情日志列表，每条日志中包含了一条请求命中的详细信息。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"258811","abilityTreeNodes":["FEATUREwafVPSU1I"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"Filter","in":"query","style":"json","schema":{"description":"查询过滤条件，多个过滤条件之间是逻辑与的关系。","type":"object","properties":{"DateRange":{"description":"查询时间范围。","type":"object","properties":{"StartDate":{"description":"查询的数据范围不超过过去30天。查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。\n\n\n> 开始时间必须晚于当前时间减去30天。\n> -","type":"integer","format":"int64","required":true,"example":"1713888000\n"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。","type":"integer","format":"int64","required":true,"example":"1713888600\n"}},"required":true},"Conditions":{"description":"过滤条件列表，每一个节点描述一个过滤条件。","type":"array","items":{"description":"单个查询条件配置，查询条件由**字段名称**、**操作符**和**过滤内容**组成。关于查询条件中支持的字段名称以及操作符请参见**请求参数补充说明**。","type":"object","properties":{"Key":{"description":"执行过滤操作的字段名称，该接口支持所有字段。","type":"string","required":false,"example":"matched_host\n"},"OpValue":{"description":"操作符。","type":"string","required":false,"example":"eq\n"},"Values":{"description":"过滤值。","type":"any","required":false,"example":"test.waf-top"}},"required":false},"required":false}},"required":true}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时每页的行数。最大值为**100**。","type":"integer","format":"int64","required":true,"example":"10"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou\n","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q\n"}}],"responses":{"200":{"schema":{"description":"返回的数据结果，格式样例参见**示例**。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D827FCFE-90A7-4330-9326-******4C7726\n"},"SecurityEventLogs":{"description":"返回的攻击日志详情列表。","type":"array","items":{"description":"每一个节点是一条攻击日志，对应了一条请求。具体信息参见**日志字段说明**和**返回数据示例**。","type":"any","enumValueTitles":{},"example":"参见返回数据示例"}},"SecurityEventMetaData":{"description":"返回数据的元信息。","type":"object","properties":{"DateRange":{"description":"查询时使用的时间范围。","type":"object","properties":{"StartDate":{"description":"查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的StartDate一致。","type":"integer","format":"int64","example":"1713888000\n"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的EndDate一致。","type":"integer","format":"int64","example":"1713888600\n"}}},"Units":{"description":"返回的统计数据的单位。","type":"string","example":"requests"}}},"SecurityEventLogsTotalCount":{"description":"查询到的攻击日志总条数。","type":"integer","format":"int64","example":"1000"}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Report.%s","errorMessage":"Invalid parameter:%s."},{"errorCode":"Waf.Report.InternalError","errorMessage":"Server error occurred in report service."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D827FCFE-90A7-4330-9326-******4C7726\\\\n\\\",\\n  \\\"SecurityEventLogs\\\": [\\n    \\\"参见返回数据示例\\\"\\n  ],\\n  \\\"SecurityEventMetaData\\\": {\\n    \\\"DateRange\\\": {\\n      \\\"StartDate\\\": 1713888000,\\n      \\\"EndDate\\\": 1713888600\\n    },\\n    \\\"Units\\\": \\\"requests\\\"\\n  },\\n  \\\"SecurityEventLogsTotalCount\\\": 1000\\n}\",\"type\":\"json\"}]","title":"查询攻击流量详情日志列表","description":"攻击流量指的是命中规则并且被判定为有风险的请求。如下三种数据不包含：\n\n- 命中“白名单规则”的请求。\n- 命中bot规则，但是规则动作为“回源标记”的请求。\n- 命中规则并且规则动作为“动态令牌”/“滑块”/“严格滑块”/“js验证”，但是用户校验通过并放行的请求。","requestParamsDescription":"**操作符说明**\n\n|操作符|含义|说明|\n|----------|------------|------------|\n|all-not-match|不等于任一值|字段值和数据集合中的任意数据都不相等，例如过滤real_client_ip不等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"all-not-match\",\"Values\":[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]}`|\n|contain|包含|字段值包含某个字符串，例如过滤URL包含\"test\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"contain\",\"Values\":\"test\"}` |\n|eq|等于|字段值等于某个字符串，例如过滤URL等于\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"eq\",\"Values\":\"/testcase\"}`|\n|match-one|等于多值之一|字段值和数据集合中的任意一数据相等，例如过滤real_client_ip等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"match-one\",\"Values\":[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]}`|\n|ne|不等于|字段值不等于某个字符串，例如过滤URL不等于\"/testcase\"的统计数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"ne\",\"Values\":\"/testcase\"}` |\n|not-contain|不包含|字段值不包含某个字符串，例如过滤URL不包含\"test\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"not-contain\",\"Values\":\"test\"}` |\n|prefix-match|前缀匹配 |字段值以某个字符串作为前缀，例如滤URL前缀是\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"prefix-match\",\"Values\":\"/testcase\"}`|\n|suffix-match | 后缀匹配| 字段值以某个字符串作为后缀，例如过滤URL后缀是\"/testcase\"的数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"suffix-match\",\"Values\":\"/testcase\"}`|\n\n\n**过滤条件支持的Key**\n\n|字段名称|字段含义|支持的操作符|\n|----------|------------|------------|\n|action|防护动作，即该请求最终被处置的动作。|ne、eq|\n|cluster|防护集群。|ne、eq、<br>match-one、<br>all-not-match|\n|defense_scene |防护模块，一条请求可能命中多个防护模块，使用该字段过滤出的请求可能也会同时命中其它模块。|ne、eq|\n|host|http头部的host。|contain、<br>not-contain、ne、eq、match-one、all-not-match、prefix-match、suffix-match|\n|http_cookie|http头部的cookie。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|http_user_agent|http头部获取的User-Agent。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|matched_host|防护对象。|ne、eq、<br>match-one、<br>all-not-match|\n|real_client_ip|请求源IP，操作符后跟随的参数只能是IP地址字符串或者IP地址字符串列表，不支持网段查询。|ne、eq、<br>match-one、<br>all-not-match|\n|remote_country_id|http请求源IP归属国家。|ne、eq、<br>match-one、<br>all-not-match|\n|remote_region_id|http请求源IP省市。|ne、eq、<br>match-one、<br>all-not-match|\n|request_method|http请求方法。|ne、eq、<br>match-one、<br>all-not-match|\n|request_path|http请求URL，不包含query。|contain、<br>not-contain、ne、eq、match-one、<br>all-not-match、prefix-match、suffix-match|\n|request_traceid |标识请求的唯一ID。|ne、eq、<br>match-one、<br>all-not-match|\n|rule_id|规则ID，一条请求可能命中多条规则，使用该字段过滤出的请求可能也会同时命中其它规则。|ne、eq|","responseParamsDescription":"**日志字段说明**\n|字段名称|字段含义|取值示例|\n| ----------| ------------| ------------ | \n| dst_port |被请求的目的端口。 |443 |\n| host |客户端请求头部的Host字段，表示被访问的域名（基于您的业务设置，也可能是IP地址）。 |api.example.com |\n| matched_host |客户端请求匹配到的WAF防护对象（云产品实例、域名）。| *.aliyun***.com|\n| plugin_matched_detail_waf_group |当前请求命中的Web核心防护详细信息，记录了数据命中规则的原因。 | |\n| plugin_matched_block_rule_detail |记录请求命中的非观察模式规则的详细信息，包含了规则id/动作/防护模块。 | |\n| plugin_matched_test_rule_detail |记录请求命中的观察模式规则的详细信息，包含了规则id/动作/防护模块。 | |\n| querystring |客户端请求中的查询字符串，具体指被请求URL中问号（?）后面的部分。 |title=tm_content%3Darticle&pid=123 |\n| remote_region_id | IP地址归属的省ID。|410000 |\n| remote_country_id |源IP所属国家ID。 |CN |\n| remote_isp_id |源IP所属IDC机房。 |100098 |\n| request_method | 客户端请求的方法。 |GET |\n| request_traceid |WAF为客户端请求生成的唯一标识。 |7837b11715410386943437009***** |\n| real_client_ip |WAF对客户端请求进行分析后，判定发起该请求的真实客户端IP，便于您在业务中直接使用。 |192.0.XX.XX |\n| request_path |被请求的相对路径，具体指被请求URL中域名后面且问号（?）前面的部分（不包含查询字符串）。 |/news/search.php |\n| server_protocol |客户端和WAF之间的协议。 |HTTP/1.1 |\n| timestamp |请求被引擎处理的时间，使用Unix时间戳。 | 1742197109 |\n\n**返回数据示例**\n\n```\n{\n    \"SecurityEventLogsTotalCount\": 1,\n    \"SecurityEventLogs\": [\n        {\n            \"remote_region_id\": \"110000\",\n            \"plugin_matched_detail_waf_group\": \"{\\\"uri\\\":{\\\"hit\\\":[\\\"/.git/\\\"],\\\"raw\\\":\\\"/.git/\\\"}}\",\n            \"plugin_matched_block_rule_detail\": \"[{\\\"RuleId\\\":\\\"12***5\\\",\\\"Action\\\":\\\"block\\\",\\\"DefenseScene\\\":\\\"waf_base\\\",\\\"RuleType\\\":\\\"other\\\"}]\",\n            \"querystring\": \"-\",\n            \"matched_host\": \"i-8vbaazr2tboqsq******-443-ecs\",\n            \"remote_country_id\": \"CN\",\n            \"remote_isp_id\": \"100098\",\n            \"request_method\": \"GET\",\n            \"plugin_matched_test_rule_detail\": \"[]\",\n            \"request_traceid\": \"0b6261221742197109309484******\",\n            \"dst_port\": \"0\",\n            \"host\": \"39.99.***.109\",\n            \"real_client_ip\": \"47.92.***.14\",\n            \"request_path\": \"/.git/HEAD\",\n            \"server_protocol\": \"HTTP/1.1\",\n            \"timestamp\": \"1742197109\"\n        }\n    ],\n    \"SecurityEventMetaData\": {\n        \"DateRange\": {\n            \"StartDate\": 1742196600,\n            \"EndDate\": 1742197500\n        }\n    }\n}\n```"},"DescribeNetworkFlowTopNMetric":{"summary":"查询所有流量按照不同维度聚合统计并进行排序后的top统计数据，包含恶意请求和正常的业务请求。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"258808","abilityTreeNodes":["FEATUREwafVPSU1I"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****\n"}},{"name":"Filter","in":"query","style":"json","schema":{"description":"查询过滤条件，多个过滤条件之间是逻辑与的关系。","type":"object","properties":{"DateRange":{"description":"查询时间范围。","type":"object","properties":{"StartDate":{"description":"查询的数据范围不超过过去30天。查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。\n> \n> 开始时间必须晚于当前时间减去30天。","type":"integer","format":"int64","required":true,"example":"1713888000\n"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。","type":"integer","format":"int64","required":true,"example":"1713888600\n"}},"required":true},"Conditions":{"description":"过滤条件列表，每一个节点描述一个过滤条件。","type":"array","items":{"description":"单个查询条件配置，查询条件由**字段名称**、**操作符**和**过滤内容**组成。关于查询条件中支持的字段名称以及操作符请参见**请求参数补充说明**。","type":"object","properties":{"Key":{"description":"执行过滤操作的字段名称，当前接口的Key只支持如下两个字段：\n\n- matched_host\n- cluster","type":"string","required":false,"example":"matched_host\n"},"OpValue":{"description":"操作符。","type":"string","required":false,"example":"eq\n"},"Values":{"description":"过滤值。","type":"any","required":false,"example":"test.waf-top\n"}},"required":false},"required":false}},"required":true}},{"name":"Limit","in":"query","schema":{"description":"控制统计数据按照降序排序后返回数据条数，最大值为10。","type":"integer","format":"int64","required":true,"example":"10"}},{"name":"Metric","in":"query","schema":{"description":"用于区分返回的数据内容，不同的Metric对应不同的数据内容，该接口支持的Metric如下：\n\n- real_client_ip，当前用户所有经过waf的请求，按照请求源IP聚合统计并降序排序后，返回前N条数据。\n- http_user_agent，当前用户所有经过waf的请求，按照请求的user-agent聚合统计并降序排序后，返回前N条数据。\n- request_path，当前用户所有经过waf的请求，按照请求的URL聚合统计并降序排序后，返回前N条数据。\n- matched_host_by_total_requests，返回当前用户请求数最大的N个防护对象以及对应的请求数。\n- matched_host_by_qps，返回当前用户QPS最大的N个防护对象以及对应的QPS数据\n- matched_host_by_status，使用该Metric时需要在Filter的Conditions字段指定status，waf返回的HTTP响应码等于Conditions中指定的status的数据按照防护对象聚合统计并排序后，返回前N条数据。指定status的格式如下：<br>\n{\"Key\":\"status\",\"OpValue\":\"eq\",\"Values\":\"200\"}\n- matched_host_by_upstream_status，使用该Metric时需要在Filter的Conditions字段指定upstream_status，源站返回的HTTP响应码等于Conditions中指定的upstream_status的数据按照防护对象聚合统计并排序后，返回前N条数据。指定upstream_status的格式如下：<br>\n{\"Key\":\"upstream_status\",\"OpValue\":\"eq\",\"Values\":\"200\"}","type":"string","required":true,"example":"matched_host_by_upstream_status"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou\n","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q\n"}}],"responses":{"200":{"schema":{"description":"返回的数据结果，格式样例参见**示例**。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D827FCFE-90A7-4330-9326-******4C7726"},"NetworkFlowTopNValues":{"description":"返回的top统计数据数组。","type":"array","items":{"description":"每一个点对应一条top统计数据。","type":"object","properties":{"Name":{"description":"某个字段的值，根据查询的Metric不同，代表不同的含义。","type":"string","example":"127.0.0.1"},"Attribute":{"description":"用于返回额外的信息，比如返回某个IP所属的国家和省市信息。","type":"string","example":" CN"},"Value":{"description":"用于top排序的统计计数。","type":"integer","format":"int64","example":"1123"}}}},"TopNMetaData":{"description":"返回数据的元信息。","type":"object","properties":{"DateRange":{"description":"查询时使用的时间范围。","type":"object","properties":{"StartDate":{"description":"查询数据时使用的开始时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的StartDate一致。","type":"integer","format":"int64","example":"1713888000\n"},"EndDate":{"description":"查询数据时使用的结束时间，使用UNIX时间戳表示，单位：秒。该值和入参数重的EndDate一致。","type":"integer","format":"int64","example":"1713888600\n"}}},"Units":{"description":"返回的统计数据的单位。","type":"string","example":"requests\n"}}}}}}},"errorCodes":{"400":[{"errorCode":"Waf.Report.%s","errorMessage":"Invalid parameter:%s."},{"errorCode":"Waf.Report.InternalError","errorMessage":"Server error occurred in report service."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D827FCFE-90A7-4330-9326-******4C7726\\\",\\n  \\\"NetworkFlowTopNValues\\\": [\\n    {\\n      \\\"Name\\\": \\\"127.0.0.1\\\",\\n      \\\"Attribute\\\": \\\" CN\\\",\\n      \\\"Value\\\": 1123\\n    }\\n  ],\\n  \\\"TopNMetaData\\\": {\\n    \\\"DateRange\\\": {\\n      \\\"StartDate\\\": 1713888000,\\n      \\\"EndDate\\\": 1713888600\\n    },\\n    \\\"Units\\\": \\\"requests\\\\n\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询网络流量top统计数据","requestParamsDescription":"**操作符说明**\n\n|操作符|含义|说明|\n|----------|------------|------------|\n|all-not-match|不等于任一值|字段值和数据集合中的任意数据都不相等，例如过滤real_client_ip不等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"all-not-match\",\"Values\":[\"1.XX.XX.1\",\"2.XX.XX.2\",\"3.XX.XX.3\"]}`|\n|eq|等于|字段值等于某个字符串，例如设置过滤条件为URL等于\"/testcase\"的统计数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"eq\",\"Values\":\"/testcase\"}`|\n|match-one|等于多值之一|字段值和数据集合中的任意一数据相等，例如过滤real_client_ip等于集合中任一值：<br>`{\"Key\":\"real_client_ip\",\"OpValue\":\"match-one\",\"Values\":[\"1.XX.XX.1\",\"2.XX.XX.2\",\"3.XX.XX.3\"]}`|\n|ne|不等于|字段值不等于某个字符串，例如设置过滤条件为URL不等于\"/testcase\"的统计数据：<br>`{\"Key\":\"request_path\",\"OpValue\":\"ne\",\"Values\":\"/testcase\"}` |\n\n\n\n**过滤条件支持的Key**\n\n|字段名称|字段含义|支持的操作符|\n|----------|------------|------------|\n|cluster|防护集群。|ne、eq、<br>match-one、<br>all-not-match|\n|matched_host|防护对象。|ne、eq、<br>match-one、<br>all-not-match|"},"DescribeFlowChart":{"summary":"查看流量统计信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"Interval","in":"query","schema":{"description":"时间间隔，单位：秒。取值为60的整数倍","type":"string","required":true,"example":"300"}},{"name":"Resource","in":"query","schema":{"description":"要查询的防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"BFA71416-670E-585D-AAE6-E7BBEE248FAB"},"FlowChart":{"description":"流量统计信息。","type":"array","items":{"description":"流量统计信息。","type":"object","properties":{"MaxPv":{"description":"请求峰值。","type":"integer","format":"int64","example":"2932"},"AntibotBlockSum":{"description":"Bot管理规则的拦截量。","type":"integer","format":"int64","example":"0"},"CcCustomReportsSum":{"description":"自定义CC防护规则的观察命中量。","type":"integer","format":"int64","example":"0"},"RatelimitBlockSum":{"description":"洪峰限流规则的拦截量。","type":"integer","format":"int64","example":"0"},"BlacklistBlockSum":{"description":"IP黑名单拦截量。","type":"string","example":"0"},"CcSystemBlocksSum":{"description":"系统CC防护规则的拦截量。","type":"integer","format":"int64","example":"0"},"BlacklistReportsSum":{"description":"IP黑名单的观察命中量。","type":"integer","format":"int64","example":"0"},"Index":{"description":"时间序号，按时间先后顺序排序。","type":"integer","format":"int64","example":"10"},"RobotCount":{"description":"机器流量总请求量。","type":"integer","format":"int64","example":"1110"},"Count":{"description":"总请求次数。","type":"integer","format":"int64","example":"2932"},"RegionBlockReportsSum":{"description":"区域封禁规则的观察命中量。","type":"integer","format":"int64","example":"0"},"AntiScanBlockSum":{"description":"扫描防护规则的拦截量。","type":"integer","format":"int64","example":"0"},"CcSystemReportsSum":{"description":"系统CC防护规则的观察命中量。","type":"integer","format":"int64","example":"0"},"AntibotReportSum":{"description":"Bot管理规则的观察命中量。","type":"string","example":"0"},"InBytes":{"description":"入WAF总请求量。","type":"integer","format":"int64","example":"121645464"},"WafBlockSum":{"description":"基础防护规则的拦截量。","type":"integer","format":"int64","example":"0"},"CcCustomBlockSum":{"description":"自定义CC防护规则的拦截量。","type":"integer","format":"int64","example":"0"},"AntiscanReportsSum":{"description":"扫描防护规则的观察命中量。","type":"integer","format":"int64","example":"0"},"AclCustomBlockSum":{"description":"自定义ACL防护规则的拦截量。","type":"integer","format":"int64","example":"0"},"RatelimitReportSum":{"description":"洪峰限流规则的观察命中量。","type":"integer","format":"int64","example":"0"},"WafReportSum":{"description":"基础防护规则的观察命中量。","type":"string","example":"0"},"AclCustomReportsSum":{"description":"自定义ACL防护规则的观察命中量。","type":"integer","format":"int64","example":"0"},"OutBytes":{"description":"出WAF总请求量。","type":"integer","format":"int64","example":"1200540464"},"RegionBlockBlocksSum":{"description":"区域封禁规则的拦截量。","type":"integer","format":"int64","example":"0"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"BFA71416-670E-585D-AAE6-E7BBEE248FAB\\\",\\n  \\\"FlowChart\\\": [\\n    {\\n      \\\"MaxPv\\\": 2932,\\n      \\\"AntibotBlockSum\\\": 0,\\n      \\\"CcCustomReportsSum\\\": 0,\\n      \\\"RatelimitBlockSum\\\": 0,\\n      \\\"BlacklistBlockSum\\\": \\\"0\\\",\\n      \\\"CcSystemBlocksSum\\\": 0,\\n      \\\"BlacklistReportsSum\\\": 0,\\n      \\\"Index\\\": 10,\\n      \\\"RobotCount\\\": 1110,\\n      \\\"Count\\\": 2932,\\n      \\\"RegionBlockReportsSum\\\": 0,\\n      \\\"AntiScanBlockSum\\\": 0,\\n      \\\"CcSystemReportsSum\\\": 0,\\n      \\\"AntibotReportSum\\\": \\\"0\\\",\\n      \\\"InBytes\\\": 121645464,\\n      \\\"WafBlockSum\\\": 0,\\n      \\\"CcCustomBlockSum\\\": 0,\\n      \\\"AntiscanReportsSum\\\": 0,\\n      \\\"AclCustomBlockSum\\\": 0,\\n      \\\"RatelimitReportSum\\\": 0,\\n      \\\"WafReportSum\\\": \\\"0\\\",\\n      \\\"AclCustomReportsSum\\\": 0,\\n      \\\"OutBytes\\\": 1200540464,\\n      \\\"RegionBlockBlocksSum\\\": 0\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看流量统计信息"},"DescribePeakTrend":{"summary":"查看请求QPS的变化趋势。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386340"}},{"name":"Interval","in":"query","schema":{"description":"时间间隔，单位：秒。取值为60的整数倍。","type":"string","required":true,"example":"300"}},{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"9D11AC3A-A10C-56E7-A342-E87EC892BAE2"},"FlowChart":{"description":"WAF的QPS统计信息。","type":"array","items":{"description":"WAF的QPS统计信息。","type":"object","properties":{"AntiScanSum":{"description":"扫描防护数量，包括观察命中量和拦截量。","type":"integer","format":"int64","example":"0"},"AclSum":{"description":"ACL防护数量，包括观察命中量和拦截量。","type":"integer","format":"int64","example":"0"},"WafSum":{"description":"正则防护数量，包括观察命中量和拦截量。","type":"integer","format":"int64","example":"0"},"CcSum":{"description":"CC防护数量，包括观察命中量和拦截量。","type":"integer","format":"int64","example":"0"},"Index":{"description":"时间序号，按时间先后顺序排序。","type":"integer","format":"int64","example":"10"},"Count":{"description":"总请求量。","type":"integer","format":"int64","example":"2622"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"9D11AC3A-A10C-56E7-A342-E87EC892BAE2\\\",\\n  \\\"FlowChart\\\": [\\n    {\\n      \\\"AntiScanSum\\\": 0,\\n      \\\"AclSum\\\": 0,\\n      \\\"WafSum\\\": 0,\\n      \\\"CcSum\\\": 0,\\n      \\\"Index\\\": 10,\\n      \\\"Count\\\": 2622\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看QPS变化趋势"},"DescribeResponseCodeTrendGraph":{"summary":"查看WAF返回给客户端、源站返回给WAF的5XX、405、499、302、444等异常响应码的数量变化趋势。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"106569","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"Interval","in":"query","schema":{"description":"时间间隔，单位：秒。取值为60的整数倍。","type":"string","required":true,"example":"300"}},{"name":"Type","in":"query","schema":{"description":"响应码类型。取值：\n- **waf**：表示WAF返回给客户端的响应码。\n- **upstream**：表示源站返回给WAF的响应码","type":"string","required":true,"example":"waf"}},{"name":"Resource","in":"query","schema":{"description":"要查询的防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"返回结果","type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"7D46493E-84DD-58CE-80A7-8643F2B09ECC"},"ResponseCodes":{"description":"响应码统计信息。","type":"array","items":{"description":"响应码统计信息。","type":"object","properties":{"5xxPv":{"description":"响应码5xx的统计数量。","type":"integer","format":"int64","example":"2932"},"Index":{"description":"时间序号，按时间先后顺序排序。","type":"integer","format":"int64","example":"10"},"405Pv":{"description":"响应码405的统计数量。","type":"integer","format":"int64","example":"121645464"},"499Pv":{"description":"响应码499的统计数量。","type":"integer","format":"int64","example":"0"},"302Pv":{"description":"响应码302的统计数量。","type":"integer","format":"int64","example":"0"},"444Pv":{"description":"响应码444的统计数量。","type":"integer","format":"int64","example":"0"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7D46493E-84DD-58CE-80A7-8643F2B09ECC\\\",\\n  \\\"ResponseCodes\\\": [\\n    {\\n      \\\"5xxPv\\\": 2932,\\n      \\\"Index\\\": 10,\\n      \\\"405Pv\\\": 121645464,\\n      \\\"499Pv\\\": 0,\\n      \\\"302Pv\\\": 0,\\n      \\\"444Pv\\\": 0\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看响应码的趋势图"},"DescribeVisitUas":{"summary":"查看发起请求次数最多的前10个User-Agent。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"104799","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2847CE98-AFAE-5A64-B80E-60461717F9DE"},"Uas":{"description":"UA流量访问统计Top10。","type":"array","items":{"description":"UA流量访问统计情况。","type":"object","properties":{"Count":{"description":"UA总请求量。","type":"integer","format":"int64","example":"698455"},"Ua":{"description":"UA名称。","type":"string","example":"chrome"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2847CE98-AFAE-5A64-B80E-60461717F9DE\\\",\\n  \\\"Uas\\\": [\\n    {\\n      \\\"Count\\\": 698455,\\n      \\\"Ua\\\": \\\"chrome\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看流量访问Top 10的UA"},"DescribeVisitTopIp":{"summary":"查看发起请求次数最多的前10个IP。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5D2B8DAE-A761-58CB-A68D-74989E4831DA"},"TopIp":{"description":"IP的流量访问统计Top10。","type":"array","items":{"description":"IP的流量访问统计情况。","type":"object","properties":{"Area":{"description":"归属地编号。","type":"string","example":"310000"},"Ip":{"description":"访问IP地址。","type":"string","example":"1.1.XX.XX"},"Isp":{"description":"服务提供商。","type":"string","example":"AAA"},"Count":{"description":"访问IP总请求量。","type":"integer","format":"int64","example":"2622"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5D2B8DAE-A761-58CB-A68D-74989E4831DA\\\",\\n  \\\"TopIp\\\": [\\n    {\\n      \\\"Area\\\": \\\"310000\\\",\\n      \\\"Ip\\\": \\\"1.1.XX.XX\\\",\\n      \\\"Isp\\\": \\\"AAA\\\",\\n      \\\"Count\\\": 2622\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看流量访问Top 10的IP"},"DescribeRuleHitsTopResource":{"summary":"查看触发防护规则次数最多的前10个防护对象。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386340"}},{"name":"RuleType","in":"query","schema":{"description":"防护对象命中的规则类型。默认不设置该参数，表示显示全部规则。\n\n- **blacklist**: 表示命中IP黑名单。\n\n- **custom**：表示命中自定义规则。\n\n- **antiscan**: 表示命中扫描防护规则。\n\n- **cc_system**:  表示命中CC防护规则。\n\n- **region_block**: 表示区域封禁。\n","type":"string","required":false,"example":"blacklist"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"ADA11BC7-AA95-5C31-9095-5802C02ED1DC"},"RuleHitsTopResource":{"description":"防护对象的规则命中情况Top10。","type":"array","items":{"description":"防护对象的规则命中情况。","type":"object","properties":{"Resource":{"description":"防护对象。","type":"string","example":"www.aliyundoc.com"},"Count":{"description":"命中规则请求数量。","type":"integer","format":"int64","example":"14219"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"ADA11BC7-AA95-5C31-9095-5802C02ED1DC\\\",\\n  \\\"RuleHitsTopResource\\\": [\\n    {\\n      \\\"Resource\\\": \\\"www.aliyundoc.com\\\",\\n      \\\"Count\\\": 14219\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看命中防护规则的Top 10 防护对象"},"DescribeRuleHitsTopRuleId":{"summary":"查看触发防护规则次数最多的前10个规则ID。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"RuleType","in":"query","schema":{"description":"防护对象命中的规则类型。默认不设置该参数，表示显示全部规则。\n\n- **blacklist**: 表示命中IP黑名单。\n\n- **custom**：表示命中自定义规则。\n\n- **antiscan**: 表示命中扫描防护规则。\n\n- **cc_system**:  表示命中CC防护规则。\n\n- **region_block**: 表示区域封禁。","type":"string","required":false,"example":"blacklist"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"IsGroupResource","in":"query","schema":{"description":"规则命中次数是否聚合防护对象。\n\n- **true（默认）**：表示聚合防护对象的规则命中次数，即只按照单个防护规则命中情况统计次数，当前情况下发返回参数中Resource值为空。\n- **false**：表示不聚合防护对象的规则命中次数，即按照防护对象和防护规则命中情况统计次数。","type":"string","required":false,"example":"true","default":"true"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F6334274-8870-5D2F-A1AD-D6EF885AC1ED"},"RuleHitsTopRuleId":{"description":"规则ID命中Top10。","type":"array","items":{"description":"规则ID命中情况。","type":"object","properties":{"RuleId":{"description":"规则ID。","type":"string","example":"5465465"},"Resource":{"description":"防护对象。当请求参数中IsGroupResource为false时会返回规则命中的防护对象。","type":"string","example":"www.aliyundoc.com"},"Count":{"description":"规则命中请求量。","type":"integer","format":"int64","example":"181174784"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F6334274-8870-5D2F-A1AD-D6EF885AC1ED\\\",\\n  \\\"RuleHitsTopRuleId\\\": [\\n    {\\n      \\\"RuleId\\\": \\\"5465465\\\",\\n      \\\"Resource\\\": \\\"www.aliyundoc.com\\\",\\n      \\\"Count\\\": 181174784\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看命中防护规则的Top 10规则ID"},"DescribeRuleHitsTopTuleType":{"summary":"查看触发防护规则次数最多的前10个防护类型。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看您当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"45E377CE-0B04-578E-B653-EEA63CFE****"},"RuleHitsTopTuleType":{"description":"防护类型的规则命中Top10。","type":"array","items":{"description":"防护类型的规则命中情况。","type":"object","properties":{"RuleType":{"description":"防护对象命中的规则类型。默认不返回该参数，表示显示全部规则。\n\n- **waf**: 表示基础防护规则。\n\n- **blacklist**: 表示命中IP黑名单。\n\n- **custom**：表示命中自定义规则。\n\n- **antiscan**: 表示命中扫描防护规则。\n\n- **cc_system**:  表示命中CC防护规则。\n\n- **region_block**: 表示区域封禁。\n\n- **scene**: 表示Bot管理。\n\n- **dlp**: 表示信息泄露防护。","type":"string","example":"blacklist"},"Count":{"description":"规则命中请求量。","type":"integer","format":"int64","example":"698455"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"45E377CE-0B04-578E-B653-EEA63CFE****\\\",\\n  \\\"RuleHitsTopTuleType\\\": [\\n    {\\n      \\\"RuleType\\\": \\\"blacklist\\\",\\n      \\\"Count\\\": 698455\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看命中防护规则的Top 10防护类型"},"DescribeRuleHitsTopUrl":{"summary":"查看触发防护规则次数最多的前10个URL。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"105175","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":true,"example":"www.aliyundoc.com"}},{"name":"RuleType","in":"query","schema":{"description":"防护对象命中的规则类型。默认不设置该参数，表示显示全部规则。\n\n- **blacklist**: 表示命中IP黑名单。\n\n- **custom**：表示命中自定义规则。\n\n- **antiscan**: 表示命中扫描防护规则。\n\n- **cc_system**:  表示命中CC防护规则。\n\n- **region_block**: 表示区域封禁。\n","type":"string","required":false,"example":"blacklist"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看您当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"3D8AF43B-08EB-51CE-B33A-93AA****9B0C"},"RuleHitsTopUrl":{"description":"URL的规则命中Top10。","type":"array","items":{"description":"URL的规则命中情况。","type":"object","properties":{"Count":{"description":"规则命中请求量。","type":"integer","format":"int64","example":"21862"},"Url":{"description":"请求URL。\n> 返回值使用base64格式编码。","type":"string","example":"d3d3LmFsaXl1bmRvYy5jb20vcGF0aDM="}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"3D8AF43B-08EB-51CE-B33A-93AA****9B0C\\\",\\n  \\\"RuleHitsTopUrl\\\": [\\n    {\\n      \\\"Count\\\": 21862,\\n      \\\"Url\\\": \\\"d3d3LmFsaXl1bmRvYy5jb20vcGF0aDM=\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看命中防护规则的Top 10 URL"},"DescribeRuleHitsTopClientIp":{"summary":"查看发动攻击次数最多的前10个攻击源IP。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"RuleType","in":"query","schema":{"description":"防护对象命中的规则类型。默认不设置该参数，表示显示全部规则。\n\n- **blacklist**: 表示命中IP黑名单。\n\n- **custom**：表示命中自定义规则。\n\n- **antiscan**: 表示命中扫描防护规则。\n\n- **cc_system**:  表示命中CC防护规则。\n\n- **region_block**: 表示区域封禁。\n","type":"string","required":false,"example":"blacklist"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"9F0F9AD6-62E2-50BB-A3E5-30FFB9410262"},"RuleHitsTopClientIp":{"description":"攻击源IP的攻击情况Top10。","type":"array","items":{"description":"攻击源IP的攻击情况。","type":"object","properties":{"Count":{"description":"攻击请求量。","type":"integer","format":"int64","example":"531"},"ClientIp":{"description":"业务的客户端IP地址。","type":"string","example":"3.3.XX.XX"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"9F0F9AD6-62E2-50BB-A3E5-30FFB9410262\\\",\\n  \\\"RuleHitsTopClientIp\\\": [\\n    {\\n      \\\"Count\\\": 531,\\n      \\\"ClientIp\\\": \\\"3.3.XX.XX\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看发动攻击次数Top 10的攻击源IP"},"DescribeFlowTopResource":{"summary":"查看请求量最高的前10个防护对象。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386340"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"8F0E0B9A-B518-5C6D-BEFC-A373DDE4F652"},"RuleHitsTopResource":{"description":"防护对象的流量访问统计Top10。","type":"array","items":{"description":"防护对象的流量访问统计情况。","type":"object","properties":{"Resource":{"description":"防护对象。","type":"string","example":"www.aliyundoc.com"},"Count":{"description":"指定时间内，防护对象的总请求量。","type":"integer","format":"int64","example":"181174784"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"8F0E0B9A-B518-5C6D-BEFC-A373DDE4F652\\\",\\n  \\\"RuleHitsTopResource\\\": [\\n    {\\n      \\\"Resource\\\": \\\"www.aliyundoc.com\\\",\\n      \\\"Count\\\": 181174784\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看流量访问Top 10的防护对象"},"DescribeRuleHitsTopUa":{"summary":"查看发动攻击次数最多的前10个User-Agent。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386280"}},{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"8E5C7ED7-503A-5986-A005-36F2511EB89F"},"RuleHitsTopUa":{"description":"攻击UA的攻击情况Top10。","type":"array","items":{"description":"攻击UA的攻击情况。","type":"object","properties":{"Count":{"description":"攻击请求量。","type":"integer","format":"int64","example":"531"},"Ua":{"description":"UA名称。","type":"string","example":"android"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"8E5C7ED7-503A-5986-A005-36F2511EB89F\\\",\\n  \\\"RuleHitsTopUa\\\": [\\n    {\\n      \\\"Count\\\": 531,\\n      \\\"Ua\\\": \\\"android\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看发动攻击次数Top 10的攻击UA"},"DescribeFlowTopUrl":{"summary":"查看发起请求次数最多的前10个URL。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafVPSU1I"]},"parameters":[{"name":"StartTimestamp","in":"query","schema":{"description":"查询的开始时间，单位：秒。","type":"string","required":true,"example":"1665331200"}},{"name":"EndTimestamp","in":"query","schema":{"description":"查询的结束时间，单位：秒。如果不设置该参数，结束时间为当前的查询时间。","type":"string","required":false,"example":"1665386340"}},{"name":"Resource","in":"query","schema":{"description":"防护对象。","type":"string","required":false,"example":"www.aliyundoc.com"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n>  您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。\n","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"520D4E4C-B8EC-5602-ACB6-4D378ACBA28D"},"RuleHitsTopUrl":{"description":"URL的流量访问统计Top10。","type":"array","items":{"description":"URL的流量访问统计情况。","type":"object","properties":{"Count":{"description":"URL的总请求量。","type":"integer","format":"int64","example":"181174784"},"Url":{"description":"请求的URL。","type":"string","example":"www.aliyundoc.com/path1"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"520D4E4C-B8EC-5602-ACB6-4D378ACBA28D\\\",\\n  \\\"RuleHitsTopUrl\\\": [\\n    {\\n      \\\"Count\\\": 181174784,\\n      \\\"Url\\\": \\\"www.aliyundoc.com/path1\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查看流量访问Top 10的URL"},"DescribeUserLogFieldConfig":{"summary":"查询用户默认日志字段配置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"111385","abilityTreeNodes":["FEATUREwafJYSA2F"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-0*****"}},{"name":"DeliveryType","in":"query","schema":{"description":"投递类型。取值：\n\n- **sls**： 阿里云日志服务。","type":"string","required":false,"example":"sls","default":"sls"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek24******"}}],"responses":{"200":{"schema":{"type":"object","properties":{"AddList":{"description":"除默认日志字段外，额外配置的日志字段列表，使用\"a,b,c,……\"格式表示。","type":"string","example":"acl_action,acl_rule_id"},"RequestId":{"description":"本次请求的ID。","type":"string","example":"653778B4-4D47-5223-855B-4E******"},"LogDeliveryStrategy":{"description":"日志投递策略，支持多个策略。以一系列参数构造的 JSON 数组格式转化成字符串。\n\n> 详细参数信息，请参见[ModifyUserLogFieldConfig](~~ModifyUserLogFieldConfig~~)接口的**日志投递策略**（**LogDeliveryStrategy**）参数描述。","type":"string","example":"[{\\\"logType\\\":\\\"blockLog\\\",\\\"rate\\\":100},{\\\"logType\\\":\\\"normalRequestLog\\\",\\\"rate\\\":100},{\\\"logType\\\":\\\"checkLog\\\",\\\"rate\\\":100}]"},"ExtendConfig":{"description":"日志投递扩展配置。以一系列参数构造的 JSON 格式转化成字符串。\n> 详细参数信息，请参见[ModifyUserLogFieldConfig](~~ModifyUserLogFieldConfig~~)接口的**日志投递扩展配置**（**ExtendConfig**）参数描述。","type":"string","example":"{\\\"request_header\\\":\\\"Ali-Cdn-Real-Ip\\\"}"},"ConfigStatus":{"description":"日志字段配置状态。取值：\n- **initial**：表示配置处于初始化状态。\n- **updating**：表示配置更新中。\n- **failed_finished**：表示配置失败。\n- **success_finished**：表示配置成功。","type":"string","example":"success_finished"},"DelList":{"description":"相对于默认日志字段，少配置的日志字段列表，使用\"a,b,c,……\"格式表示。","type":"string","example":"waf_rule_id,waf_rule_type"},"FieldList":{"description":"投递的日志字段列表，使用\"a,b,c,……\"格式表示。","type":"string","example":"account,acl_action,acl_rule_id,acl_rule_type"},"DeliveryType":{"description":"投递类型。取值：\n\n- **sls**： 阿里云日志服务。","type":"string","example":"sls"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"AddList\\\": \\\"acl_action,acl_rule_id\\\",\\n  \\\"RequestId\\\": \\\"653778B4-4D47-5223-855B-4E******\\\",\\n  \\\"LogType\\\": 0,\\n  \\\"LogDeliveryStrategy\\\": \\\"[{\\\\\\\\\\\\\\\"logType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"blockLog\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rate\\\\\\\\\\\\\\\":100},{\\\\\\\\\\\\\\\"logType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"normalRequestLog\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rate\\\\\\\\\\\\\\\":100},{\\\\\\\\\\\\\\\"logType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"checkLog\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"rate\\\\\\\\\\\\\\\":100}]\\\",\\n  \\\"ExtendConfig\\\": \\\"{\\\\\\\\\\\\\\\"request_header\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"Ali-Cdn-Real-Ip\\\\\\\\\\\\\\\"}\\\",\\n  \\\"ConfigStatus\\\": \\\"success_finished\\\",\\n  \\\"DelList\\\": \\\"waf_rule_id,waf_rule_type\\\",\\n  \\\"FieldList\\\": \\\"account,acl_action,acl_rule_id,acl_rule_type\\\",\\n  \\\"DeliveryType\\\": \\\"sls\\\"\\n}\",\"type\":\"json\"}]","title":"查询用户默认日志字段配置"},"ModifyUserLogFieldConfig":{"summary":"修改用户日志服务的默认字段配置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"111386","abilityTreeNodes":["FEATUREwafJYSA2F"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-fou****"}},{"name":"FieldList","in":"query","schema":{"description":"需投递的日志字段列表。使用\"a,b,c,……\"格式表示。\n\n>   - 需要包含所有必选日志字段, 您可以通过调用[DescribeCommonLogFields](~~DescribeCommonLogFields~~)接口查看WAF日志服务支持的日志字段信息。 \n> - 当日志字段中包含**request_header**时，需要使用**投递扩展配置**（**ExtendConfig**）参数指定需要投递的请求头。","type":"string","required":true,"example":"account,acl_action,acl_rule_id,acl_rule_type,acl_test,antiscan_action,antiscan_rule_id,antiscan_rule_type,antiscan_test,body_bytes_sent,bypass_matched_ids"}},{"name":"ExtendConfig","in":"query","schema":{"description":"日志投递扩展配置。以一系列参数构造的 JSON 格式转化成字符串。\n> 详细信息，请参见**日志投递扩展配置**参数描述。","type":"string","required":false,"example":"{\\\"request_header\\\":\\\"App-Id,channelCode\\\"}"}},{"name":"DeliveryType","in":"query","schema":{"description":"投递类型。取值：\n\n- **sls**： 阿里云日志服务。","type":"string","required":false,"example":"sls","default":"sls"}},{"name":"LogDeliveryStrategy","in":"query","schema":{"description":"日志投递策略，支持多个策略。以一系列参数构造的 JSON 数组格式转化成字符串。\n\n> 详细信息，请参见**日志投递策略**参数描述。","type":"string","required":false,"example":"[{\\\"logType\\\":\\\"blockLog\\\",\\\"rate\\\":100},{\\\"logType\\\":\\\"normalRequestLog\\\",\\\"rate\\\":100},{\\\"logType\\\":\\\"checkLog\\\",\\\"rate\\\":100}]"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"E2D63742-9BAA-*****"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"E2D63742-9BAA-*****\\\"\\n}\",\"type\":\"json\"}]","title":"修改用户默认日志字段配置","requestParamsDescription":"# 日志投递策略（LogDeliveryStrategy）参数描述\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n|logType | String|必选|blockLog|日志类型。取值：<br> - **blockLog**：表示拦截日志。 <br> - **normalRequestLog**：表示正常请求日志。 <br> - **checkLog**：表示检测日志。|\n|rate | Integer|必选|90|日志采样比。取值范围为[1-100]。\n\n# 日志投递扩展配置（ExtendConfig）参数描述\n#### 参数描述\n\n|名称|类型|是否必选|示例值|描述|\n| ----------| ------------| ------------ | ---------- | -----------|\n| request_header | String|必选|blockLog|日志投递的请求头。最多支持5个，使用\"a,b,c,……\"格式表示。><notice>当投递日志字段中包含request_header时，该配置必须填写，否则会导致所有字段默认配置修改失败。></notice>"},"DescribeCommonLogFields":{"summary":"查询WAF日志服务支持的所有日志字段。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"111390","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-l*****"}},{"name":"IsRequired","in":"query","allowEmptyValue":true,"schema":{"description":"日志字段是否为必选字段。\n\n- **true**：表示必选日志字段。\n- **false**：表示非必选日志字段。","type":"boolean","required":false,"example":"false"}},{"name":"IsDefault","in":"query","schema":{"description":"日志字段是否为默认字段。\n- **true**：表示查询默认日志字段。\n- **false**：表示查询非默认日志字段。","type":"boolean","required":false,"example":"true"}},{"name":"LogKeyList","in":"query","style":"json","schema":{"description":"要查询的日志字段列表。","type":"array","items":{"description":"要查询的日志字段。","type":"string","required":false,"example":"final_action"},"required":false}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek2sxgs*****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"日志字段总数。","type":"integer","format":"int64","example":"6"},"RequestId":{"description":"当前请求的ID。","type":"string","example":"AB0775EB-2594-598A-97E1-51B1*******"},"LogFieldList":{"description":"日志字段列表。","type":"array","items":{"description":"日志字段详情。","type":"object","properties":{"Status":{"description":"日志字段状态列表。取值：\n\n- **0**：表示下线状态。\n- **1**：表示上线状态或使用中。\n- **2**：表示即将下线。\n- **3**：表示即将上线。","type":"boolean","example":"1"},"IsDefault":{"description":"日志字段是否为默认字段。\n- **true**：表示默认日志字段。\n- **false**：表示非默认日志字段。","type":"boolean","example":"true"},"IsRequired":{"description":"日志字段是否为必选字段。\n\n- **true**：表示必选日志字段。\n- **false**：表示非必选日志字段。","type":"boolean","example":"true"},"LogKey":{"description":"日志字段。\n\n> 具体的日志字段含义，可以查阅**WAF官方文档**（[**日志字段说明**](https://help.aliyun.com/zh/waf/web-application-firewall-3-0/user-guide/fields-in-logs?spm=openapi-amp.newDocPublishment.0.0.ccef281fNAb0XR)）。","type":"string","example":"final_action"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 6,\\n  \\\"RequestId\\\": \\\"AB0775EB-2594-598A-97E1-51B1*******\\\",\\n  \\\"LogFieldList\\\": [\\n    {\\n      \\\"Status\\\": true,\\n      \\\"IsDefault\\\": true,\\n      \\\"Description\\\": \\\"waf action\\\",\\n      \\\"IsRequired\\\": true,\\n      \\\"LogKey\\\": \\\"final_action\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询日志服务支持的所有日志字段"},"ModifyUserWafLogStatus":{"summary":"开通或关闭WAF日志服务。","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"paid","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-mp9153****"}},{"name":"LogStatus","in":"query","schema":{"description":"日志服务开启状态。取值：\n- **0**：表示关闭日志服务。\n- **1**：表示开启日志服务。","type":"integer","format":"int32","required":true,"example":"1"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"LogRegionId","in":"query","schema":{"description":"日志存储地域ID。 如果未输入该参数，则会根据WAF实例所属地域开通日志服务。\n- **cn-hangzhou**：表示中国内地WAF实例开通日志服务默认所在地域。\n- **ap-southeast-1**：表示非中国内地WAF实例开通日志服务默认所在地域。\n\n> 您可以通过调用[DescribeUserSlsLogRegions](~~2712598~~)接口查询用户可用的日志存储地域。","type":"string","required":false,"example":"cn-beijing"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-****-A47C-6B19160*****"},"ProjectName":{"description":"日志服务Project的名称。","type":"boolean","example":"wafng-project-14316572********-cn-hangzhou"},"LogStoreName":{"description":"日志服务SLS日志库LogStore的名称。","type":"string","example":"wafng-logstore"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-****-A47C-6B19160*****\\\",\\n  \\\"ProjectName\\\": true,\\n  \\\"LogStoreName\\\": \\\"wafng-logstore\\\"\\n}\",\"type\":\"json\"}]","title":"修改WAF日志服务状态"},"DescribeUserWafLogStatus":{"summary":"查询用户WAF日志服务的状态、RegionId，状态修改时间等。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"201942","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-nwy34****0j"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"LogStatus":{"description":"用户日志服务的当前状态。\n- **initializing**：初始化中。\n- **initialize_failed**：初始化失败。\n- **normal**：正常运行。\n- **releasing**：释放中。\n- **release_failed**：释放失败。","type":"string","example":"normal"},"LogRegionId":{"description":"日志存储地域ID。取值：\n\n- **cn-hangzhou**：表示华东1（杭州）。\n- **cn-beijing**：表示华北2（北京）。\n- **cn-hongkong**：表示中国（香港）。\n- **ap-southeast-1**：表示新加坡。\n- **ap-southeast-3**：表示马来西亚（吉隆坡）。\n- **ap-southeast-5**：表示印度尼西亚（雅加达）。\n- **ap-southeast-6**：表示菲律宾（马尼拉）。\n- **ap-southeast-7**：表示泰国（曼谷）。\n- **me-east-1**：表示阿联酋（迪拜）。\n- **eu-central-1**：表示德国（法兰克福）。\n- **us-east-1**：表示美国（弗吉尼亚）。\n- **us-west-1**：表示美国（硅谷）。\n- **ap-northeast-1**：表示日本（东京）。\n- **ap-northeast-2**：表示韩国（首尔）。\n- **eu-west-1**：表示英国（伦敦）。\n- **cn-hangzhou-finance**：表示华东1 杭州金融云。\n- **cn-shanghai-finance-1**：表示华东2 上海金融云。\n- **cn-shenzhen-finance**：表示华南1 深圳金融云。\n\n\n\n\n> 金融云的Region，只有金融云用户才能获取，且金融云用户只能获取到这些Region。","type":"string","example":"cn-hangzhou"},"StatusUpdateTime":{"description":"日志状态修改时间，单位：毫秒。","type":"integer","format":"int64","example":"1706771796859"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"LogStatus\\\": \\\"normal\\\",\\n  \\\"LogRegionId\\\": \\\"cn-hangzhou\\\",\\n  \\\"StatusUpdateTime\\\": 1706771796859\\n}\",\"type\":\"json\"}]","title":"查询用户WAF日志服务"},"DescribeUserSlsLogRegions":{"summary":"查询用户可用的日志存储地域。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"201946","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-uqm2z****0a"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"LogRegions":{"description":"日志存储地域ID列表。","type":"array","items":{"description":"日志存储地域ID。取值：\n\n- **cn-hangzhou**：表示华东1（杭州）。\n- **cn-beijing**：表示华北2（北京）。\n- **cn-hongkong**：表示中国（香港）。\n- **ap-southeast-1**：表示新加坡。\n- **ap-southeast-3**：表示马来西亚（吉隆坡）。\n- **ap-southeast-5**：表示印度尼西亚（雅加达）。\n- **ap-southeast-6**：表示菲律宾（马尼拉）。\n- **ap-southeast-7**：表示泰国（曼谷）。\n- **me-east-1**：表示阿联酋（迪拜）。\n- **eu-central-1**：表示德国（法兰克福）。\n- **us-east-1**：表示美国（弗吉尼亚）。\n- **us-west-1**：表示美国（硅谷）。\n- **ap-northeast-1**：表示日本（东京）。\n- **ap-northeast-2**：表示韩国（首尔）。\n- **ap-south-1**：表示印度（孟买）已关停。\n- **eu-west-1**：表示英国（伦敦）。\n- **cn-hangzhou-finance**：表示华东1 杭州金融云。\n- **cn-shanghai-finance-1**：表示华东2 上海金融云。\n- **cn-shenzhen-finance**：表示华南1 深圳金融云。\n\n\n\n\n> 金融云的Region，只有金融云用户才能获取，且金融云用户只能获取到这些Region。","type":"string","example":"cn-hangzhou"}},"RequestId":{"description":"请求ID。","type":"string","example":"9D11AC3A-A10C-56E7-A342-E87EC892BAE2"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"LogRegions\\\": [\\n    \\\"cn-hangzhou\\\"\\n  ],\\n  \\\"RequestId\\\": \\\"9D11AC3A-A10C-56E7-A342-E87EC892BAE2\\\"\\n}\",\"type\":\"json\"}]","title":"查询用户可用的日志存储地域"},"DescribeSlsAuthStatus":{"summary":"查询日志库授权状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"111394","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-g4t3g****04"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek2okfav****iq"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Status":{"description":"授权状态。取值：\n\n- **true**：表示已授权。\n\n- **false**：表示未授权。","type":"boolean","example":"false"},"RequestId":{"description":"阿里云为此次API调用请求生成的唯一标识符。","type":"string","example":"3589D3A3-4A04-51CB-AA89-353ED20ACB10"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Status\\\": false,\\n  \\\"RequestId\\\": \\\"3589D3A3-4A04-51CB-AA89-353ED20ACB10\\\"\\n}\",\"type\":\"json\"}]","title":"查询日志库授权状态"},"DescribeSlsLogStoreStatus":{"summary":"查询SLS日志库的状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"114229","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-uqm35****02"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfmzedqv****ma"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID","type":"string","example":"184F538F-C115-5C89-A4EF-C79CD2E29AC7"},"ExistStatus":{"description":"是否已创建WAF的日志库。取值：\n- **true**：已创建。\n- **false**：未创建。","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"184F538F-C115-5C89-A4EF-C79CD2E29AC7\\\",\\n  \\\"ExistStatus\\\": true\\n}\",\"type\":\"json\"}]","title":"查询日志库状态"},"DescribeSlsLogStore":{"summary":"查看日志库总容量，存储时长，已使用容量等信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"114313","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-zpr3d****0o"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aek2wf3mn****vq"}}],"responses":{"200":{"schema":{"type":"object","properties":{"LogStoreName":{"description":"日志库的名称。","type":"string","example":"wafng-logstore"},"RequestId":{"description":"请求ID。","type":"string","example":"CAC0A24B-486A-5E12-9894-BE860E5F41CC"},"Quota":{"description":"日志库容量，单位：Byte（字节）。","type":"integer","format":"int64","example":"3298534883328"},"ProjectName":{"description":"日志服务Project的名称。","type":"string","example":"wafng-project-14316572********-cn-hangzhou"},"Used":{"description":"日志库已存储容量，单位：Byte（字节）。","type":"integer","format":"int64","example":"35471136"},"Ttl":{"description":"日志存储时长，单位：天。","type":"integer","format":"int32","example":"180"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"LogStoreName\\\": \\\"wafng-logstore\\\",\\n  \\\"RequestId\\\": \\\"CAC0A24B-486A-5E12-9894-BE860E5F41CC\\\",\\n  \\\"Quota\\\": 3298534883328,\\n  \\\"ProjectName\\\": \\\"wafng-project-14316572********-cn-hangzhou\\\",\\n  \\\"Used\\\": 35471136,\\n  \\\"Ttl\\\": 180\\n}\",\"type\":\"json\"}]","title":"查询日志库信息"},"ModifyResourceLogStatus":{"summary":"修改防护对象日志状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"111393","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-zz11zcl****"}},{"name":"Resource","in":"query","allowEmptyValue":true,"schema":{"description":"要修改的防护对象。","type":"string","required":true,"example":"alb-wewbb23dfsetetcic1242-0****"}},{"name":"Status","in":"query","schema":{"description":"防护对象日志开启状态。取值：\n\n- **true**：表示已开启。\n\n- **false**：表示未开启。","type":"boolean","required":true,"example":"true"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"Status":{"description":"防护对象日志开启状态。取值：\n\n- **true**：表示已开启。\n\n- **false**：表示未开启。","type":"boolean","example":"true"},"RequestId":{"description":"请求ID。","type":"string","example":"7C55A3E5-638A-5D6E-9A2F-C3CE5A677EC5"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Status\\\": true,\\n  \\\"RequestId\\\": \\\"7C55A3E5-638A-5D6E-9A2F-C3CE5A677EC5\\\"\\n}\",\"type\":\"json\"}]","title":"修改防护对象日志状态"},"DescribeResourceLogStatus":{"summary":"查询防护对象日志状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"111392","abilityTreeNodes":["FEATUREwafJYSA2F"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-zz11zcl****"}},{"name":"Resources","in":"query","allowEmptyValue":true,"schema":{"description":"要查询的防护对象，多个防护对象用逗号（,）隔开。","type":"string","required":true,"example":"alb-wewbb23dfsetetcic1242-0****,alb-wewbb23dfsetetcic1242-1****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"0DABF8AB-2321-5F8D-A8D7-922D757FBFFE"},"Result":{"description":"返回结果。","type":"array","items":{"description":"防护对象日志状态信息。","type":"object","properties":{"Status":{"description":"防护对象日志开启状态。取值：\n \n- **true**：表示已开启。\n\n- **false**：表示未开启。","type":"boolean","example":"true"},"Resource":{"description":"查询的防护对象。","type":"string","example":"alb-wewbb23dfsetetcic****"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0DABF8AB-2321-5F8D-A8D7-922D757FBFFE\\\",\\n  \\\"Result\\\": [\\n    {\\n      \\\"Status\\\": true,\\n      \\\"Resource\\\": \\\"alb-wewbb23dfsetetcic****\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询防护对象日志状态"},"DescribeHybridCloudClusterServers":{"summary":"集群机器列表","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-******nd07"}},{"name":"ClusterId","in":"query","schema":{"description":"集群ID。","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"Ip","in":"query","allowEmptyValue":true,"schema":{"description":"服务器IP地址。","type":"string","required":false,"example":"1.X.X.1"}},{"name":"HostName","in":"query","schema":{"description":"主机名称。","type":"string","required":false,"example":"online-***wwq"}},{"name":"GroupType","in":"query","schema":{"description":"混合云节点组类型。取值：\n\n- **protect**：防护。\n\n- **control**：管控。\n\n- **storage**：存储。\n\n- **controlStorage**：管控＆存储。","type":"string","required":false,"example":"protect"}},{"name":"GroupName","in":"query","schema":{"description":"节点组名称。","type":"string","required":false,"example":"test"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页的行数。默认值为**10**。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"PageNumber","in":"query","schema":{"description":"当前页码。默认值：**1**。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int32","example":"3"},"RequestId":{"description":"请求ID。","type":"string","example":"C3B0FDD2-11CE-59A5-BEB5-*****1A969"},"ClusterServers":{"description":"结果列表。","type":"array","items":{"type":"object","properties":{"GroupName":{"description":"节点组名称。","type":"string","example":"测试组。"},"Operator":{"description":"云厂商。","type":"string","example":"aliyun。"},"Status":{"description":"机器状态。","type":"string","example":"ok"},"RegionCodeValue":{"description":"区域code。","type":"integer","format":"int32","example":"0"},"RegionCode":{"description":"区域名称。","type":"string","example":"beijing"},"Memory":{"description":"内存数据。","type":"integer","format":"int64","example":"33547386880"},"Ip":{"description":"IP地址。","type":"string","example":"1.*.*1。"},"Cpu":{"description":"cpu核数。","type":"integer","format":"int32","example":"4"},"Mid":{"description":"机器MID。","type":"string","example":"28ab688cd403563e8e173*****79600"},"ContinentsValue":{"description":"防护集群大洲Code。\n\n> Code的取值列表，见返回参数补充说明。","type":"integer","format":"int32","example":"410"},"Mac":{"description":"MAC地址。","type":"string","example":"**:**:00:02:eb:c7"},"GroupId":{"description":"节点分组ID。","type":"integer","format":"int64","example":"1"},"JobStatus":{"description":"机器运行状态。","type":"string","example":"running"},"GroupType":{"description":"混合云节点组类型。取值：\n\n- **protect**：防护。\n\n- **control**：管控。\n\n- **storage**：存储。\n\n- **controlStorage**：管控＆存储。","type":"string","example":"protect"},"CustomName":{"description":"节点组名称。","type":"string","example":"测试组"},"UpdateTimestamp":{"description":"最后更新时间戳。","type":"integer","format":"int64","example":"1711953897000"},"Continents":{"description":"大洲。","type":"string","example":"asiapacific"},"CreateTimestamp":{"description":"创建时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1665987186000"},"HostName":{"description":"主机名称。","type":"string","example":"qsh5-sec-waf-*****-6"},"OperatorValue":{"description":"操作值。","type":"integer","format":"int32","example":"0"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 3,\\n  \\\"RequestId\\\": \\\"C3B0FDD2-11CE-59A5-BEB5-*****1A969\\\",\\n  \\\"ClusterServers\\\": [\\n    {\\n      \\\"GroupName\\\": \\\"测试组。\\\",\\n      \\\"Operator\\\": \\\"aliyun。\\\",\\n      \\\"Status\\\": \\\"ok\\\",\\n      \\\"RegionCodeValue\\\": 0,\\n      \\\"RegionCode\\\": \\\"beijing\\\",\\n      \\\"Memory\\\": 33547386880,\\n      \\\"Ip\\\": \\\"1.*.*1。\\\",\\n      \\\"Cpu\\\": 4,\\n      \\\"Mid\\\": \\\"28ab688cd403563e8e173*****79600\\\",\\n      \\\"ContinentsValue\\\": 410,\\n      \\\"Mac\\\": \\\"**:**:00:02:eb:c7\\\",\\n      \\\"GroupId\\\": 1,\\n      \\\"JobStatus\\\": \\\"running\\\",\\n      \\\"GroupType\\\": \\\"protect\\\",\\n      \\\"CustomName\\\": \\\"测试组\\\",\\n      \\\"UpdateTimestamp\\\": 1711953897000,\\n      \\\"Continents\\\": \\\"asiapacific\\\",\\n      \\\"CreateTimestamp\\\": 1665987186000,\\n      \\\"HostName\\\": \\\"qsh5-sec-waf-*****-6\\\",\\n      \\\"OperatorValue\\\": 0\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"集群机器列表"},"DescribeHybridCloudBasicMonitor":{"summary":"查询混合云集群节点系统状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-7mz****hw0u"}},{"name":"Mid","in":"query","schema":{"description":"节点ID。","type":"string","required":true,"example":"f451e90fcb068905ab379468****db42"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"0B8AF42B-16A9-5762-AEF3-D148****FE5D"},"BasicMonitors":{"description":"基础监控项列表。","type":"array","items":{"description":"基础监控项。","type":"object","properties":{"MonitorName":{"description":"监控项。取值：\n\n- **basic_monitor_cpu_usage**：表示CPU。\n\n- **basic_monitor_memory_usage**：表示内存。\n\n- **basic_monitor_disk_usage**：表示磁盘。","type":"string","example":"basic_monitor_cpu_usage"},"UseRatio":{"description":"使用占比。","type":"integer","format":"int64","example":"5.905694"},"Levle":{"description":"状态。取值：\n\n- **normal**：表示正常。\n\n- ****：表示异常。","type":"string","example":"normal"}}}},"TotalCount":{"description":"> 该参数已弃用，不再返回有意义的数据。","type":"integer","format":"int32","example":"已弃用"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0B8AF42B-16A9-5762-AEF3-D148****FE5D\\\",\\n  \\\"BasicMonitors\\\": [\\n    {\\n      \\\"MonitorName\\\": \\\"basic_monitor_cpu_usage\\\",\\n      \\\"UseRatio\\\": 5.905694,\\n      \\\"Levle\\\": \\\"normal\\\"\\n    }\\n  ],\\n  \\\"TotalCount\\\": 0\\n}\",\"type\":\"json\"}]","title":"查询混合云集群节点系统状态"},"CreateHybridCloudCluster":{"summary":"创建混合云集群。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"124693","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"ClusterName","in":"query","schema":{"description":"集群名称。","type":"string","required":true,"example":"测试集群"}},{"name":"HttpPorts","in":"query","schema":{"description":"HTTP协议的可用端口列表。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","required":true,"example":"80,8080"}},{"name":"HttpsPorts","in":"query","schema":{"description":"HTTPS协议的可用端口列表。 取值为字符串， 多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","required":true,"example":"443,8443"}},{"name":"AccessMode","in":"query","schema":{"description":"网络接入模式。取值范围如下：\n- **internet**：公网接入。\n- **vpc**：专线私网接入。","type":"string","required":true,"example":"internet"}},{"name":"AccessRegion","in":"query","schema":{"description":"专线接入区域。取值范围如下：\n- **cn-hangzhou** : 杭州。\n- **cn-beiijng** : 北京。\n- **cn-shanghai** : 上海。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"LogFieldsNotReturned","in":"query","schema":{"description":"> 该参数已弃用，不再返回有意义的数据。","type":"string","deprecated":true,"required":false,"example":"已弃用"}},{"name":"ProtectionServerCount","in":"query","schema":{"description":"集群可添加的防护节点数量。","type":"integer","format":"int32","required":true,"example":"1"}},{"name":"Remark","in":"query","schema":{"description":"备注。","type":"string","required":false,"example":"测试集群备注"}},{"name":"ProxyType","in":"query","schema":{"description":"集群类型。取值范围如下：\n- **cname**：反代集群。\n- **service**：服务化集群。","type":"string","required":false,"example":"cname","default":"cname"}},{"name":"RuleStatus","in":"query","schema":{"description":"手动Bypass状态。取值范围如下：\n- **on**：开启。\n- **off** ：关闭。","type":"string","required":false,"example":"on"}},{"name":"RuleType","in":"query","schema":{"description":"规则类型。取值范围如下：\n- **bypass** ：不做安全检查，直接放行。","type":"string","required":false,"example":"bypass"}},{"name":"RuleConfig","in":"query","schema":{"description":"规则配置。","type":"string","required":false,"example":"{\n      \"enable\": true,\n      \"param\": {\n            \"breaker\": {\n                  \"duration\": 1,\n                  \"failed\": 1,\n                  \"recent_failed\": 1\n            },\n            \"disable_protect\": false,\n            \"max_request_body_len\": 1,\n            \"timeout\": 1\n      }\n}"}},{"name":"ProxyStatus","in":"query","schema":{"description":"代理网关模式。取值范围如下：\n- **on**：开启。\n- **off**：关闭。","type":"string","required":false,"example":"off","default":"off"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值范围如下：\n- **cn-hangzhou**：表示中国内地。\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"响应结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"66A98669-ER12-WE34-23PO-301469*****E"},"Data":{"description":"集群ID。","type":"integer","format":"int64","example":"1"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-ER12-WE34-23PO-301469*****E\\\",\\n  \\\"Data\\\": 1\\n}\",\"type\":\"json\"}]","title":"创建混合云集群"},"DescribeHybridCloudServerRegions":{"summary":"查询混合云支持的运营商、大州、城市等区域信息字典表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-5yd****7009"}},{"name":"RegionCode","in":"query","schema":{"description":"区域Code。><notice>当RegionType取值为region时，该入参为必选项\n，参数值为所选大州的Code值></notice>","type":"string","required":false,"example":"410"}},{"name":"RegionType","in":"query","schema":{"description":"区域类型。取值：\n\n- **operator**：运营商。\n- **continents**：大州。\n- **region**：城市。","type":"string","required":true,"example":"region","enum":["operator","continents","region"]}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"0FBBDE11-C35F-531B-96BA-64CA****C875"},"Regions":{"description":"区域信息列表。","type":"array","items":{"description":"区域信息。","type":"object","properties":{"Code":{"description":"区域Code。","type":"integer","format":"int32","example":"1"},"Name":{"description":"区域名称。","type":"string","example":"aliyun"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0FBBDE11-C35F-531B-96BA-64CA****C875\\\",\\n  \\\"Regions\\\": [\\n    {\\n      \\\"Code\\\": 1,\\n      \\\"Name\\\": \\\"aliyun\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询混合云支持的区域列表"},"DescribeHybridCloudUnassignedMachines":{"summary":"查询混合云集群未分配服务器列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-5yd****7009"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID","type":"integer","format":"int32","required":true,"example":"123"}},{"name":"Ip","in":"query","schema":{"description":"服务器IP地址。","type":"string","required":false,"example":"1.X.X.1"}},{"name":"HostName","in":"query","schema":{"description":"主机名称。","type":"string","required":false,"example":"online-xagent1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询请求时返回的页码。默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int64","example":"28"},"RequestId":{"description":"请求ID。","type":"string","example":"3EBCFCE9-4A3C-5E01-915D-691B****510A"},"UnassignedMachines":{"description":"混合云集群未分配机器列表。","type":"array","items":{"description":"混合云集群未分配机器。","type":"object","properties":{"CustomName":{"description":"节点名称。","type":"string","example":"exampleName"},"Memory":{"description":"内存大小，单位为KB，换算使用1000。","type":"integer","format":"int64","example":"31580872"},"Ip":{"description":"服务器IP地址。","type":"string","example":"1.X.X.1\n"},"Cpu":{"description":"CPU核数。","type":"integer","format":"int64","example":"16"},"Mid":{"description":"节点ID。","type":"string","example":"78db009ab6cf055a9085f9f4****ae3a"},"HostName":{"description":"主机名称。","type":"string","example":"online-xagent1\n"},"Mac":{"description":"设备MAC地址。","type":"string","example":"00163e2686ac"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 28,\\n  \\\"RequestId\\\": \\\"3EBCFCE9-4A3C-5E01-915D-691B****510A\\\",\\n  \\\"UnassignedMachines\\\": [\\n    {\\n      \\\"CustomName\\\": \\\"exampleName\\\",\\n      \\\"Memory\\\": 31580872,\\n      \\\"Ip\\\": \\\"1.X.X.1\\\\n\\\",\\n      \\\"Cpu\\\": 16,\\n      \\\"Mid\\\": \\\"78db009ab6cf055a9085f9f4****ae3a\\\",\\n      \\\"HostName\\\": \\\"online-xagent1\\\\n\\\",\\n      \\\"Mac\\\": \\\"00163e2686ac\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询混合云集群未分配服务器列表"},"ModifyHybridCloudClusterBypassStatus":{"summary":"修改混合云SDK集成集群手动Bypass开关。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"174009","abilityTreeNodes":["FEATUREwafR5NU4G"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstanceInfo](~~140857~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"ClusterResourceId","in":"query","schema":{"description":"混合云集群资源ID。","type":"string","required":true,"example":"hdbc_cluster_****"}},{"name":"RuleStatus","in":"query","schema":{"description":"手动Bypass开启状态，取值：\n\n- **on**：开启。\n\n- **off（默认）**：关闭。","type":"string","required":true,"example":"on"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"当前请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"修改混合云SDK集成集群手动Bypass开关"},"DescribeHybridCloudUser":{"summary":"查询混合云接入，客户允许使用的端口范围，内容返回包括HTTP和HTTPS两类端口。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-***********"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID，阿里云为该请求生成的唯一标识符。","type":"string","example":"9178CB86-285F-5679-A30A-3B3F007E4206"},"UserInfo":{"description":"用户可用端口信息。","type":"object","properties":{"HttpsPorts":{"description":"HTTPS协议的可用端口列表。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","example":"8443,443"},"HttpPorts":{"description":"HTTP协议的可用端口列表。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","example":"80,8080"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"9178CB86-285F-5679-A30A-3B3F007E4206\\\",\\n  \\\"UserInfo\\\": {\\n    \\\"HttpsPorts\\\": \\\"8443,443\\\",\\n    \\\"HttpPorts\\\": \\\"80,8080\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询混合云客户端口"},"DescribeHybridCloudGroups":{"summary":"查询添加到Web应用防火墙的混合云节点组列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"136062","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-********w0b"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID","type":"integer","format":"int64","required":false,"example":"428"}},{"name":"GroupName","in":"query","schema":{"description":"要查询的节点组名称","type":"integer","format":"int32","required":false,"example":"groupName1"}},{"name":"GroupType","in":"query","schema":{"description":"混合云节点组类型。取值：\n\n- **protect**：防护。\n\n- **control**：管控。\n\n- **storage**：存储。\n\n- **controlStorage**：管控＆存储。","type":"string","required":false,"example":"protect"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页的行数。默认值为**10**。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"ClusterProxyType","in":"query","schema":{"description":"集群代理类型。取值：\n\n- **service**：SDK集成。\n\n- **cname**：反向代理。","type":"string","required":false,"example":"cname"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"返回结果的总数。","type":"integer","format":"int32","example":"146"},"RequestId":{"description":"请求ID，阿里云为该请求生成的标识符。","type":"string","example":"045660E7-C4C6-5CD7-8182-7B337D95ADF4"},"Groups":{"description":"混合云节点组集合。","type":"array","items":{"description":"单个混合云节点信息。","type":"object","properties":{"GroupName":{"description":"混合云节点组名称。","type":"string","example":"StorageGroup"},"RegionCodeValue":{"description":"防护集群城市Code。\n\n> Code的取值列表，见返回参数补充说明。","type":"integer","format":"int32","example":"0"},"LoadBalanceIp":{"description":"负载均衡（服务器）IP。","type":"string","example":"1.1.XX.XX"},"BackSourceMark":{"description":"防护集群回源标记，格式为 {防护集群运营商Name}-{防护集群大洲Name}-{防护集群城市Name}-{防护集群回源标识}（可选）\n\n> 防护集群运营商Name、防护集群大洲Name、防护集群城市Name、防护集群回源标识的取值列表，见返回参数补充说明。","type":"string","example":"aliyun-asiapacific-beijing-56477821"},"GroupType":{"description":"混合云节点组类型。取值：\n\n- **protect**：防护。\n\n- **control**：管控。\n\n- **storage**：存储。\n\n- **controlStorage**：管控＆存储。","type":"string","example":"protect"},"LocationId":{"description":"防护节点ID。","type":"integer","format":"int64","example":"1312"},"Ports":{"description":"混合云集群使用的端口。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","example":"80,9200,20018"},"ContinentsValue":{"description":"防护集群大洲Code。\n\n> Code的取值列表，见返回参数补充说明。","type":"integer","format":"int32","example":"410"},"GroupId":{"description":"混合云节点组ID。","type":"integer","format":"int32","example":"123"},"Remark":{"description":"备注。","type":"string","example":"备注"},"OperatorValue":{"description":"防护集群运营商Code。\n\n> Code的取值列表，见返回参数补充说明。","type":"integer","format":"int32","example":"0"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 146,\\n  \\\"RequestId\\\": \\\"045660E7-C4C6-5CD7-8182-7B337D95ADF4\\\",\\n  \\\"Groups\\\": [\\n    {\\n      \\\"GroupName\\\": \\\"StorageGroup\\\",\\n      \\\"RegionCodeValue\\\": 0,\\n      \\\"LoadBalanceIp\\\": \\\"1.1.XX.XX\\\",\\n      \\\"BackSourceMark\\\": \\\"aliyun-asiapacific-beijing-56477821\\\",\\n      \\\"GroupType\\\": \\\"protect\\\",\\n      \\\"LocationId\\\": 1312,\\n      \\\"Ports\\\": \\\"80,9200,20018\\\",\\n      \\\"ContinentsValue\\\": 410,\\n      \\\"GroupId\\\": 123,\\n      \\\"Remark\\\": \\\"备注\\\",\\n      \\\"OperatorValue\\\": 0\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询混合云集群下节点组列表","responseParamsDescription":"### 防护集群运营商Code\n|运营商Code|运营商Tag|运营商Desc|\n| ----------| ------------| ------------ |\n|0| aliyun|阿里云|\n|3| tencent|腾讯|\n|100| google|谷歌|\n|200| IDC|IDC|\n\n### 防护集群大洲Code\n|防护大洲Code|防护大洲Tag|防护大洲Desc|\n| ----------| ------------| ------------ |\n|410| asiapacific|asiapacific|\n|411| euro|euro|\n\n\n\n### 防护集群城市Code\n\n|防护大洲Code|防护城市Code|防护城市Tag|防护城市Desc|\n|----------| ----------| ------------| ------------ |\n|411|0| frankfurt|法兰克福|\n|411|1| siliconvallery|硅谷|\n|411|2| Virginia|弗吉尼亚|\n|410|0| beijing|北京|\n|410|1| shanghai|上海|\n|410|2| hongkong|中国香港|\n|410|3| jakarta|雅加达|\n|410|4| hangzhou|杭州|\n|410|5| zhangjiakou|张家口|\n|410|6| shenzhen|深圳|\n|410|7| singapore|新加坡|\n|410|8| Tokyo|东京|\n|410|9| changsha|长沙|\n|410|10| public_cloud|共有云|\n|410|11| nanjing|南京|"},"CreateHybridCloudGroup":{"summary":"创建混合云集群节点组信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"136094","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-n6w***x52m"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"GroupName","in":"query","schema":{"description":"节点组名称。","type":"string","required":true,"example":"混合云集群防护组"}},{"name":"GroupType","in":"query","schema":{"description":"节点组类型。取值范围如下：\n- **protect**：防护。\n\n- **control**：管控。\n\n- **storage**：存储。\n\n- **controlStorage**：管控＆存储。","type":"string","required":true,"example":"protect"}},{"name":"LoadBalanceIp","in":"query","schema":{"description":"负载均衡（服务器）IP。","type":"string","required":true,"example":"3.3.3.3"}},{"name":"Remark","in":"query","schema":{"description":"备注。","type":"string","required":false,"example":"节点组备注"}},{"name":"LocationCode","in":"query","schema":{"description":"节点所在区域。参数说明：运营商-大洲-城市","type":"string","required":false,"example":"0-410-0"}},{"name":"BackSourceMark","in":"query","schema":{"description":"节点所在区域。参数说明：运营商-大洲-城市","type":"string","required":false,"example":"aliyun-asiapacific-beijing"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值范围如下：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"48F7C7BA-0932-50EA-89AD-5B0E1***274"},"Data":{"description":"节点分组ID。","type":"integer","format":"int64","example":"1"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"48F7C7BA-0932-50EA-89AD-5B0E1***274\\\",\\n  \\\"Data\\\": 1\\n}\",\"type\":\"json\"}]","title":"创建混合云集群节点组信息"},"DescribeHybridCloudClusterRule":{"summary":"获取混合云集群规则信息。","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafSBJ1DO"],"autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-uqm33n***02"}},{"name":"ClusterId","in":"query","schema":{"description":"【废弃】混合云集群 ID","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"RuleType","in":"query","schema":{"description":"【废弃】规则类型。取值范围如下：\n- **pullin**：集群引流","type":"string","required":false,"example":"pullin"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"ClusterRuleResourceId","in":"query","schema":{"description":"集群规则资源ID","type":"string","required":false,"example":"hdbc-clusterrule-*******m0w"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回结果。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求id。","type":"string","example":"1F29A6D2-9EB6-526D-A997-36888**99CB"},"ClusterRule":{"description":"规则信息。","type":"object","properties":{"RuleType":{"description":"规则类型：\n\n- pullin：引流规则","type":"string","example":"pullin"},"RuleConfig":{"description":"引流规则配置：\n\n- **check_mode** 模式选择 取值：\n  - **all**：全量引流\n  - **part**：指定部分引流\n- **type**：规则匹配类型取值：\n  - **exact**：精准\n  - **regex**：正则\n- **substance**：规则值","type":"string","example":"{\\\"check_mode\\\":\\\"all\\\",\\\"exclude\\\":{\\\"exact\\\":[],\\\"regex\\\":[]}}"},"RuleStatus":{"description":"规则状态，取值范围如下：\n\n- **on**：开启。\n\n- **off**：关闭。","type":"string","example":"on"},"ClusterRuleResourceId":{"description":"集群规则资源ID","type":"string","example":"hdbc-clusterrule-2m*****m0w"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"1F29A6D2-9EB6-526D-A997-36888**99CB\\\",\\n  \\\"ClusterRule\\\": {\\n    \\\"RuleType\\\": \\\"pullin\\\",\\n    \\\"RuleConfig\\\": \\\"{\\\\\\\\\\\\\\\"check_mode\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"all\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"exclude\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"exact\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"regex\\\\\\\\\\\\\\\":[]}}\\\",\\n    \\\"RuleStatus\\\": \\\"on\\\",\\n    \\\"ClusterRuleResourceId\\\": \\\"hdbc-clusterrule-2m*****m0w\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"获取混合云集群规则信息"},"DescribeHybridCloudClusters":{"summary":"查询混合云集群列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"227268","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"要操作的WAF实例ID。\n\n> 您可以调用[DescribeInstanceInfo](~~140857~~)查询WAF实例的ID。","type":"string","required":true,"example":"waf_v2_public_cn-uqm35****02"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"响应结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"66A98669-ER12-WE34-23PO-301469*****E"},"ClusterInfos":{"description":"集群列表。","type":"array","items":{"description":"集群信息。","type":"object","properties":{"HttpsPorts":{"description":"HTTPS协议的端口列表。 取值为字符串， 多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","example":"443,8443"},"ProtectionServerCount":{"description":"集群可添加的防护节点数量。","type":"integer","format":"int32","example":"1"},"ProxyStatus":{"description":"代理网关模式。取值范围如下：\n- **on**：开启\n- **off**：关闭","type":"string","example":"off"},"RuleType":{"description":"规则类型。取值范围如下：\n- **bypass**：不做安全检查，直接放行","type":"string","example":"bypass"},"AccessRegion":{"description":"专线接入区域。取值范围如下：\n- **cn-hangzhou** : 杭州\n- **cn-beiijng** : 北京\n- **cn-shanghai** : 上海","type":"string","example":"cn-hangzhou"},"Remark":{"description":"备注。","type":"string","example":"测试集群备注"},"ClusterResourceId":{"description":"混合云集群资源ID。","type":"string","example":"hdbc-cluster-t1****a"},"ClusterName":{"description":"集群名称。","type":"string","example":"混合云**集群"},"RuleStatus":{"description":"手动Bypass状态，取值范围如下：\n\n- **on**：开启。\n\n- **off**：关闭。","type":"string","example":"off"},"Id":{"description":"集群ID。","type":"integer","format":"int64","example":"524**8"},"AccessMode":{"description":"网络接入模式。取值范围如下：\n\n- **internet**：公网接入。\n- **vpc**：专线私网接入。","type":"string","example":"internet"},"ProxyType":{"description":"集群类型。取值范围如下：\n- **cname**：反代集群\n- **service**：服务化集群","type":"string","example":"cname"},"RuleConfig":{"description":"规则配置。","type":"string","example":"{\"enable\":true,\"param\":{\"breaker\":{\"duration\":1,\"failed\":1,\"recent_failed\":1},\"disable_protect\":false,\"max_request_body_len\":1,\"timeout\":1}}"},"HttpPorts":{"description":"HTTP协议的端口列表。 取值为字符串， 多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","example":"80,8080"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-ER12-WE34-23PO-301469*****E\\\",\\n  \\\"ClusterInfos\\\": [\\n    {\\n      \\\"HttpsPorts\\\": \\\"443,8443\\\",\\n      \\\"ProtectionServerCount\\\": 1,\\n      \\\"ProxyStatus\\\": \\\"off\\\",\\n      \\\"RuleType\\\": \\\"bypass\\\",\\n      \\\"AccessRegion\\\": \\\"cn-hangzhou\\\",\\n      \\\"Remark\\\": \\\"测试集群备注\\\",\\n      \\\"ClusterResourceId\\\": \\\"hdbc-cluster-t1****a\\\",\\n      \\\"ClusterName\\\": \\\"混合云**集群\\\",\\n      \\\"RuleStatus\\\": \\\"off\\\",\\n      \\\"Id\\\": 0,\\n      \\\"AccessMode\\\": \\\"internet\\\",\\n      \\\"ProxyType\\\": \\\"cname\\\",\\n      \\\"RuleConfig\\\": \\\"{\\\\\\\"enable\\\\\\\":true,\\\\\\\"param\\\\\\\":{\\\\\\\"breaker\\\\\\\":{\\\\\\\"duration\\\\\\\":1,\\\\\\\"failed\\\\\\\":1,\\\\\\\"recent_failed\\\\\\\":1},\\\\\\\"disable_protect\\\\\\\":false,\\\\\\\"max_request_body_len\\\\\\\":1,\\\\\\\"timeout\\\\\\\":1}}\\\",\\n      \\\"HttpPorts\\\": \\\"80,8080\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询混合云集群列表"},"ModifyHybridCloudClusterRule":{"summary":"修改混合云集群规则信息。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"137983","abilityTreeNodes":["FEATUREwafR5NU4G"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstanceInfo](~~140857~~)查询当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-n6w***x52m"}},{"name":"ClusterRuleResourceId","in":"query","schema":{"description":"集群规则资源ID","type":"string","required":false,"example":"hdbc-clusterrule-*******ym0w"}},{"name":"RuleConfig","in":"query","schema":{"description":"引流规则配置：\n\n<notice>模式选择不允许修改</notice>\n- **check_mode** 模式选择 取值：\n  - **all**：全量引流\n  - **part**：指定部分引流\n- **type**：规则匹配类型取值：\n  - **exact**：精准\n  - **regex**：正则\n- **substance**：规则值>","type":"string","required":false,"example":"{\\\"check_mode\\\": \\\"all\\\", \\\"type\\\": \\\"exact\\\", \\\"substance\\\": \\\"122\\\"}","default":"\"\""}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值范围如下：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"ClusterId","in":"query","schema":{"description":"【废弃】混合云集群ID。","type":"integer","format":"int64","required":false,"example":"10*"}},{"name":"RuleType","in":"query","schema":{"description":"【废弃】规则类型。取值范围如下：\n- **pullin** ：引流配置","type":"string","required":false,"example":"pullin"}},{"name":"RuleStatus","in":"query","schema":{"description":"规则状态。取值范围如下：\n- **on**：开启。\n- **off** ：关闭。","type":"string","required":false,"example":"on"}}],"responses":{"200":{"headers":{},"schema":{"title":"Schema of Response","description":"响应结果。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"03D73D88-57D8-5BA2-96A4-6357CE***19"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"03D73D88-57D8-5BA2-96A4-6357CE***19\\\"\\n}\",\"type\":\"json\"}]","title":"修改混合云集群规则信息"},"ModifyHybridCloudGroup":{"summary":"修改集群组信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"136071","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"ClusterId","in":"query","schema":{"description":"集群ID。\n\n","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"GroupId","in":"query","schema":{"description":"节点分组ID。","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"GroupName","in":"query","schema":{"description":"节点分组名称。","type":"string","required":true,"example":"测试分组"}},{"name":"Remark","in":"query","schema":{"description":"备注。","type":"string","required":false,"example":"节点组备注"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值范围如下：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D***0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D***0\\\"\\n}\",\"type\":\"json\"}]","title":"修改集群组信息"},"ModifyHybridCloudGroupExpansionServer":{"summary":"集群分组中添加节点。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"136075","abilityTreeNodes":["FEATUREwafR5NU4G"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"GroupId","in":"query","schema":{"description":"节点分组ID。","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"Mids","in":"query","schema":{"description":"节点ID。","type":"string","required":true,"example":"612929b133e7ff**0d0"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"7BD7F9A1-0E72-5BC1-8248-C629B4***B6"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7BD7F9A1-0E72-5BC1-8248-C629B4***B6\\\"\\n}\",\"type\":\"json\"}]","title":"集群分组中添加节点"},"ModifyHybridCloudGroupShrinkServer":{"summary":"集群分组删除节点。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"156785","abilityTreeNodes":["FEATUREwafR5NU4G"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldb****05"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"GroupId","in":"query","schema":{"description":"节点分组ID。","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"Mids","in":"query","schema":{"description":"节点ID。","type":"string","required":true,"example":"b1bf3f544f30c1de0b72d91290***bbbb"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm2th****v6ay"}}],"responses":{"200":{"headers":{},"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"集群分组删除节点"},"ModifyHybridCloudSdkPullinStatus":{"summary":"修改混合云SDK引流状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafSBJ1DO"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstanceInfo](~~140857~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-7pp2le***01"}},{"name":"PullinStatus","in":"query","schema":{"description":"引流状态。取值范围如下：\n- **on**: 开启\n- **off**: 关闭","type":"string","required":true,"example":"on"}},{"name":"Mid","in":"query","schema":{"description":"SDKID。","type":"string","required":true,"example":"b3dbc5153317c79d8ca9f9***ea"}}],"responses":{"200":{"schema":{"description":"响应结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B191**EB0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B191**EB0\\\"\\n}\",\"type\":\"json\"}]","title":"修改混合云SDK引流状态"},"ModifyHybridCloudServer":{"summary":"修改混合云节点信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"136073","abilityTreeNodes":["FEATUREwafR5NU4G"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstanceInfo](~~140857~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"Mid","in":"query","schema":{"description":"节点ID。","type":"string","required":true,"example":"b1bf3f544f30c1de0b72d91290**ccb"}},{"name":"CustomName","in":"query","schema":{"description":"节点名称。","type":"string","required":true,"example":"节点名称"}},{"name":"Operator","in":"query","schema":{"description":"云厂商。","type":"string","required":true,"example":"aliyun"}},{"name":"Continents","in":"query","schema":{"description":"大洲。","type":"string","required":true,"example":"asiapacific"}},{"name":"RegionCode","in":"query","schema":{"description":"城市。","type":"string","required":true,"example":"beijing"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求的ID。","type":"string","example":"26DCD663-5EB8-5103-B270-E24A32***5F0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"26DCD663-5EB8-5103-B270-E24A32***5F0\\\"\\n}\",\"type\":\"json\"}]","title":"修改混合云节点信息"},"DeleteHybridCloudClusterRule":{"summary":"删除集群规则信息","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"136069","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"ClusterRuleResourceId","in":"query","schema":{"description":"集群规则资源ID","type":"string","required":true,"example":"hdbc-clusterrule-*******m0w"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"响应结果","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"删除混合云集群规则"},"CreateHybridCloudClusterRule":{"summary":"新增集群规则信息。","methods":["get","post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"137983","abilityTreeNodes":["FEATUREwafR5NU4G"],"autoTest":true},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_elasticity-cn-0xldbqt****"}},{"name":"ClusterId","in":"query","schema":{"description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"integer","format":"int64","required":true,"example":"428"}},{"name":"RuleType","in":"query","allowEmptyValue":true,"schema":{"description":"规则类型。取值范围如下：\n- **pullin**：集群引流","type":"string","required":true,"example":"pullin"}},{"name":"RuleStatus","in":"query","schema":{"description":"规则状态。取值范围如下：\n- **on**：开启。\n- **off** ：关闭。","type":"string","required":true,"example":"on"}},{"name":"RuleConfig","in":"query","schema":{"description":"引流规则配置：\n\n> 模式选择是互斥的，二选一，如果变更模式选择，会清理原模式下所有的引流规则。\n- **check_mode** 模式选择 取值：\n    - **all**：全量引流\n    - **part**：指定部分引流\n- **type**：规则匹配类型取值：\n    - **exact**：精准\n    - **regex**：正则\n- **substance**：规则值","type":"string","required":false,"example":"full volume drainage:{\\\"check_mode\\\": \\\"all\\\", \\\"type\\\": \\\"exact\\\", \\\"substance\\\": \\\"122\\\"}\nSpecified partial drainage：{\\\"check_mode\\\": \\\"part\\\", \\\"type\\\": \\\"exact\\\", \\\"substance\\\": \\\"12222\\\"}","default":"\"\""}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"headers":{},"schema":{"title":"Schema of Response","description":"返回结果","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"66A98669-CC6E-4F3E-*****-3014697B11AE"},"ClusterRuleResourceId":{"description":"集群规则资源ID","type":"string","example":"hdbc-clusterrule-*******m0w"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-*****-3014697B11AE\\\",\\n  \\\"ClusterRuleResourceId\\\": \\\"hdbc-clusterrule-*******m0w\\\"\\n}\",\"type\":\"json\"}]","title":"创建集群规则信息"},"DescribeHybridCloudClusterRules":{"summary":"集群规则列表","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"title":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-****"}},{"name":"RuleType","in":"query","allowEmptyValue":true,"schema":{"title":"规则类型。取值范围如下：\n- **pullin**：集群引流","description":"规则类型。取值范围如下：\n- **pullin**：集群引流","type":"string","required":true,"example":"pullin"}},{"name":"ClusterId","in":"query","schema":{"title":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","description":"混合云集群 ID。\n> 只针对混合云场景，您可以调用[DescribeHybridCloudClusters](~~2849376~~)获取混合云集群信息。","type":"integer","format":"int64","required":true,"example":"428"}},{"name":"PageSize","in":"query","schema":{"title":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","description":"分页查询时，每页包含多少条结果。默认值为**10**，表示每页包含10条结果。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"PageNumber","in":"query","schema":{"title":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","description":"分页查询时，返回第几页数据。默认值为**1**，表示返回第1页数据。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"RegionId","in":"query","schema":{"title":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"title":"阿里云资源组ID。","description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RuleContent","in":"query","schema":{"title":"场景联动规则内容。格式详情请参见[场景联动规则编写说明](~~171059~~)。","description":"规则值前缀匹配。","type":"string","required":false,"example":"1.1.1.1"}},{"name":"RuleMatchType","in":"query","schema":{"description":"匹配逻辑取值：\n\n- 精准：exact\n- 正则：regex","type":"string","required":false,"example":"exact"}}],"responses":{"200":{"schema":{"description":"响应数据","type":"object","properties":{"TotalCount":{"title":"查询到的云产品接入总数量。","description":"查询到的云产品接入总数量。","type":"integer","format":"int64","example":"10"},"RequestId":{"title":"本次请求的ID。","description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"Data":{"title":"集群ID。","description":"响应数据。","type":"array","items":{"title":"合规检测结果。","description":"合规检测结果。","type":"object","properties":{"Status":{"title":"规则的状态。取值：\n\n- **1**：表示开启。\n\n- **0**：表示关闭。","description":"规则的状态。取值：\n\n- **1**：表示开启。\n\n- **0**：表示关闭。","type":"string","example":"1"},"ClusterId":{"title":"混合云集群 ID","description":"混合云集群 ID","type":"integer","format":"int64","example":"1099"},"Version":{"title":"并发锁版本号。","description":"版本号。","type":"integer","format":"int64","example":"1"},"ClusterRuleResourceId":{"description":"集群规则资源ID","type":"string","example":"hdbc-clusterrule-*****khzre0ym0w"},"RuleType":{"title":"防护对象命中的规则类型。默认不设置该参数，表示显示全部规则。\n\n- **blacklist**: 表示命中IP黑名单。\n\n- **custom**：表示命中自定义规则。\n\n- **antiscan**: 表示命中扫描防护规则。\n\n- **cc_system**:  表示命中CC防护规则。\n\n- **region_block**: 表示区域封禁。\n","description":"规则类型。取值范围如下：\n- **pullin**：集群引流","type":"string","example":"pullin"},"RuleConfig":{"title":"规则配置信息。","description":"引流规则配置：\n\n- **check_mode** 模式选择 取值：\n  - **all**：全量引流\n  - **part**：指定部分引流\n- **type**：规则匹配类型取值：\n  - **exact**：精准\n  - **regex**：正则\n- **substance**：规则值","type":"string","example":"{\\\"check_mode\\\": \\\"all\\\", \\\"type\\\": \\\"exact\\\", \\\"substance\\\": \\\"122\\\"}"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 10,\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"Status\\\": \\\"1\\\",\\n      \\\"ClusterId\\\": 1099,\\n      \\\"Version\\\": 1,\\n      \\\"ClusterRuleResourceId\\\": \\\"hdbc-clusterrule-*****khzre0ym0w\\\",\\n      \\\"RuleType\\\": \\\"pullin\\\",\\n      \\\"RuleConfig\\\": \\\"{\\\\\\\\\\\\\\\"check_mode\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"all\\\\\\\\\\\\\\\", \\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"exact\\\\\\\\\\\\\\\", \\\\\\\\\\\\\\\"substance\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"122\\\\\\\\\\\\\\\"}\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询混合云集群规则列表"},"DescribeHybridCloudProcessMonitor":{"summary":"查询混合云集群节点应用状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-7mz****hw0u"}},{"name":"Mid","in":"query","schema":{"description":"SDKID。","type":"string","required":true,"example":"2fdb63fea03b173bc9e65c24****d7d5"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"DBF79169-B6A0-5C8E-86B2-CFE3****496E"},"ProcessMonitors":{"description":"应用状态列表","type":"array","items":{"description":"应用状态","type":"object","properties":{"ProcessName":{"description":"服务，取值：\n- **tianqingproxy**： 表示集中管理服务\n- **redis**：表示存储服务\n- **scc**：  表示流量计算服务\n- **keeper**：  表示威胁情报服务\n- **node_exporter**：  表示应用日志上传服务\n- **xagent**：  表示流量检测服务\n- **noproxy**：  表示流量转发服务\n- **xloge**：  表示攻击日志上传服务\n- **ilogtail**：  表示日志采集服务\n- **xlogd**：  表示日志分析服务","type":"string","example":"示例应用名称"},"ProcessStatus":{"description":"运行状态。取值：\n- **0**：异常。\n- **1**：正常。","type":"integer","format":"int64","example":"1"},"Levle":{"description":"状态。取值：\n\n- **normal**：表示正常。\n- **critical**：表示异常。","type":"string","example":"normal"}}}},"TotalCount":{"description":"> 该参数已弃用，不再返回有意义的数据。","type":"integer","format":"int32","example":"已弃用"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"DBF79169-B6A0-5C8E-86B2-CFE3****496E\\\",\\n  \\\"ProcessMonitors\\\": [\\n    {\\n      \\\"ProcessName\\\": \\\"示例应用名称\\\",\\n      \\\"ProcessStatus\\\": 1,\\n      \\\"Levle\\\": \\\"normal\\\"\\n    }\\n  ],\\n  \\\"TotalCount\\\": 0\\n}\",\"type\":\"json\"}]","title":"查询混合云集群节点应用状态"},"DescribeHybridCloudResourceDetail":{"summary":"查询混合云域名详情","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-0xldbqt****"}},{"name":"Domain","in":"query","schema":{"title":"域名","description":"域名","type":"string","required":true,"example":"www.*****.com"}},{"name":"Backend","in":"query","schema":{"title":"回源地址","description":"回源地址","type":"string","required":false,"example":"1.1.XX.XX"}},{"name":"PageNumber","in":"query","schema":{"description":"查询页码，默认值是1。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页显示条数。","type":"integer","format":"int64","required":false,"maximum":"50","example":"10","default":"10"}},{"name":"CnameEnabled","in":"query","schema":{"description":"是否开启公共云容灾。取值：\n\n- **true**：表示开启公共云容灾。\n\n- **false**：表示不开启公共云容灾。","type":"boolean","required":false,"example":"true"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"66A98669-CC6E-4F3E-80A6-3014697B11AE"},"Domain":{"description":"域名信息。","type":"object","properties":{"Status":{"title":"域名状态","description":"资源状态。","type":"integer","format":"int32","example":"1"},"ResourceManagerResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-***aby"},"Uid":{"description":"用户ID。","type":"string","example":"1046011128270720"},"Listen":{"description":"监听信息。","type":"object","properties":{"HttpsPorts":{"description":"HTTPS协议的端口。","type":"array","items":{"description":"HTTPS协议的端口。","type":"integer","format":"int64","example":"443,8443,7443,6443"}},"ProtectionResource":{"description":"要使用的防护资源类型。取值：\n\n- **share**：表示使用共享集群。\n\n- **gslb**：表示使用共享集群智能负载均衡。","type":"string","example":"share"},"CustomCiphers":{"description":"自定义加密套件。","type":"array","items":{"description":"自定义加密套件。","type":"string","example":"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384"}},"TLSVersion":{"description":"TLS的版本。取值：\n\n- **tlsv1**\n\n- **tlsv1.1**\n\n- **tlsv1.2**","type":"string","example":"tlsv1"},"Http2Enabled":{"description":"是否开启HTTP2。取值：\n\n- **true**：表示开启HTTP2。\n\n- **false**：表示不开启HTTP2。","type":"boolean","example":"true"},"CertId":{"description":"证书的ID。","type":"string","example":"19312542-cn-hangzhou"},"CipherSuite":{"description":"加密套件类型。取值：\n\n- **1**：表示添加全部加密套件。\n\n- **2**：表示添加强加密套件。\n\n- **99**：表示添加自定义加密套件。","type":"integer","format":"int32","example":"0"},"EnableTLSv3":{"description":"是否支持TLS1.3版本。取值：\n\n- **true**：表示支持TLS1.3版本。\n\n- **false**：表示不支持TLS1.3版本。","type":"boolean","example":"true"},"IPv6Enabled":{"description":"开启IPv6\t是否开启IPv6。取值：\n\n- **true**：表示开启IPv6。\n\n- **false**：表示不开启IPv6。","type":"boolean","example":"true"},"FocusHttps":{"description":"是否开启HTTPS的强制跳转。取值：\n\n- **true**：表示开启HTTPS的强制跳转。\n\n- **false**：表示不开启HTTPS的强制跳转。","type":"boolean","example":"true"},"XffHeaders":{"description":"设置用于获取客户端IP的自定义字段列表，使用[**\"header1\",\"header2\",……**]格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"array","items":{"description":"设置用于获取客户端IP的自定义字段列表，使用**[\"header1\",\"header2\",……]**格式表示。\n\n> 仅在**XffHeaderMode**取值为2（表示WAF读取请求头中由您设置的自定义字段值作为客户端IP）时，需要设置该参数。","type":"string","example":"[\"test\"]"}},"XffHeaderMode":{"description":"WAF获取客户端真实IP的方式。取值：\n\n- **0**：表示客户端访问流量到WAF前没有经过其他七层代理转发。\n\n- **1**：表示WAF读取请求头中X-Forwarded-For（XFF）字段的第一个值作为客户端IP。\n\n- **2**：表示WAF读取请求头中由您设置的自定义字段值作为客户端IP。","type":"integer","format":"int32","example":"1"},"ExclusiveIp":{"description":"是否支持独享IP。取值：\n- **true**：表示支持。\n\n- **false**：表示不支持。","type":"boolean","example":"true"},"HttpPorts":{"description":"HTTP协议的可用端口列表。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"array","items":{"description":"HTTP协议的可用端口列表。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"integer","format":"int64","example":"80,8080,9080,9081,9082,8182"}}}},"Id":{"description":"id","type":"integer","format":"int64","example":"31323"},"Redirect":{"description":"返回响应头值的规则","type":"object","properties":{"ConnectTimeout":{"description":"连接超时时间：单位毫秒","type":"integer","format":"int64","example":"1"},"Keepalive":{"description":"是否保持长连接。取值：\n\n- **true**（默认）：表示保持长连接。\n\n- **false**：表示不保持长连接。","type":"boolean","example":"true"},"SniEnabled":{"description":"是否开启回源SNI。取值：\n\n- **true**：表示开启回源SNI。\n\n- **false**：表示不开启回源SNI。","type":"boolean","example":"true"},"CnameEnabled":{"description":"是否开启公共云容灾。取值：\n\n- **true**：表示开启公共云容灾。\n\n- **false**：表示不开启公共云容灾。","type":"boolean","example":"true"},"KeepaliveTimeout":{"description":"长连接的空闲超时时间。","type":"integer","format":"int64","example":"1"},"ReadTimeout":{"description":"请求的 read 超时时间。","type":"integer","format":"int64","example":"1"},"Backends":{"description":"源站服务器IP或服务器回源域名。","type":"array","items":{"description":"源站服务器IP或服务器回源域名。","type":"string","example":"1.1.1.1"}},"SniHost":{"description":"SNI扩展字段的自定义值。取值为空表示未自定义SNI值，默认使用请求头中**Host**字段的值作为SNI扩展字段的值。\n\n> 仅在**SniStatus**取值为**1**（表示开启SNI回源）时，返回该参数。","type":"string","example":"eew111"},"FocusHttpBackend":{"description":"是否开启强制HTTP回源。取值：\n\n- **true**：表示开启强制HTTP回源。\n\n- **false**：表示不开启强制HTTP回源。","type":"boolean","example":"true"},"WriteTimeout":{"description":"写超时时长，单位：毫秒。","type":"integer","format":"int64","example":"1"},"RoutingRules":{"description":"混合云转发规则。使用JSON数组转化的字符串格式表示。JSON数组中的每个元素是一个结构体，包含以下字段：\n- **rs**：Array类型 ","type":"string","example":"[{\\\"backupRs\\\":[],\\\"location\\\":\\\"v3-test\\\",\\\"locationId\\\":1148,\\\"rs\\\":[\\\"39.98.217.197\\\",\\\"2.2.2.2\\\"]}]"},"Retry":{"description":"WAF回源失败时，是否重试。取值：\n\n- **true**：表示重试。\n\n- **false**：表示不重试。","type":"boolean","example":"true"},"RequestHeaders":{"description":"HTTP请求头。","type":"array","items":{"description":"指定的自定义请求头部字段。","type":"object","properties":{"Value":{"description":"数值。","type":"string","example":"9506360478730"},"Key":{"description":"标签的Key","type":"string","example":"L2x1ZmZ5L2NvcmUvYXBwcy9tLnl1bmR1bi53YWYuMS9wbHVnaW5z"}}}},"KeepaliveRequests":{"description":"复用长连接的请求个数。取值范围：60~1000，单位：个。\n\n> 开启长连接后，复用多少个长连接。","type":"integer","format":"int64","example":"1000"},"Loadbalance":{"description":"回源时采用的负载均衡算法。取值：\n\n- **iphash**：表示IP Hash算法。\n\n - **roundRobin**：表示轮询算法。\n\n- **leastTime**：表示Least Time算法。","type":"string","example":"iphash"}}},"Domain":{"title":"域名","description":"域名","type":"string","example":"www.*****.com"},"Cname":{"title":"CNAME","description":"CNAME","type":"string","example":"kdmqyi3ck7xogegxpiyfpb0fj21mgkxn.****.com"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-CC6E-4F3E-80A6-3014697B11AE\\\",\\n  \\\"Domain\\\": {\\n    \\\"Status\\\": 1,\\n    \\\"ResourceManagerResourceGroupId\\\": \\\"rg-***aby\\\",\\n    \\\"Uid\\\": \\\"1046011128270720\\\",\\n    \\\"Listen\\\": {\\n      \\\"HttpsPorts\\\": [\\n        0\\n      ],\\n      \\\"ProtectionResource\\\": \\\"share\\\",\\n      \\\"CustomCiphers\\\": [\\n        \\\"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384\\\"\\n      ],\\n      \\\"TLSVersion\\\": \\\"tlsv1\\\",\\n      \\\"Http2Enabled\\\": true,\\n      \\\"CertId\\\": \\\"19312542-cn-hangzhou\\\",\\n      \\\"CipherSuite\\\": 0,\\n      \\\"EnableTLSv3\\\": true,\\n      \\\"IPv6Enabled\\\": true,\\n      \\\"FocusHttps\\\": true,\\n      \\\"XffHeaders\\\": [\\n        \\\"[\\\\\\\"test\\\\\\\"]\\\"\\n      ],\\n      \\\"XffHeaderMode\\\": 1,\\n      \\\"ExclusiveIp\\\": true,\\n      \\\"HttpPorts\\\": [\\n        0\\n      ]\\n    },\\n    \\\"Id\\\": 31323,\\n    \\\"Redirect\\\": {\\n      \\\"ConnectTimeout\\\": 1,\\n      \\\"Keepalive\\\": true,\\n      \\\"SniEnabled\\\": true,\\n      \\\"CnameEnabled\\\": true,\\n      \\\"KeepaliveTimeout\\\": 1,\\n      \\\"ReadTimeout\\\": 1,\\n      \\\"Backends\\\": [\\n        \\\"1.1.1.1\\\"\\n      ],\\n      \\\"SniHost\\\": \\\"eew111\\\",\\n      \\\"FocusHttpBackend\\\": true,\\n      \\\"WriteTimeout\\\": 1,\\n      \\\"RoutingRules\\\": \\\"[{\\\\\\\\\\\\\\\"backupRs\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"location\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"v3-test\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"locationId\\\\\\\\\\\\\\\":1148,\\\\\\\\\\\\\\\"rs\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"39.98.217.197\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"2.2.2.2\\\\\\\\\\\\\\\"]}]\\\",\\n      \\\"Retry\\\": true,\\n      \\\"RequestHeaders\\\": [\\n        {\\n          \\\"Value\\\": \\\"9506360478730\\\",\\n          \\\"Key\\\": \\\"L2x1ZmZ5L2NvcmUvYXBwcy9tLnl1bmR1bi53YWYuMS9wbHVnaW5z\\\"\\n        }\\n      ],\\n      \\\"KeepaliveRequests\\\": 1000,\\n      \\\"Loadbalance\\\": \\\"iphash\\\"\\n    },\\n    \\\"Domain\\\": \\\"www.*****.com\\\",\\n    \\\"Cname\\\": \\\"kdmqyi3ck7xogegxpiyfpb0fj21mgkxn.****.com\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询混合云域名详情"},"DescribeHybridCloudSdkServers":{"summary":"查询混合云SDK列表。","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-i7m2***0b"}},{"name":"Ip","in":"query","allowEmptyValue":true,"schema":{"description":"设备IP。","type":"string","required":false,"example":"1.*.*1。"}},{"name":"HostName","in":"query","schema":{"description":"主机名称。","type":"string","required":false,"example":"online-***wwq"}},{"name":"ClusterName","in":"query","schema":{"description":"集群名称。","type":"string","required":false,"example":"测试集群。"}},{"name":"PageSize","in":"query","schema":{"description":"每页条数，默认为10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"PageNumber","in":"query","schema":{"description":"列表的页码，默认值：1。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"响应信息。","type":"object","properties":{"TotalCount":{"description":"总条数。","type":"integer","format":"int32","example":"5"},"SdkServers":{"description":"SDK信息。","type":"array","items":{"type":"object","properties":{"Status":{"description":"状态。","type":"string","example":"1"},"PullinStatus":{"description":"引流状态。取值范围如下：\n- **on**: 开启\n- **off**: 关闭","type":"string","example":"on"},"ResourceId":{"description":"资源 ID。","type":"string","example":"test-antifaud-2.jqt.wafqax.top-waf"},"Ip":{"description":"IP地址。","type":"string","example":"127.0.0.1"},"CreateTime":{"description":"创建时间的时间戳。","type":"integer","format":"int64","example":"1621428205000"},"UpdateTime":{"description":"更新时间的时间戳。","type":"integer","format":"int64","example":"1719489906000"},"ClusterName":{"description":"集群名称。","type":"string","example":"集群名称"},"Mid":{"description":"SDKID。","type":"string","example":"b11327c21790846374051d5d**83c"},"ProtectionGroupAddress":{"description":"后端服务器的ip地址。","type":"string","example":"1.1.1.1"},"HostName":{"description":"主机名。","type":"string","example":"qsh5-sec-8-fedd**005"}}}},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"3600F008-2E76-5D0B-BC76-EFBD****6D"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 5,\\n  \\\"SdkServers\\\": [\\n    {\\n      \\\"Status\\\": \\\"1\\\",\\n      \\\"PullinStatus\\\": \\\"on\\\",\\n      \\\"ResourceId\\\": \\\"test-antifaud-2.jqt.wafqax.top-waf\\\",\\n      \\\"Ip\\\": \\\"127.0.0.1\\\",\\n      \\\"CreateTime\\\": 1621428205000,\\n      \\\"UpdateTime\\\": 1719489906000,\\n      \\\"ClusterName\\\": \\\"集群名称\\\",\\n      \\\"Mid\\\": \\\"b11327c21790846374051d5d**83c\\\",\\n      \\\"ProtectionGroupAddress\\\": \\\"1.1.1.1\\\",\\n      \\\"HostName\\\": \\\"qsh5-sec-8-fedd**005\\\"\\n    }\\n  ],\\n  \\\"RequestId\\\": \\\"3600F008-2E76-5D0B-BC76-EFBD****6D\\\"\\n}\",\"type\":\"json\"}]","title":"查询混合云SDK列表"},"DescribeHybridCloudSupportRegions":{"summary":"查询接入区域","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-uqm3e3s6x03"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"SupportRegions":{"description":"支持区域列表。","type":"array","items":{"description":"地域ID。取值：\n- **cn-chengdu**：表示西南1（成都）。\n\n- **cn-beijing**：表示华北2（北京）。\n\n- **cn-zhangjiakou**：表示华北3（张家口）。\n\n- **cn-hangzhou**：表示华东1（杭州）。\n\n- **cn-shanghai**：表示华东2（上海）。\n\n- **cn-shenzhen**：表示华南1（深圳）。\n\n- **cn-qingdao**：表示华北1（青岛）。\n\n- **cn-hongkong**：表示中国（香港）。\n\n- **ap-southeast-3**：表示马来西亚（吉隆坡）。\n\n- **ap-southeast-5**：表示印度尼西亚（雅加达）。","type":"string","example":"['cn-hangzhou', 'cn-shanghai', 'cn-beijing']"}},"RequestId":{"description":"请求ID。","type":"string","example":"256959D5-3B45-54CD-A66D-F75F11E8E754"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"SupportRegions\\\": [\\n    \\\"['cn-hangzhou', 'cn-shanghai', 'cn-beijing']\\\"\\n  ],\\n  \\\"RequestId\\\": \\\"256959D5-3B45-54CD-A66D-F75F11E8E754\\\"\\n}\",\"type\":\"json\"}]","title":"查询接入区域"},"DescribeHybridCloudUnsupportPorts":{"summary":"查询混合云不可用的端口列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"178409","abilityTreeNodes":["FEATUREwafR5NU4G"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstanceInfo](~~140857~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"HttpsPorts":{"description":"HTTPS协议的端口列表。 取值为字符串， 多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","example":"443,8443,8021,3443,2443,9011"},"RequestId":{"description":"本次请求的ID。","type":"string","example":"C2E97B3F-1623-4CDF-A7E2-FD9D****027A"},"HttpPorts":{"description":"HTTP协议的可用端口列表。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","example":"80,8080"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"HttpsPorts\\\": \\\"443,8443,8021,3443,2443,9011\\\",\\n  \\\"RequestId\\\": \\\"C2E97B3F-1623-4CDF-A7E2-FD9D****027A\\\",\\n  \\\"HttpPorts\\\": \\\"80,8080\\\"\\n}\",\"type\":\"json\"}]","title":"查询混合云不可用的端口列表"},"ModifyHybridCloudCluster":{"summary":"修改集群信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"124727","abilityTreeNodes":["FEATUREwafR5NU4G"],"autoTest":true},"parameters":[{"name":"Id","in":"query","schema":{"description":"集群ID。","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf-cn-mp9153****"}},{"name":"ClusterName","in":"query","schema":{"description":"集群名称。","type":"string","required":true,"example":"测试集群"}},{"name":"HttpPorts","in":"query","schema":{"description":"HTTP协议的可用端口列表。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","required":true,"example":"80,8080"}},{"name":"HttpsPorts","in":"query","schema":{"description":"HTTPS协议的可用端口列表。  取值为字符串，\n多个端口时，使用**port1,port2,port3**的格式返回。","type":"string","required":true,"example":"443,8443"}},{"name":"AccessMode","in":"query","schema":{"description":"网络接入模式。取值范围如下：\n\n- **internet**：公网接入。\n- **vpc**：专线私网接入。","type":"string","required":true,"example":"internet"}},{"name":"AccessRegion","in":"query","schema":{"description":"专线接入区域。取值范围如下：\n- **cn-hangzhou** : 杭州。\n- **cn-beiijng** : 北京。\n- **cn-shanghai** : 上海。","type":"string","required":false,"example":"cn-beijing"}},{"name":"LogFieldsNotReturned","in":"query","schema":{"description":"回传日志字段。","type":"string","required":false,"example":"测试字段。"}},{"name":"ProtectionServerCount","in":"query","schema":{"description":"集群可添加的防护节点数量。","type":"integer","format":"int32","required":true,"example":"1"}},{"name":"Remark","in":"query","schema":{"description":"备注。","type":"string","required":false,"example":"测试集群备注"}},{"name":"ProxyType","in":"query","schema":{"description":"集群类型。取值范围如下：\n- **cname**：反代集群。\n- **service**：服务化集群。","type":"string","required":false,"example":"service","default":"cname"}},{"name":"RuleStatus","in":"query","schema":{"description":"规则状态。取值范围如下：\n- **on**：开启。\n- **off** ：关闭。","type":"string","required":false,"example":"off"}},{"name":"RuleConfig","in":"query","schema":{"description":"规则配置。","type":"string","required":false,"example":"{\n      \"enable\": true,\n      \"param\": {\n            \"breaker\": {\n                  \"duration\": 1,\n                  \"failed\": 1,\n                  \"recent_failed\": 1\n            },\n            \"disable_protect\": false,\n            \"max_request_body_len\": 1,\n            \"timeout\": 1\n      }\n}"}},{"name":"RuleType","in":"query","schema":{"description":"规则类型。取值范围如下：\n\nbypass ：不做安全检查，直接放行。","type":"string","required":false,"example":"bypass"}},{"name":"ProxyStatus","in":"query","schema":{"description":"代理网关模式。取值范围如下：\n\n- on：开启。\n- off：关闭。","type":"string","required":false,"example":"off","default":"off"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值范围如下：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"description":"响应结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2EFCFE18-78F8-5079-B312-07***48B"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2EFCFE18-78F8-5079-B312-07***48B\\\"\\n}\",\"type\":\"json\"}]","title":"修改集群信息"},"CreateMemberAccounts":{"summary":"多账号统一管理功能中添加WAF成员账号。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"213361","abilityTreeNodes":["FEATUREwaf4WHEC3"]},"parameters":[{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看您当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"SourceIp","in":"query","schema":{"description":"请求源IP。无需填写，系统自动获取。","type":"string","required":false,"example":"1.1.X.X"}},{"name":"MemberAccountIds","in":"query","style":"repeatList","schema":{"description":"需要管理的WAF成员账号ID列表。单次最多可添加 10 个成员账号。","type":"array","items":{"description":"WAF成员账号ID。","type":"string","required":false,"example":"139**********55"},"required":true,"maxItems":20,"minItems":1}}],"responses":{"200":{"schema":{"description":"请求返回消息体。","type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"66A98669-ER12-WE34-23PO-301469*****E"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"66A98669-ER12-WE34-23PO-301469*****E\\\"\\n}\",\"type\":\"json\"}]","title":"添加成员账号"},"ModifyMemberAccount":{"summary":"多账号统一管理中修改成员账号信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"213362","abilityTreeNodes":["FEATUREwaf4WHEC3"]},"parameters":[{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_elasticity**-*******021"}},{"name":"SourceIp","in":"query","schema":{"description":"请求源IP。无需填写，系统自动获取。","type":"string","required":false,"example":"0.0.XX.XX"}},{"name":"MemberAccountId","in":"query","schema":{"description":"已纳管的WAF成员账号ID。","type":"string","required":true,"example":"131**********39"}},{"name":"Description","in":"query","schema":{"description":"WAF成员账号的备注信息。长度为1~256个字符，支持中文、英文、数字、半角句号（.）、下划线（_）、短划线（-）和星号（*）。","type":"string","required":true,"example":"account1"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"修改成员账号"},"DeleteMemberAccount":{"summary":"多账号统一管理中删除WAF成员账号。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","riskType":"none","chargeType":"free","abilityTreeCode":"213363","abilityTreeNodes":["FEATUREwaf4WHEC3"]},"parameters":[{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_esasdf3****"}},{"name":"SourceIp","in":"query","schema":{"description":"请求源IP。无需填写，系统自动获取。","type":"string","required":false,"example":"0.0.XX.XX"}},{"name":"MemberAccountId","in":"query","schema":{"description":"已纳管的WAF成员账号ID。","type":"string","required":true,"example":"131***********39"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"5ABE714C-8890-5D7E-A08B-45CB650F5473"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5ABE714C-8890-5D7E-A08B-45CB650F5473\\\"\\n}\",\"type\":\"json\"}]","title":"删除成员账号"},"DescribeAccountDelegatedStatus":{"summary":"多账号统一管理中，查询用户是否是WAF的委派管理员。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"213360","abilityTreeNodes":["FEATUREwaf4WHEC3"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"RegionId","in":"query","schema":{"type":"string","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"type":"object","properties":{"AccountId":{"description":"阿里云账号ID。","type":"string","example":"10***********34"},"RequestId":{"description":"本次请求的ID。","type":"string","example":"8161375D-5958-5627-BFDE-DF1458A73E87"},"DelegatedStatus":{"description":"是否是WAF的委派管理员。\n\n- **true**：表示WAF的委派管理员。\n\n- **false**：表示非WAF的委派管理员。","type":"boolean","example":"true"},"AccountName":{"description":"阿里云账号名称，当账号为委派管理员时返回该信息。","type":"string","example":"account_test"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"8161375D-5958-5627-BFDE-DF1458A73E87\\\",\\n  \\\"DelegatedStatus\\\": true,\\n  \\\"AccountName\\\": \\\"account_test\\\",\\n  \\\"AccountId\\\": \\\"10***********34\\\"\\n}\",\"type\":\"json\"}]","title":"查询用户是否是WAF委派管理员"},"DescribeMemberAccounts":{"summary":"多账号统一管理中，查询WAF所有成员账号信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"213364","abilityTreeNodes":["FEATUREwaf4WHEC3"]},"parameters":[{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"SourceIp","in":"query","schema":{"description":"请求源IP。无需填写，系统自动获取。","type":"string","required":false,"example":"0.0.XX.XX"}},{"name":"AccountStatus","in":"query","schema":{"description":"要查询指定状态的成员账号。您可以设置该参数，查询某个状态的成员账号。\n\n- **enabled**：表示成员账号为已纳管状态。\n\n- **disabled**：表示成员账号为未纳管状态。\n\n- **disabling**：表示成员账号为删除中状态。","type":"string","required":false,"example":"enabled"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"50C4A80D-D46C-57E0-9A7D-03C078474852"},"AccountInfos":{"description":"查询到的成员账号信息。","type":"array","items":{"type":"object","properties":{"AccountId":{"description":"成员账号ID。","type":"string","example":"169************21"},"AccountName":{"description":"成员账号名称。","type":"string","example":"ipflgmqqnbjg"},"AccountStatus":{"description":"成员账号的状态。\n\n- **enabled**：表示成员账号为已纳管状态。\n\n- **disabled**：表示成员账号为未纳管状态。\n\n- **disabling**：表示成员账号为删除中状态。","type":"string","example":"enabled"},"Description":{"description":"成员账号的备注信息。","type":"string","example":"test"},"GmtCreate":{"description":"成员账号的添加时间。","type":"integer","format":"int64","example":"1683367751000"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"50C4A80D-D46C-57E0-9A7D-03C078474852\\\",\\n  \\\"AccountInfos\\\": [\\n    {\\n      \\\"AccountId\\\": \\\"169************21\\\",\\n      \\\"AccountName\\\": \\\"ipflgmqqnbjg\\\",\\n      \\\"AccountStatus\\\": \\\"enabled\\\",\\n      \\\"Description\\\": \\\"test\\\",\\n      \\\"GmtCreate\\\": 1683367751000\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询所有成员账号"},"ChangeResourceGroup":{"summary":"修改防护对象所属的资源组。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"164132","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"ResourceId","in":"query","schema":{"description":"要操作的WAF资源的ID。","type":"string","required":true,"example":"demo.aliyun.com-waf"}},{"name":"NewResourceGroupId","in":"query","schema":{"description":"新的资源组ID，可在资源组控制台查看可用资源组。","type":"string","required":true,"example":"rg-aek2mcq***"}},{"name":"ResourceType","in":"query","schema":{"description":"资源类型定义。固定取值：defenseresource","type":"string","required":true,"example":"defenseresource"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"本次请求的ID。","type":"string","example":"0A916D48-D206-5654-8D37-***"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0A916D48-D206-5654-8D37-***\\\"\\n}\",\"type\":\"json\"}]","title":"更换资源组"},"ListTagKeys":{"summary":"查询标签键。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","riskType":"none","chargeType":"free","abilityTreeCode":"164269","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"地域","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"NextToken","in":"query","schema":{"title":"下一个查询开始Token","description":"下一个查询开始Token。","type":"string","required":false,"example":"caeba0bbb2be03f84eb48b699f0*****"}},{"name":"ResourceType","in":"query","schema":{"title":"资源类型","description":"资源类型定义。取值：ALIYUN::WAF::DEFENSERESOURCE","type":"string","required":true,"example":"ALIYUN::WAF::DEFENSERESOURCE"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3prepaid_public_cn-wwo****iw02"}}],"responses":{"200":{"schema":{"type":"object","properties":{"NextToken":{"title":"下一个查询开始Token，NextToken为空说明没有下一个","description":"下一个查询开始Token，NextToken为空说明没有下一个。","type":"string","example":"caeba0bbb2be03f84eb48b699f0*****"},"RequestId":{"description":"本次请求的ID。","type":"string","example":"8CB8BB88-24C7-5608-BF5E-4DCA****CF1C"},"Keys":{"title":"资源列表","description":"标签键及类型列表。","type":"array","items":{"type":"object","properties":{"Key":{"title":"标签键","description":"标签键。","type":"string","example":"demoTagKey"},"Category":{"description":"标签类型。取值：\n\n- custom：自定义标签。\n- system：系统标签。","type":"string","example":"custom"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"caeba0bbb2be03f84eb48b699f0*****\\\",\\n  \\\"RequestId\\\": \\\"8CB8BB88-24C7-5608-BF5E-4DCA****CF1C\\\",\\n  \\\"Keys\\\": [\\n    {\\n      \\\"Key\\\": \\\"demoTagKey\\\",\\n      \\\"Category\\\": \\\"custom\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询标签键"},"UntagResources":{"summary":"为指定的一个或多个资源统一解绑并删除标签。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"delete","abilityTreeCode":"164020","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"地域","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ResourceType","in":"query","schema":{"title":"资源类型","description":"资源类型定义。取值：ALIYUN::WAF::DEFENSERESOURCE","type":"string","required":true,"example":"ALIYUN::WAF::DEFENSERESOURCE"}},{"name":"All","in":"query","schema":{"title":"是否全部删除，只针对TagKey.N为空时有效。 取值范围： true  false True False  默认是 false","description":"是否解绑指定资源组或资源目录成员的全部标签。取值：\n- false（默认值）：否\n- true：是","type":"boolean","required":false,"example":"false"}},{"name":"ResourceId","in":"query","style":"repeatList","schema":{"title":"资源ID，最多50个子项","description":"资源ID列表，最多50个子项","type":"array","items":{"description":"资源ID。","type":"string","required":false,"example":"demo.xxxxaliyundoc.com-waf"},"required":true,"maxItems":51}},{"name":"TagKey","in":"query","style":"repeatList","schema":{"title":"标签键，最多20个子项","description":"标签键列表，最多20个子项。","type":"array","items":{"description":"标签键。","type":"string","required":false,"example":"demoTagKey"},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"7A4B8DB1-A8B0-5362-A65D-6A55****07C5"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7A4B8DB1-A8B0-5362-A65D-6A55****07C5\\\"\\n}\",\"type\":\"json\"}]","title":" 解绑并删除标签"},"ListTagResources":{"summary":"查询资源已经绑定的标签。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","abilityTreeCode":"164021","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"地域","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"NextToken","in":"query","schema":{"title":"下一个查询开始Token","description":"下一个查询开始Token","type":"string","required":false,"example":"caeba0bbb2be03f84eb48b699f0*****"}},{"name":"ResourceType","in":"query","schema":{"title":"资源类型","description":"资源类型定义。取值：ALIYUN::WAF::DEFENSERESOURCE","type":"string","required":true,"example":"ALIYUN::WAF::DEFENSERESOURCE"}},{"name":"ResourceId","in":"query","style":"repeatList","schema":{"title":"资源ID,最多 50个子项","description":"资源ID,最多 50个子项。","type":"array","items":{"description":"资源ID。","type":"string","required":false,"example":"demo.xxxaliyundoc.com-waf"},"required":false,"maxItems":51}},{"name":"Tag","in":"query","style":"repeatList","schema":{"title":"标签列表，最多包含20个子项","description":"标签列表，最多包含20个子项","type":"array","items":{"type":"object","properties":{"Key":{"title":"标签键","description":"标签键。","type":"string","required":false,"example":"Tagkey1"},"Value":{"title":"标签值","description":"标签值。","type":"string","required":false,"example":"TagValue1"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"NextToken":{"title":"下一个查询开始Token，NextToken为空说明没有下一个","description":"下一个查询开始Token，NextToken为空说明没有下一个","type":"string","example":"caeba0bbb2be03f84eb48b699f0*****"},"RequestId":{"description":"请求ID。","type":"string","example":"716E64DA-044F-51C7-B528-2FBF****AE4F"},"TagResources":{"title":"资源列表","description":"资源列表","type":"array","items":{"type":"object","properties":{"ResourceType":{"title":"资源类型","description":"资源类型定义。固定取值：ALIYUN::WAF::DEFENSERESOURCE","type":"string","example":"ALIYUN::WAF::DEFENSERESOURCE"},"TagValue":{"title":"标签值","description":"资源的标签值。","type":"string","example":"TayValue1"},"ResourceId":{"title":"资源ID","description":"资源 ID。","type":"string","example":"c754d2a4-28f1-46df-b557-9586173a****"},"TagKey":{"title":"标签键","description":"资源的标签键。","type":"string","example":"TagKey1"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"caeba0bbb2be03f84eb48b699f0*****\\\",\\n  \\\"RequestId\\\": \\\"716E64DA-044F-51C7-B528-2FBF****AE4F\\\",\\n  \\\"TagResources\\\": [\\n    {\\n      \\\"ResourceType\\\": \\\"ALIYUN::WAF::DEFENSERESOURCE\\\",\\n      \\\"TagValue\\\": \\\"TayValue1\\\",\\n      \\\"ResourceId\\\": \\\"c754d2a4-28f1-46df-b557-9586173a****\\\",\\n      \\\"TagKey\\\": \\\"TagKey1\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询资源已经绑定的标签"},"ListTagValues":{"summary":"查询指定标签键对应的标签值。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"164272","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"NextToken","in":"query","schema":{"title":"下一个查询开始Token","description":"下一个查询开始Token","type":"string","required":false,"example":"caeba0bbb2be03f84eb48b699f0*****\n"}},{"name":"ResourceType","in":"query","schema":{"title":"资源类型","description":"资源类型定义。固定取值：ALIYUN::WAF::DEFENSERESOURCE","type":"string","required":true,"example":"ALIYUN::WAF::DEFENSERESOURCE"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v2_public_cn-lbj****x10g"}},{"name":"Key","in":"query","schema":{"description":"标签键。","type":"string","required":true,"example":"demoKey"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-aekzwwk****cv5i"}}],"responses":{"200":{"schema":{"type":"object","properties":{"NextToken":{"title":"下一个查询开始Token，NextToken为空说明没有下一个","description":"下一个查询开始Token，NextToken为空说明没有下一个。","type":"string","example":"caeba0bbb2be03f84eb48b699f0*****\n"},"RequestId":{"description":"请求ID。","type":"string","example":"705114BB-EAEF-5CC4-8837-F1D4****BB5B"},"Values":{"title":"资源列表","description":"标签值列表。","type":"array","items":{"description":"标签值","type":"string","example":"TagValue1"}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"caeba0bbb2be03f84eb48b699f0*****\\\\n\\\",\\n  \\\"RequestId\\\": \\\"705114BB-EAEF-5CC4-8837-F1D4****BB5B\\\",\\n  \\\"Values\\\": [\\n    \\\"TagValue1\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询指定标签键对应的标签值"},"TagResources":{"summary":"指定一个或多个资源创建并绑定标签。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"create","abilityTreeCode":"164018","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"地域","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ResourceType","in":"query","schema":{"title":"资源类型","description":"资源类型定义。取值：ALIYUN::WAF::DEFENSERESOURCE","type":"string","required":true,"example":"ALIYUN::WAF::DEFENSERESOURCE"}},{"name":"ResourceId","in":"query","style":"repeatList","schema":{"title":"资源ID,最多 50个子项","description":"资源ID,最多 50个子项","type":"array","items":{"description":"资源ID。","type":"string","required":false,"example":"demo.xxxaliyundoc.com-waf"},"required":true,"maxItems":51}},{"name":"Tag","in":"query","style":"repeatList","schema":{"title":"标签列表，最多包含20个子项","description":"标签列表，最多包含20个子项","type":"array","items":{"type":"object","properties":{"Key":{"title":"标签键","description":"标签键。","type":"string","required":false,"example":"demoTagKey"},"Value":{"title":"标签值","description":"标签值。","type":"string","required":false,"example":"demoTagValue"}},"required":false},"required":true,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"57F8460F-8A62-5D79-8ED5-653C****0C6B"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"57F8460F-8A62-5D79-8ED5-653C****0C6B\\\"\\n}\",\"type\":\"json\"}]","title":"为指定的资源创建并绑定标签"},"DescribeApisecLogDeliveries":{"summary":"查询API安全日志订阅列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"224407","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3_public_cn-uqm2z****0a\n"}},{"name":"RegionId","in":"query","schema":{"type":"string","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2EFCFE18-78F8-5079-B312-07***48B"},"DeliveryConfigs":{"description":"日志订阅列表。","type":"array","items":{"description":"日志订阅信息。","type":"object","properties":{"AssertKey":{"description":"日志订阅类型。取值：\n\n- **risk**：表示风险信息。\n- **event**：表示攻击事件信息。\n- **asset**：表示资产信息。","type":"string","example":"risk"},"Status":{"description":"API安全日志订阅开启状态。取值：\n\n- **true**：表示开启。\n\n- **false**：表示关闭。","type":"boolean","example":"true"},"LogStoreName":{"description":"日志服务SLS日志库LogStore的名称。","type":"string","example":"apisec-logstore***\n"},"ProjectName":{"description":"日志服务SLS的Project的名称。","type":"string","example":"apisec-project-14316572********"},"LogRegionId":{"description":"日志存储地域ID。","type":"string","example":"cn-hangzhou"}}}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2EFCFE18-78F8-5079-B312-07***48B\\\",\\n  \\\"DeliveryConfigs\\\": [\\n    {\\n      \\\"AssertKey\\\": \\\"risk\\\",\\n      \\\"LogRegionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"ProjectName\\\": \\\"apisec-project-14316572********\\\",\\n      \\\"LogStoreName\\\": \\\"apisec-logstore***\\\\n\\\",\\n      \\\"Status\\\": true\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询API安全日志订阅列表"},"DescribeApisecSlsLogStores":{"summary":"查询日志服务SLS中以apisec-开头的LogStore列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"224413","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)，查看当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3_public_cn-uqm2z****0a"}},{"name":"LogRegionId","in":"query","schema":{"description":"日志存储地域ID。\n\n\n> 您可以通过调用[DescribeUserSlsLogRegions](~~2712598~~)接口查询用户可用的日志存储地域。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ProjectName","in":"query","schema":{"description":"日志服务SLS的Project的名称。","type":"string","required":true,"example":"apisec-project-14316572********"}},{"name":"RegionId","in":"query","schema":{"type":"string","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0\n"},"LogStores":{"description":"日志服务SLS的日志库LogStore列表。","type":"array","items":{"description":"日志服务SLS的日志库LogStore名称。","type":"string","example":"apisec-logstore***"}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\\n\\\",\\n  \\\"LogStores\\\": [\\n    \\\"apisec-logstore***\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询日志服务SLS的LogStore列表"},"DescribeApisecSlsProjects":{"summary":"查询日志服务SLS中以apisec-开头的Project列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"224410","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_v3_public_cn-uqm2z****0a"}},{"name":"LogRegionId","in":"query","schema":{"description":"日志存储地域ID。\n\n\n> 您可以通过调用[DescribeUserSlsLogRegions](~~2712598~~)接口查询用户可用的日志存储地域。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"RegionId","in":"query","schema":{"type":"string","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19****5EB0"},"Projects":{"description":"日志服务SLS的Project列表。","type":"array","items":{"description":"日志服务SLS的Project名称。","type":"string","example":"apisec-project-14316572********\n"}}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19****5EB0\\\",\\n  \\\"Projects\\\": [\\n    \\\"apisec-project-14316572********\\\\n\\\"\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询日志服务SLS的Project列表"},"ModifyApisecLogDelivery":{"summary":"修改API安全日志订阅。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"224402","abilityTreeNodes":["FEATUREwafJYSA2F"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例ID。\n\n> 您可以通过调用[DescribeInstance](~~433756~~)接口查看当前WAF实例ID。","type":"string","required":true,"example":"waf_v3_public_cn-uqm2z****0a"}},{"name":"AssertKey","in":"query","schema":{"description":"日志订阅类型。取值：\n\n- **risk**：表示风险信息。\n- **event**：表示攻击事件信息。\n- **asset**：表示资产信息。","type":"string","required":true,"example":"risk"}},{"name":"LogRegionId","in":"query","schema":{"description":"日志存储地域ID。\n\n\n> 您可以通过调用[DescribeUserSlsLogRegions](~~2712598~~)接口查询用户可用的日志存储地域。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ProjectName","in":"query","schema":{"description":"日志服务SLS的Project的名称。\n\n> API安全日志仅支持投递到以apisec-开头的Project中。","type":"string","required":true,"example":"apisec-project-14316572********"}},{"name":"LogStoreName","in":"query","schema":{"description":"日志服务SLS日志库LogStore的名称。\n\n> API安全日志仅支持投递到以apisec-开头的LogStore中。","type":"string","required":true,"example":"apisec-logstore***"}},{"name":"RegionId","in":"query","schema":{"type":"string","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F35F45B0-5D6B-4238-BE02-A62D****E840"}}}}},"eventInfo":{"enable":false,"eventNames":[]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F35F45B0-5D6B-4238-BE02-A62D****E840\\\"\\n}\",\"type\":\"json\"}]","title":"修改API安全日志订阅"},"ModifyPauseProtectionStatus":{"summary":"修改WAF防护状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"222985","abilityTreeNodes":["FEATUREwafNZKQ0J"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n> 您可以调用[DescribeInstance](~~433756~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"PauseStatus","in":"query","schema":{"description":"暂停WAF防护状态。\n\n- **0（默认）**：表示未暂停WAF防护。\n- **1**：表示已暂停WAF防护。","type":"integer","format":"int32","required":true,"example":"0"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"D7861F61-*****-******-D5EB0"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-*****-******-D5EB0\\\"\\n}\",\"type\":\"json\"}]","title":"修改WAF防护状态"},"DescribeCustomBaseRuleCompileResult":{"summary":"查询自定义正则规则编译结果。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"228452","abilityTreeNodes":["FEATUREwaf1LM6V0"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstance](~~433756~~)获取当前WAF实例的ID。","type":"string","required":true,"example":"waf_cdnsdf3****"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"RegionId","in":"query","schema":{"description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"description":"自定义正则编译结果","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"58FDF266-3D56-5DE8-91E0-96A26BAB****"},"Result":{"description":"编译结果，取值：\n- **success**：表示编译成功。\n- **compiling**：表示编译中。\n- **failed**：表示编译失败。","type":"string","example":"success"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"58FDF266-3D56-5DE8-91E0-96A26BAB****\\\",\\n  \\\"Result\\\": \\\"success\\\"\\n}\",\"type\":\"json\"}]","title":"查询自定义正则规则编译结果"},"DescribeChargeResult":{"summary":"查询WAF计价模块的计价结果。","methods":["get","post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"255326","abilityTreeNodes":["FEATUREwafA15E7F"],"tenantRelevance":"publicInformation"},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"title":"阿里云资源组ID。","description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"PayType","in":"query","schema":{"title":"实例的付费类型。取值：\n- **POSTPAY**：表示按量付费 WAF 实例。","description":"实例的付费类型。取值：\n- **POSTPAY**：表示按量付费 WAF 实例。","type":"string","required":true,"example":"POSTPAY"}},{"name":"ChargeCycle","in":"query","schema":{"title":"计算的周期，取值：\n- **Year**：表示计算1年的计费结果。\n- **Month**：表示计算1个月的计费结果。\n- **Day**：表示计算1天的计费结果。","description":"计算的周期，取值：\n- **Year**：表示计算1年的计费结果。\n- **Month**：表示计算1个月的计费结果。\n- **Day**：表示计算1天的计费结果。","type":"string","required":false,"example":"Day","default":"Day"}},{"name":"ChargeModules","in":"query","style":"flat","schema":{"title":"需要计算的计费模块信息。","description":"需要计算的计费模块信息列表。","type":"array","items":{"description":"需要计算的计费模块信息。","type":"object","properties":{"ModuleCode":{"title":"计价模块标识。","description":"计价模块标识。","type":"string","required":false,"example":"domainCount"},"Usage":{"title":"计价模块的用量。","description":"计价模块的用量。","type":"integer","format":"int64","required":false,"example":"10"}},"required":false},"required":true}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"title":"本次请求的ID。","description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"TotalSeCu":{"title":"计算的计价模块中的SeCU总数量。","description":"计算的SeCU总数量。","type":"number","format":"double","example":"1080"},"ModuleDetails":{"title":"计价模块的计算结果信息。","description":"计算结果信息。","type":"array","items":{"title":"单个计价模块的计算结果信息。","description":"计价模块的计算结果信息。","type":"object","properties":{"ModuleCode":{"title":"计价模块标识。","description":"计价模块标识。","type":"string","example":"domainCount"},"SeCu":{"title":"计价模块的SeCU数量。","description":"计价模块的SeCU数量。","type":"number","format":"double","example":"1080"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"TotalSeCu\\\": 1080,\\n  \\\"ModuleDetails\\\": [\\n    {\\n      \\\"ModuleCode\\\": \\\"domainCount\\\",\\n      \\\"SeCu\\\": 1080\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询WAF计价模块的计价结果"},"DescribeChargeModule":{"summary":"查询WAF计价模块信息。","methods":["get","post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"255326","abilityTreeNodes":["FEATUREwafA15E7F"],"tenantRelevance":"publicInformation"},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","description":"WAF实例所属地域。取值：\n\n- **cn-hangzhou**：表示中国内地。\n\n- **ap-southeast-1**：表示非中国内地。","type":"string","required":false,"example":"cn-hangzhou","default":"cn-hangzhou"}},{"name":"ResourceManagerResourceGroupId","in":"query","schema":{"title":"阿里云资源组ID。","description":"阿里云资源组ID。","type":"string","required":false,"example":"rg-acfm***q"}},{"name":"PayType","in":"query","schema":{"title":"实例的付费类型。取值：\n- **POSTPAY**：表示按量付费 WAF 实例。\n","description":"实例的付费类型。取值：\n- **POSTPAY**：表示按量付费 WAF 实例。\n","type":"string","required":true,"example":"POSTPAY"}}],"responses":{"200":{"schema":{"description":"请求结果。","type":"object","properties":{"RequestId":{"title":"本次请求的ID。","description":"本次请求的ID。","type":"string","example":"D7861F61-5B61-46CE-A47C-6B19160D5EB0"},"ChargeModules":{"description":"WAF计价模块信息列表。","type":"array","items":{"description":"WAF计价模块信息。","type":"object","properties":{"ModuleCode":{"title":"计费模块标识。","description":"计价模块标识。取值：\n- **domainCount**：表示CNAME 接入域名数。\n- **qps**：表示QPS峰值。\n- **request**：表示基础流量费。\n- **ipBlacklistRuleCount**：表示IP黑名单规则数量。\n- **customAclBaseRuleCount**：表示自定义规则中基础规则的数量。\n- **customAclAdvanceRuleCount**：表示自定义规则中高级规则的数量。\n- **antiScanRuleCount**：表示扫描防护规则的数量。\n- **customResponseRuleCount**：表示扫描防护规则的数量。\n- **ipv6**：表示IPv6。\n- **gslb**：表示智能负载均衡。\n- **exclusiveIpCount**：表示独享IP的数量。\n- **ccRuleCount**：表示CC防护规则的数量。\n- **regionBlockRuleCount**：表示区域封禁规则的数量。\n- **tamperproofRuleCount**：表示网页防篡改规则的数量。\n- **dlpRuleCount**：表示信息泄漏防护规则的数量。\n- **botTraffic**：表示Bot管理流量费。\n- **aiWhiteListTemplateCount**：表示智能白名单模版的数量。\n- **apisecResourceCount**：表示API安全开启防护对象的数量。\n- **apisecTraffic**：表示API安全流量费。\n- **compliance**：表示协议合规模版的数量。\n- **riskTraffic**：表示Bot管理的风险识别命中次数。\n- **assetStatus**：表示资产中心。\n- **nonPort**：表示非标端口。\n- **customAclCaptcha**：表示自定义规则滑块的次数。\n- **wafBaseTemplateCount**：表示Web 核心防护规则的数量。\n- **instanceFee**：表示WAF实例费。\n- **spikeThrottleRuleCount**：表示洪峰限流规则的数量。\n- **botWebTemplateCount**：表示Bot管理中Web防护模板的数量。\n- **botAppTemplateCount**：表示Bot管理中App防护模板的数量。\n- **customAclBotRuleCount**：表示Bot管理中高级自定义规则的数量。","type":"string","example":"domainCount"},"PeriodType":{"title":"计费模块的计费类型，取值：\n- **Hour**：表示小时计费。","description":"计费模块的计费类型，取值：\n- **Hour**：表示小时计费。","type":"string","example":"Hour"},"UsageType":{"title":"计费模块的计费单位，取值：\n- **template**：表示模版。\n- **qps**：表示qps。\n- **domain**：表示域名。\n- **rule**：表示规则。\n- **resource**：表示防护对象。\n- **reqest**：表示请求。\n- **function**：表示功能启用。\n","description":"计费模块的用量类型，取值：\n- **template**：表示模版。\n- **qps**：表示qps。\n- **domain**：表示域名。\n- **rule**：表示规则。\n- **ip**：表示ip。\n- **resource**：表示防护对象。\n- **reqest**：表示请求。\n- **function**：表示功能启用。\n- **time**：表示次数。","type":"string","example":"domain"},"UsageUnitFactor":{"title":"计费模块的计费单位系数。","description":"计费模块的计费单位系数。\n\n> 计费单位系数 **UsageUnitFactor** 乘以用量类型 **UsageType** 组成模块的计费单位。","type":"integer","format":"int32","example":"1"},"ChargeMode":{"title":"计费模块的定价模式，取值：\n- **NORMAL_PRICE**：表示阶梯定价。\n- **STEP_ACCUMULATION**：表示阶梯定价。","description":"计费模块的定价模式，取值：\n- **NORMAL_PRICE**：表示阶梯定价。\n- **STEP_ACCUMULATION**：表示阶梯定价。","type":"string","example":"NORMAL_PRICE"},"ChargeModeDetails":{"title":"计费模块的定价详细信息。","description":"计费模块的定价详细信息。","type":"array","items":{"title":"计费模块的定价详细信息，以一系列参数构造的 JSON 格式转化成字符串。","description":"计费模块的定价详细信息，以一系列参数构造的 JSON 格式转化成字符串。\n\n>当定价模式 **ChargeMode** 为正常定价 **NORMAL_PRICE**时，JSON中仅有计价模块的cu数量。\n>- 当定价模式 **ChargeMode** 为阶梯定价 **STEP_ACCUMULATION**时，JSON中用range字段表示计价的阶梯信息。","type":"string","example":"{\n\"cu\": 5.0,\n\"range\": {\n\"type\": \"lcrc\", \n      \"min\": \"2\",\n      \"max\": \"10\"\n  }\n}"}}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7861F61-5B61-46CE-A47C-6B19160D5EB0\\\",\\n  \\\"ChargeModules\\\": [\\n    {\\n      \\\"ModuleCode\\\": \\\"domainCount\\\",\\n      \\\"PeriodType\\\": \\\"Hour\\\",\\n      \\\"UsageType\\\": \\\"domain\\\",\\n      \\\"UsageUnitFactor\\\": 1,\\n      \\\"ChargeMode\\\": \\\"NORMAL_PRICE\\\",\\n      \\\"ChargeModeDetails\\\": [\\n        \\\"{\\\\n\\\\\\\"cu\\\\\\\": 5.0,\\\\n\\\\\\\"range\\\\\\\": {\\\\n\\\\\\\"type\\\\\\\": \\\\\\\"lcrc\\\\\\\", \\\\n      \\\\\\\"min\\\\\\\": \\\\\\\"2\\\\\\\",\\\\n      \\\\\\\"max\\\\\\\": \\\\\\\"10\\\\\\\"\\\\n  }\\\\n}\\\"\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询WAF计价模块信息"}},"endpoints":[{"regionId":"cn-hangzhou","endpoint":"wafopenapi.cn-hangzhou.aliyuncs.com"},{"regionId":"ap-southeast-1","endpoint":"wafopenapi.ap-southeast-1.aliyuncs.com"}]}