{"version":"1.0","info":{"style":"ROA","product":"ContactCenterAI","version":"2024-06-03"},"directories":["RunCompletion","RunCompletionMessage","AnalyzeConversation","GetTaskResult","CreateTask"],"components":{"schemas":{}},"apis":{"RunCompletion":{"summary":"CCAI服务面API","path":"/{workspaceId}/ccai/app/{appId}/completion","methods":["post"],"schemes":["http","https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json","application/octet-stream"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-ik******RVYCKzt\n"}},{"name":"appId","in":"path","schema":{"description":"","type":"string","required":true,"example":"097d65c9c7004f8dad2b454850ac232b"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"Dialogue":{"type":"object","properties":{"Sentences":{"type":"array","items":{"type":"object","properties":{"ChatId":{"type":"string"},"Role":{"type":"string","required":true,"example":"user","default":"user","enum":["user","agent","system"]},"Text":{"type":"string","required":true}}}},"SessionId":{"description":"","type":"string","required":false,"example":"d25zc9c7004f8dad2b454d"}},"required":true},"Fields":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"Code":{"description":"","type":"string","required":false,"example":"phoneNumber"},"Desc":{"description":"","type":"string","required":false,"example":""},"EnumValues":{"type":"array","items":{"type":"object","properties":{"Desc":{"type":"string"},"EnumValue":{"type":"string","required":true}}}},"Name":{"description":"","type":"string","required":true,"example":""}},"required":false},"required":false},"ModelCode":{"description":"","type":"string","required":false,"enumValueTitles":{"ccai-72b":"ccai-72b","ccai-14b":"ccai-14b"},"example":"ccai-14b","default":"tyxmTurbo","enum":["ccai-14b","ccai-72b"]},"ServiceInspection":{"type":"object","properties":{"InspectionContents":{"type":"array","items":{"type":"object","properties":{"Content":{"type":"string"},"Title":{"type":"string","required":true}}}},"InspectionIntroduction":{"type":"string"},"SceneIntroduction":{"type":"string"}}},"Stream":{"description":"","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"false","default":"false"},"TemplateIds":{"description":"","type":"array","items":{"description":"","type":"integer","format":"int64","required":false,"example":"10375"},"required":true}},"required":false}}],"responses":{"200":{"schema":{"description":"","type":"object","properties":{"FinishReason":{"type":"string"},"RequestId":{"description":"","type":"string","example":"17204B98-xxxx-4F9A-8464-2446A84821CA\n"},"Text":{"type":"string"}}}}},"errorCodes":{"400":[{"errorCode":"CCAI.InvalidParam.NotExist","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"CCAI.Throttling.Qpm","errorMessage":"Trigger QPM flow restriction. Please purchase higher QPM for paid API. If free API has special requirements, please contact us through DingTalk group (62730018475)."},{"errorCode":"CCAI.Throttling.Qps","errorMessage":"Trigger current QPS limit, pay API please buy higher QPS, the free API if you have special requirements, please contact us through the DingTalk group (62730018475)."},{"errorCode":"CCAI.ParamInvalid.IllegalParamValue","errorMessage":"The parameter value of the request API is illegal %s."}],"403":[{"errorCode":"CCAI.IllegalPermission.NoAuth","errorMessage":"User not authorized to operate on the specified resource."},{"errorCode":"CCAI.ParamNotfound.MissParam","errorMessage":"Parameter verification failed, The specified parameter %s is missing."},{"errorCode":"CCAI.TenantPermission.NoAuth","errorMessage":"The current account does not have the permission to specify the business space. Please authorize the business space permission."}],"500":[{"errorCode":"CCAI.InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"FinishReason\\\": \\\"stop\\\",\\n  \\\"RequestId\\\": \\\"17204B98-xxxx-4F9A-8464-2446A84821CA\\\\n\\\",\\n  \\\"Text\\\": \\\"这段对话似乎是客服与客户之间关于一个服务或产品的讨论，但具体内容难以明确理解，因为对话中的言语比较零散和抽象。\\\\n\\\"\\n}\",\"type\":\"json\"}]"},"RunCompletionMessage":{"summary":"CCAI服务面API","path":"/{workspaceId}/ccai/app/{appId}/completion_message","methods":["post"],"schemes":["http","https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json","application/octet-stream"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-ik******RVYCKzt\n"}},{"name":"appId","in":"path","schema":{"description":"","type":"string","required":true,"example":"097d65c9c7004f8dad2b454850ac232b"}},{"name":"body","in":"body","style":"json","schema":{"description":"schema of request body","type":"object","properties":{"Messages":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"Content":{"description":"","type":"string","required":true,"example":""},"Role":{"description":"","type":"string","required":true,"example":"user","enum":["user","assistant","system","function"]}},"required":false},"required":true},"ModelCode":{"description":"","type":"string","required":false,"example":"ccai-14b","default":"tyxmTurbo","enum":["ccai-14b","ccai-72b"]},"Stream":{"description":"","type":"boolean","required":false,"example":"false","default":"false"}},"required":false}}],"responses":{"200":{"schema":{"description":"","type":"object","properties":{"FinishReason":{"type":"string"},"RequestId":{"description":"","type":"string","example":"17204B98-xxxx-4F9A-8464-2446A84821CA\n"},"Text":{"type":"string"}}}}},"errorCodes":{"400":[{"errorCode":"CCAI.InvalidParam.NotExist","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"CCAI.Throttling.Qpm","errorMessage":"Trigger QPM flow restriction. Please purchase higher QPM for paid API. If free API has special requirements, please contact us through DingTalk group (62730018475)."},{"errorCode":"CCAI.Throttling.Qps","errorMessage":"Trigger current QPS limit, pay API please buy higher QPS, the free API if you have special requirements, please contact us through the DingTalk group (62730018475)."},{"errorCode":"CCAI.ParamInvalid.IllegalParamValue","errorMessage":"The parameter value of the request API is illegal %s."}],"403":[{"errorCode":"CCAI.IllegalPermission.NoAuth","errorMessage":"User not authorized to operate on the specified resource."},{"errorCode":"CCAI.ParamNotfound.MissParam","errorMessage":"Parameter verification failed, The specified parameter %s is missing."},{"errorCode":"CCAI.TenantPermission.NoAuth","errorMessage":"The current account does not have the permission to specify the business space. Please authorize the business space permission."}],"500":[{"errorCode":"CCAI.InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"FinishReason\\\": \\\"stop\\\",\\n  \\\"RequestId\\\": \\\"17204B98-xxxx-4F9A-8464-2446A84821CA\\\\n\\\",\\n  \\\"Text\\\": \\\"这段对话似乎是客服与客户之间关于一个服务或产品的讨论，但具体内容难以明确理解，因为对话中的言语比较零散和抽象。\\\"\\n}\",\"type\":\"json\"}]"},"AnalyzeConversation":{"summary":"根据类型调用大模型","path":"/{workspaceId}/ccai/app/{appId}/analyze_conversation","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/octet-stream","application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-368******3ifum"}},{"name":"appId","in":"path","schema":{"description":"","type":"string","required":true,"example":"a070a49c681f4a95a0f0*********35c"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"categoryTags":{"type":"array","items":{"type":"object","properties":{"tagDesc":{"type":"string","required":false},"tagName":{"type":"string","required":false}}}},"dialogue":{"description":"","type":"object","properties":{"sentences":{"description":"","type":"array","items":{"type":"object","properties":{"role":{"description":"","type":"string","required":true,"example":"user","enum":["user","agent","system"]},"text":{"description":"","type":"string","required":true,"example":""}},"required":true},"required":true},"sessionId":{"description":"","type":"string","required":false,"example":"session-01"}},"required":true},"examples":{"type":"array","items":{"type":"object","properties":{"output":{"type":"string","required":true},"sentences":{"type":"array","items":{"type":"object","properties":{"chatId":{"type":"string","required":false},"role":{"type":"string","required":true,"enum":["user","agent","system"]},"text":{"type":"string","required":true}},"required":true},"required":true}},"required":true}},"fields":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"code":{"description":"","type":"string","required":false,"example":"phoneNumber\n"},"desc":{"description":"","type":"string","required":true,"example":""},"enumValues":{"description":"","type":"array","items":{"type":"object","properties":{"desc":{"description":"","type":"string","required":true,"example":""},"enumValue":{"description":"","type":"string","required":true,"example":""}},"required":true},"required":false},"name":{"description":"","type":"string","required":true,"example":""}},"required":true},"required":false},"modelCode":{"description":"","type":"string","required":false,"example":"tyxmTurbo","default":"tyxmTurbo","enum":["tyxmTurbo","tyxmPlus"]},"resultTypes":{"description":"","type":"array","items":{"description":"","type":"string","required":true,"example":"summary","enum":["summary","title","fields","keywords","service_inspection","question_solution"]},"required":true},"sceneName":{"description":"","type":"string","required":false,"example":""},"serviceInspection":{"description":"","type":"object","properties":{"inspectionContents":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"content":{"description":"","type":"string","required":true,"example":""},"title":{"description":"","type":"string","required":true,"example":""}},"required":true},"required":true},"inspectionIntroduction":{"description":"","type":"string","required":true,"example":""},"sceneIntroduction":{"description":"","type":"string","required":true,"example":""}},"required":false},"stream":{"description":"","type":"boolean","required":true,"example":"false"},"userProfiles":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","required":false},"value":{"type":"string","required":false}}}},"timeConstraintList":{"type":"array","items":{"type":"string","required":false}}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"errorCode":{"description":"","type":"string","example":"InvalidUser.NotFound"},"errorInfo":{"description":"","type":"string","example":""},"finishReason":{"description":"","type":"string","example":"stop"},"requestId":{"title":"Id of the request","description":"","type":"string","example":"968A8634-FA2C-5381-9B3E-C552DED7E8BF"},"success":{"description":"","type":"boolean","example":"True"},"text":{"description":"","type":"string","example":""}}}}},"errorCodes":{"400":[{"errorCode":"CCAI.Throttling.Qps","errorMessage":"Trigger current QPS limit, pay API please buy higher QPS, the free API if you have special requirements, please contact us through the DingTalk group (62730018475)."},{"errorCode":"CCAI.Throttling.Qpm","errorMessage":"Trigger QPM flow restriction. Please purchase higher QPM for paid API. If free API has special requirements, please contact us through DingTalk group (62730018475)."},{"errorCode":"CCAI.InvalidParam.NotExist","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"CCAI.ParamInvalid.IllegalParamValue","errorMessage":"The parameter value of the request API is illegal %s."}],"403":[{"errorCode":"CCAI.IllegalPermission.NoAuth","errorMessage":"User not authorized to operate on the specified resource."},{"errorCode":"CCAI.TenantPermission.NoAuth","errorMessage":"The current account does not have the permission to specify the business space. Please authorize the business space permission."},{"errorCode":"CCAI.ParamNotfound.MissParam","errorMessage":"Parameter verification failed, The specified parameter %s is missing."}],"500":[{"errorCode":"CCAI.InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"errorCode\\\": \\\"success\\\",\\n  \\\"errorInfo\\\": \\\"success\\\",\\n  \\\"finishReason\\\": \\\"stop\\\",\\n  \\\"requestId\\\": \\\"968A8634-FA2C-5381-9B3E-C552DED7E8BF\\\",\\n  \\\"success\\\": true,\\n  \\\"text\\\": \\\"这段对话似乎是客服与客户之间关于一个服务或产品的讨论，但具体内容难以明确理解，因为对话中的言语比较零散和抽象。\\\"\\n}\",\"type\":\"json\"}]"},"GetTaskResult":{"summary":"语音文件调用大模型获取结果","path":"/ccai/app/getTaskResult","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["multipart/form-data"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"taskId","in":"query","schema":{"description":"","type":"string","required":false,"example":"20240905-********-93E9-5D45-B4EF-045743A34071\n"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"data":{"description":"","type":"object","properties":{"taskId":{"description":"","type":"string","example":"20240905-********-93E9-5D45-B4EF-045743A34071\n"},"taskStatus":{"description":"","type":"string","example":"FINISH"},"text":{"description":"","type":"string","example":""}}},"requestId":{"title":"Id of the request","description":"","type":"string","example":"968A8634-FA2C-5381-9B3E-C552DED7E8BF"},"success":{"description":"","type":"string","example":"True"}}}}},"errorCodes":{"400":[{"errorCode":"CCAI.InvalidParam.NotExist","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"CCAI.ParamInvalid.IllegalParamValue","errorMessage":"The parameter value of the request API is illegal %s."},{"errorCode":"CCAI.Throttling.Qpm","errorMessage":"Trigger QPM flow restriction. Please purchase higher QPM for paid API. If free API has special requirements, please contact us through DingTalk group (62730018475)."},{"errorCode":"CCAI.Throttling.Qps","errorMessage":"Trigger current QPS limit, pay API please buy higher QPS, the free API if you have special requirements, please contact us through the DingTalk group (62730018475)."}],"403":[{"errorCode":"CCAI.IllegalPermission.NoAuth","errorMessage":"User not authorized to operate on the specified resource."},{"errorCode":"CCAI.ParamNotfound.MissParam","errorMessage":"Parameter verification failed, The specified parameter %s is missing."},{"errorCode":"CCAI.TenantPermission.NoAuth","errorMessage":"The current account does not have the permission to specify the business space. Please authorize the business space permission."}],"429":[{"errorCode":"Ccai.Throttling.Qps","errorMessage":"Trigger current QPS limit, pay API please buy higher QPS, free API if you have special requirements, please contact us through the DingTalk group (62730018475)."}],"500":[{"errorCode":"CCAI.InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": {\\n    \\\"taskId\\\": \\\"20240905-********-93E9-5D45-B4EF-045743A34071\\\\n\\\",\\n    \\\"taskStatus\\\": \\\"FINISH\\\",\\n    \\\"text\\\": \\\"对话中没有发现客服故意套取客户隐私信息的行为\\\"\\n  },\\n  \\\"requestId\\\": \\\"968A8634-FA2C-5381-9B3E-C552DED7E8BF\\\",\\n  \\\"success\\\": \\\"True\\\"\\n}\",\"type\":\"json\"}]"},"CreateTask":{"summary":"创建语音文件调用llm任务","path":"/{workspaceId}/ccai/app/{appId}/createTask","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":false,"example":"llm-ik******RVYCKzt\n"}},{"name":"appId","in":"path","schema":{"description":"","type":"string","required":false,"example":"a070a49c681f4a95a0f0*********35c"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"dialogue":{"description":"","type":"object","properties":{"sentences":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"role":{"description":"","type":"string","required":true,"example":"user","enum":["agent","user","system"]},"text":{"description":"","type":"string","required":true,"example":""}},"required":false},"required":true},"sessionId":{"description":"","type":"string","required":false,"example":"session-01"}},"required":false},"examples":{"description":"","type":"object","properties":{"output":{"description":"","type":"string","required":false,"example":""},"sentences":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"role":{"description":"","type":"string","required":true,"example":"user"},"text":{"description":"","type":"string","required":true,"example":""}},"required":true},"required":true,"docRequired":false}},"required":false},"fields":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"code":{"description":"","type":"string","required":false,"example":"phoneNumber\n"},"desc":{"description":"","type":"string","required":true,"example":""},"enumValues":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"desc":{"description":"","type":"string","required":true,"example":""},"enumValue":{"description":"","type":"string","required":true,"example":""}},"required":true},"required":true},"name":{"description":"","type":"string","required":true,"example":""}},"required":true},"required":false},"modelCode":{"description":"","type":"string","required":true,"example":"tyxmTurbo","enum":["tyxmTurbo","tyxmPlus"]},"resultTypes":{"description":"","type":"array","items":{"description":"","type":"string","required":true,"example":"summary","enum":["summary","title","fields","keywords","service_inspection","question_solution"]},"required":false},"serviceInspection":{"description":"","type":"object","properties":{"inspectionContents":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"content":{"description":"","type":"string","required":true,"example":""},"title":{"description":"","type":"string","required":true,"example":""}},"required":true},"required":true},"inspectionIntroduction":{"description":"","type":"string","required":true,"example":""},"sceneIntroduction":{"description":"","type":"string","required":true,"example":""}},"required":false},"taskType":{"description":"","type":"string","required":true,"example":"text","enum":["audio","text"]},"templateIds":{"description":"","type":"array","items":{"description":"","type":"string","required":true,"example":"34"},"required":false},"transcription":{"description":"","type":"object","properties":{"autoSplit":{"description":"","type":"integer","format":"int32","required":false,"example":"1"},"clientChannel":{"description":"","type":"integer","format":"int32","required":false,"example":"1"},"fileName":{"description":"","type":"string","required":true,"example":"sss.mp3"},"serviceChannel":{"description":"","type":"integer","format":"int32","required":false,"example":"1"},"serviceChannelKeywords":{"description":"","type":"array","items":{"description":"","type":"string","required":false,"example":""},"required":false},"voiceFileUrl":{"description":"","type":"string","required":true,"example":"http://1111.com/sss.mp3"}},"required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"data":{"description":"","type":"object","properties":{"taskId":{"description":"","type":"string","example":"20240905-********-93E9-5D45-B4EF-045743A34071"}}},"requestId":{"title":"Id of the request","description":"","type":"string","example":"9F1DB065-AE0D-5EE3-B1AF-48632CB0831C"},"success":{"description":"","type":"string","example":"True"}}}}},"errorCodes":{"400":[{"errorCode":"CCAI.InvalidParam.NotExist","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"CCAI.ParamInvalid.IllegalParamValue","errorMessage":"The parameter value of the request API is illegal %s."},{"errorCode":"CCAI.Throttling.Qpm","errorMessage":"Trigger QPM flow restriction. Please purchase higher QPM for paid API. If free API has special requirements, please contact us through DingTalk group (62730018475)."},{"errorCode":"CCAI.Throttling.Qps","errorMessage":"Trigger current QPS limit, pay API please buy higher QPS, the free API if you have special requirements, please contact us through the DingTalk group (62730018475)."}],"403":[{"errorCode":"CCAI.IllegalPermission.NoAuth","errorMessage":"User not authorized to operate on the specified resource."},{"errorCode":"CCAI.ParamNotfound.MissParam","errorMessage":"Parameter verification failed, The specified parameter %s is missing."},{"errorCode":"CCAI.TenantPermission.NoAuth","errorMessage":"The current account does not have the permission to specify the business space. Please authorize the business space permission."}],"429":[{"errorCode":"Ccai.Throttling.Qps","errorMessage":"Trigger current QPS limit, pay API please buy higher QPS, free API if you have special requirements, please contact us through the DingTalk group (62730018475)."}],"500":[{"errorCode":"CCAI.InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"data\\\": {\\n    \\\"taskId\\\": \\\"20240905-********-93E9-5D45-B4EF-045743A34071\\\"\\n  },\\n  \\\"requestId\\\": \\\"9F1DB065-AE0D-5EE3-B1AF-48632CB0831C\\\",\\n  \\\"success\\\": \\\"True\\\"\\n}\",\"type\":\"json\"}]"}},"endpoints":[{"regionId":"cn-shanghai","endpoint":"contactcenterai.cn-shanghai.aliyuncs.com"}]}