{"version":"1.0","info":{"style":"ROA","product":"DianJin","version":"2024-06-28"},"directories":[{"id":194986,"title":null,"type":"directory","children":["UpdateDocumentChunk","GetAppConfig","CreateLibrary","GetLibraryList","GetLibrary","UploadDocument","GetDocumentUrl","PreviewDocument","GetFilterDocumentList","GetDocumentList","DeleteDocument","UpdateDocument","CreatePredefinedDocument","GetDocumentChunkList","RecallDocument","GetParseResult","ReIndex","UpdateLibrary","DeleteLibrary","RunLibraryChatGeneration","GetHistoryListByBizType","InvokePlugin"]},{"id":195037,"title":null,"type":"directory","children":["RunAgent","CreateDialog","RealTimeDialog","RealtimeDialogAssist","GetDialogDetail","GetDialogLog","GetDialogAnalysisResult","CreateDialogAnalysisTask","RebuildTask","EvictTask","GetTaskStatus","CreateDocsSummaryTask","CreateAnnualDocSummaryTask","CreatePdfTranslateTask","CreateFinReportSummaryTask","GetSummaryTaskResult","GetTaskResult","CreateQualityCheckTask","GetQualityCheckTaskResult","RecognizeIntention","GenDocQaResult","UpdateQaLibrary","SubmitChatQuestion","GetChatQuestionResp","RunChatResultGeneration"]}],"components":{"schemas":{}},"apis":{"UpdateDocumentChunk":{"summary":"更新文档的chunk","path":"/{workspaceId}/api/library/updateDocumentChunk","methods":["put"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"libraryId":{"title":"文档库ID","description":"","type":"string","required":true,"example":"sjdgdsfg"},"chunks":{"title":"文档块列表","description":"","type":"array","items":{"title":"文档块","description":"","type":"object","properties":{"chunkId":{"title":"文档块ID","description":"","type":"string","required":true,"example":"1987834755763847"},"chunkText":{"title":"文档块文本","description":"","type":"string","required":true,"example":""}},"required":true},"required":true}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<ResultCodeEnum>","description":"ResultCode<ResultCodeEnum>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"string","example":"SUCCESS"},"requestId":{"title":"请求id","description":"","type":"string","example":"003D019A-1BB3-53EC-A0D2-CE76DA5D73B1"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": \\\"SUCCESS\\\",\\n  \\\"requestId\\\": \\\"003D019A-1BB3-53EC-A0D2-CE76DA5D73B1\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"GetAppConfig":{"summary":"获取app配置","path":"/{workspaceId}/api/app/config","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx\n"}}],"responses":{"200":{"schema":{"title":"ResultCode<AppConfigBO>","description":"ResultCode<AppConfigBO>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"embeddingTypeList":{"title":"embedding类型列表","description":"","type":"array","items":{"description":"","type":"object","additionalProperties":{"type":"string","description":"value","example":"DashScope"}}},"frontendConfig":{"title":"前端配置","description":"","type":"object","additionalProperties":{"type":"boolean","example":"true","description":""}},"libraryDocumentStatusList":{"title":"文档状态列表","description":"","type":"array","items":{"description":"","type":"object","additionalProperties":{"type":"string","description":"value","example":"Completed"}}},"llmHelperTypeList":{"title":"大模型类型列表","description":"","type":"array","items":{"description":"","type":"object","additionalProperties":{"type":"string","example":"qwen-max","description":"value"}}},"textIndexCategoryList":{"title":"文本索引类型列表","description":"","type":"array","items":{"description":"","type":"string","example":"ElasticSearch"}},"vectorIndexCategoryList":{"title":"向量索引类型列表","description":"","type":"array","items":{"description":"","type":"string","example":"ADB"}}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"None"},"requestId":{"title":"请求id","description":"","type":"string","example":"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258"},"success":{"title":"是否成功","description":"","type":"boolean","example":"True"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"embeddingTypeList\\\": [\\n      {\\n        \\\"key\\\": \\\"DashScope\\\"\\n      }\\n    ],\\n    \\\"frontendConfig\\\": {\\n      \\\"key\\\": true\\n    },\\n    \\\"libraryDocumentStatusList\\\": [\\n      {\\n        \\\"key\\\": \\\"Completed\\\"\\n      }\\n    ],\\n    \\\"llmHelperTypeList\\\": [\\n      {\\n        \\\"key\\\": \\\"qwen-max\\\"\\n      }\\n    ],\\n    \\\"textIndexCategoryList\\\": [\\n      \\\"ElasticSearch\\\"\\n    ],\\n    \\\"vectorIndexCategoryList\\\": [\\n      \\\"ADB\\\"\\n    ]\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"None\\\",\\n  \\\"requestId\\\": \\\"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"CreateLibrary":{"summary":"创建文档库","path":"/{workspaceId}/api/library/create","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-ik******RVYCKzt"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"description":{"title":"文档库的描述","description":"","type":"string","required":true,"example":""},"indexSetting":{"title":"文档库的索引设置","description":"","type":"object","properties":{"chunkStrategy":{"title":"分段策略","description":"","type":"object","properties":{"docTreeSplit":{"title":"版面切分","description":"","type":"boolean","required":false,"example":"true"},"docTreeSplitSize":{"title":"版面切分大小","description":"","type":"integer","format":"int32","required":false,"example":"300"},"enhanceGraph":{"title":"是否增强图片","description":"","type":"boolean","required":false,"example":"true"},"enhanceTable":{"title":"是否增强表格","description":"","type":"boolean","required":false,"example":"true"},"overlap":{"title":"chunk重叠长度","description":"","type":"integer","format":"int32","required":false,"example":"20"},"sentenceSplit":{"title":"按句子切分","description":"","type":"boolean","required":false,"example":"true"},"sentenceSplitSize":{"title":"按句子切分大小","description":"","type":"integer","format":"int32","required":false,"example":"300"},"size":{"title":"chunk大小","description":"","type":"integer","format":"int32","required":false,"example":"300"},"split":{"title":"是否切块","description":"","type":"boolean","required":false,"example":"true"}},"required":false},"modelConfig":{"title":"模型配置","description":"","type":"object","properties":{"temperature":{"title":"温度","description":"","type":"number","format":"double","required":false,"example":"0.8"},"topP":{"title":"topP","description":"","type":"number","format":"double","required":false,"example":"0.8"}},"required":false},"promptRoleStyle":{"title":"prompt角色风格","description":"","type":"string","required":false,"example":""},"queryEnhancer":{"title":"query增强配置","description":"","type":"object","properties":{"enableFollowUp":{"title":"多轮增强","description":"","type":"boolean","required":false,"example":"true"},"enableMultiQuery":{"title":"是否利用大模型知识拆解问题","description":"","type":"boolean","required":false,"example":"true"},"enableOpenQa":{"title":"是否利用大模型知识回答问题","description":"","type":"boolean","required":false,"example":"true"},"enableQueryRewrite":{"title":"是否开启query改写","description":"","type":"boolean","required":false,"example":"true"},"enableSession":{"title":"记录session","description":"","type":"boolean","required":false,"example":"true"},"localKnowledgeId":{"title":"知识改写使用的文档库id","description":"","type":"string","required":false,"example":"xxxx"},"withDocumentReference":{"title":"是否带文档引用","description":"","type":"boolean","required":false,"example":"true"}},"required":false},"recallStrategy":{"title":"召回策略","description":"","type":"object","properties":{"documentRankType":{"title":"合并&排序策略","description":"","type":"string","required":false,"enumValueTitles":{"linear":"linear","model":"model"},"example":"model"},"limit":{"title":"两路合并总结的结果数","description":"","type":"integer","format":"int32","required":false,"example":"20"}},"required":false},"textIndexSetting":{"title":"文本索引配置","description":"","type":"object","properties":{"category":{"title":"文本索引类型","description":"","type":"string","required":false,"enumValueTitles":{"ElasticSearch":"ElasticSearch"},"example":"ElasticSearch","pattern":"^ElasticSearch$","default":"ElasticSearch"},"enable":{"title":"文本索引是否开启","description":"","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"true"},"indexAnalyzer":{"title":"Standard: *, IkMaxWord, Whitespace, IkSmart","description":"","type":"string","required":false,"enumValueTitles":{"IkSmart":"IkSmart","IkMaxWord":"IkMaxWord","Standard":"Standard"},"example":"Standard"},"rankThreshold":{"title":"文本索引排序阈值","description":"","type":"number","format":"double","required":false,"example":"0.5"},"searchAnalyzer":{"title":"Standard: *, IkMaxWord, Whitespace, IkSmart","description":"","type":"string","required":false,"enumValueTitles":{"IkSmart":"IkSmart","IkMaxWord":"IkMaxWord","Standard":"Standard"},"example":"Standard"},"topK":{"title":"文本索引最后总结结果数","description":"","type":"integer","format":"int32","required":false,"example":"50"}},"required":false},"vectorIndexSetting":{"title":"向量索引设置","description":"","type":"object","properties":{"category":{"title":"向量索引来源：建议填写 ADB","description":"","type":"string","required":false,"enumValueTitles":{"ADB":"ADB"},"example":"ADB","pattern":"^ADB$","default":"ADB"},"embeddingType":{"title":"向量索引文本Embedding模型","description":"","type":"string","required":false,"enumValueTitles":{"DashScope":"DashScope"},"example":"DashScope"},"enable":{"title":"是否开启","description":"","type":"boolean","required":false,"enumValueTitles":{"true":"true","false":"false"},"example":"true"},"rankThreshold":{"title":"向量索引排序阈值","description":"","type":"number","format":"double","required":false,"example":"0.5"},"topK":{"title":"向量索引最后总结结果数","description":"","type":"integer","format":"int32","required":false,"example":"50"}},"required":false}},"required":false},"libraryName":{"title":"文档库的名称","description":"","type":"string","required":true,"example":""}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"300"},"data":{"title":"响应数据","description":"","type":"string","example":"a1b2c3"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":""},"requestId":{"title":"请求id","description":"","type":"string","example":"xxxx-xxxx-xxxx-xxxx"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"null"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 300,\\n  \\\"data\\\": \\\"a1b2c3\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"成功\\\",\\n  \\\"requestId\\\": \\\"xxxx-xxxx-xxxx-xxxx\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"null\\\"\\n}\",\"type\":\"json\"}]"},"GetLibraryList":{"summary":"分页查询文档库列表","path":"/{workspaceId}/api/library/list","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"page","in":"query","schema":{"title":"页码","description":"","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"pageSize","in":"query","schema":{"title":"每页记录的数量","description":"","type":"integer","format":"int32","required":false,"example":"10","default":"10"}},{"name":"query","in":"query","schema":{"title":"搜索的关键词，支持文档库名称和描述","description":"","type":"string","required":false,"example":""}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<LibraryVO>>","description":"ResultCode<PageVO<LibraryVO>>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"返回数据","description":"","type":"object","properties":{"currentPage":{"title":"页码","description":"","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"页面记录数","description":"","type":"integer","format":"int64","example":"10"},"records":{"title":"记录数","description":"","type":"array","items":{"description":"","type":"object","properties":{"description":{"title":"文档库描述","description":"","type":"string","example":""},"documentCount":{"title":"文档数量","description":"","type":"integer","format":"int64","example":"10"},"gmtCreate":{"title":"创建时间","description":"","type":"string","example":"2024-01-01 00:00:00\n"},"gmtModified":{"title":"修改时间","description":"","type":"string","example":"2024-01-01 00:00:00\n"},"id":{"title":"文档库id","description":"","type":"string","example":"24vs4aa42jv1rg7"},"indexSetting":{"title":"文档库索引设置","description":"","type":"object","properties":{"chunkStrategy":{"title":"分块策略","description":"","type":"object","properties":{"docTreeSplit":{"title":"版面切分","description":"","type":"boolean","example":"true"},"docTreeSplitSize":{"title":"版面切分大小","description":"","type":"integer","format":"int32","example":"160"},"enhanceGraph":{"title":"是否增强图片","description":"","type":"boolean","example":"true"},"enhanceTable":{"title":"是否增强表格","description":"","type":"boolean","example":"true"},"overlap":{"title":"chunk重叠长度","description":"","type":"integer","format":"int32","example":"40"},"sentenceSplit":{"title":"按句子切分","description":"","type":"boolean","example":"true"},"sentenceSplitSize":{"title":"按句子切分大小","description":"","type":"integer","format":"int32","example":"160"},"size":{"title":"chunk大小","description":"","type":"integer","format":"int32","example":"256"},"split":{"title":"是否切块","description":"","type":"boolean","example":"true"}}},"modelConfig":{"title":"模型配置","description":"","type":"object","properties":{"temperature":{"title":"温度","description":"","type":"number","format":"double","example":"0.8"},"topP":{"title":"topP","description":"topP","type":"number","format":"double","example":"0.8"}}},"promptRoleStyle":{"title":"prompt角色风格","description":"","type":"string","example":""},"queryEnhancer":{"title":"query增强","description":"","type":"object","properties":{"enableFollowUp":{"title":"多轮增强","description":"","type":"boolean","example":"true"},"enableMultiQuery":{"title":"是否利用大模型知识拆解问题","description":"","type":"boolean","example":"true"},"enableOpenQa":{"title":"是否利用大模型知识回答问题","description":"","type":"boolean","example":"true"},"enableQueryRewrite":{"title":"是否根据领域知识改写问题","description":"","type":"boolean","example":"true"},"enableSession":{"title":"记录session","description":"","type":"boolean","example":"true"},"localKnowledgeId":{"title":"知识改写使用的文档库id","description":"","type":"string","example":"sdbcjsbc"},"withDocumentReference":{"title":"是否带文档引用","description":"","type":"boolean","example":"true"}}},"recallStrategy":{"title":"召回策略","description":"","type":"object","properties":{"documentRankType":{"title":"合并&排序策略","description":"","type":"string","example":"model"},"limit":{"title":"两路合并总结的结果数","description":"","type":"integer","format":"int32","example":"10"}}},"textIndexSetting":{"title":"文本索引设置","description":"","type":"object","properties":{"category":{"title":"文本索引类型","description":"","type":"string","example":"ElasticSearch"},"enable":{"title":"文本索引是否开启","description":"","type":"boolean","example":"true"},"indexAnalyzer":{"title":"文本索引索引分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"","type":"string","example":"Standard"},"rankThreshold":{"title":"文本索引排序阈值","description":"","type":"number","format":"double","example":"null"},"searchAnalyzer":{"title":"文本索引搜索分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"","type":"string","example":"Standard"},"topK":{"title":"文本索引最后总结结果数","description":"","type":"integer","format":"int32","example":"10"}}},"vectorIndexSetting":{"title":"向量索引设置","description":"","type":"object","properties":{"category":{"title":"向量索引来源：建议填写 ADB","description":"","type":"string","example":"ADB"},"embeddingType":{"title":"向量索引文本Embedding模型","description":"","type":"string","example":"DashScope"},"enable":{"title":"是否开启","description":"","type":"boolean","example":"true"},"rankThreshold":{"title":"向量索引排序阈值","description":"","type":"number","format":"double","example":"null"},"topK":{"title":"向量索引最后总结结果数","description":"","type":"integer","format":"int32","example":"10"}}}}},"libraryName":{"title":"文档库名称","description":"","type":"string","example":""}}}},"totalPages":{"title":"总页数","description":"","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"0a06dfe817156528535968405edce3"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"description\\\": \\\"文档库\\\",\\n        \\\"documentCount\\\": 10,\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\\n\\\",\\n        \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\\n\\\",\\n        \\\"id\\\": \\\"24vs4aa42jv1rg7\\\",\\n        \\\"indexSetting\\\": {\\n          \\\"chunkStrategy\\\": {\\n            \\\"docTreeSplit\\\": true,\\n            \\\"docTreeSplitSize\\\": 160,\\n            \\\"enhanceGraph\\\": true,\\n            \\\"enhanceTable\\\": true,\\n            \\\"overlap\\\": 40,\\n            \\\"sentenceSplit\\\": true,\\n            \\\"sentenceSplitSize\\\": 160,\\n            \\\"size\\\": 256,\\n            \\\"split\\\": true\\n          },\\n          \\\"modelConfig\\\": {\\n            \\\"temperature\\\": 0.8,\\n            \\\"topP\\\": 0.8\\n          },\\n          \\\"promptRoleStyle\\\": \\\"你是一个信息处理专家。\\\\n\\\",\\n          \\\"queryEnhancer\\\": {\\n            \\\"enableFollowUp\\\": true,\\n            \\\"enableMultiQuery\\\": true,\\n            \\\"enableOpenQa\\\": true,\\n            \\\"enableQueryRewrite\\\": true,\\n            \\\"enableSession\\\": true,\\n            \\\"localKnowledgeId\\\": \\\"sdbcjsbc\\\",\\n            \\\"withDocumentReference\\\": true\\n          },\\n          \\\"recallStrategy\\\": {\\n            \\\"documentRankType\\\": \\\"model\\\",\\n            \\\"limit\\\": 10\\n          },\\n          \\\"textIndexSetting\\\": {\\n            \\\"category\\\": \\\"ElasticSearch\\\",\\n            \\\"enable\\\": true,\\n            \\\"indexAnalyzer\\\": \\\"Standard\\\",\\n            \\\"rankThreshold\\\": 0,\\n            \\\"searchAnalyzer\\\": \\\"Standard\\\",\\n            \\\"topK\\\": 10\\n          },\\n          \\\"vectorIndexSetting\\\": {\\n            \\\"category\\\": \\\"ADB\\\",\\n            \\\"embeddingType\\\": \\\"DashScope\\\",\\n            \\\"enable\\\": true,\\n            \\\"rankThreshold\\\": 0,\\n            \\\"topK\\\": 10\\n          }\\n        },\\n        \\\"libraryName\\\": \\\"测试文档库\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0a06dfe817156528535968405edce3\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]"},"GetLibrary":{"summary":"获取文档库配置详情","path":"/{workspaceId}/api/library/get","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":false,"example":"llm-xxxxx"}},{"name":"libraryId","in":"query","schema":{"title":"文档库id","description":"","type":"string","required":true,"example":"cjshcxxxx"}}],"responses":{"200":{"schema":{"title":"ResultCode<LibraryVO>","description":"","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"返回数据","description":"","type":"object","properties":{"description":{"title":"文档库描述","description":"","type":"string","example":""},"documentCount":{"title":"文档数量","description":"","type":"integer","format":"int64","example":"10"},"gmtCreate":{"title":"创建时间","description":"","type":"string","example":"2024-01-01 00:00:00"},"gmtModified":{"title":"修改时间","description":"","type":"string","example":"2024-01-01 00:00:00\n"},"id":{"title":"文档库id","description":"","type":"string","example":"19386728376"},"indexSetting":{"title":"文档库索引设置","description":"","type":"object","properties":{"chunkStrategy":{"title":"分块策略","description":"","type":"object","properties":{"docTreeSplit":{"title":"版面切分","description":"","type":"boolean","example":"true"},"docTreeSplitSize":{"title":"版面切分大小","description":"","type":"integer","format":"int32","example":"160"},"enhanceGraph":{"title":"是否增强图片","description":"","type":"boolean","example":"true"},"enhanceTable":{"title":"是否增强表格","description":"","type":"boolean","example":"true"},"overlap":{"title":"chunk重叠长度","description":"","type":"integer","format":"int32","example":"40"},"sentenceSplit":{"title":"按句子切分","description":"","type":"boolean","example":"true"},"sentenceSplitSize":{"title":"按句子切分大小","description":"","type":"integer","format":"int32","example":"160"},"size":{"title":"chunk大小","description":"","type":"integer","format":"int32","example":"256"},"split":{"title":"是否切块","description":"","type":"boolean","example":"true"}}},"modelConfig":{"title":"模型配置","description":"","type":"object","properties":{"temperature":{"title":"温度","description":"","type":"number","format":"double","example":"0.8"},"topP":{"title":"topP","description":"topP","type":"number","format":"double","example":"0.8"}}},"promptRoleStyle":{"title":"prompt角色风格","description":"","type":"string","example":""},"queryEnhancer":{"title":"query增强","description":"","type":"object","properties":{"enableFollowUp":{"title":"多轮增强","description":"","type":"boolean","example":"true"},"enableMultiQuery":{"title":"是否利用大模型知识拆解问题","description":"","type":"boolean","example":"true"},"enableOpenQa":{"title":"是否利用大模型知识回答问题","description":"","type":"boolean","example":"true"},"enableQueryRewrite":{"title":"是否根据领域知识改写问题","description":"","type":"boolean","example":"true"},"enableSession":{"title":"记录session","description":"","type":"boolean","example":"true"},"localKnowledgeId":{"title":"知识改写使用的文档库id","description":"","type":"string","example":"2836482634"},"withDocumentReference":{"title":"是否带文档引用","description":"","type":"boolean","example":"true"}}},"recallStrategy":{"title":"召回策略","description":"","type":"object","properties":{"documentRankType":{"title":"合并&排序策略","description":"","type":"string","example":"model"},"limit":{"title":"两路合并总结的结果数","description":"","type":"integer","format":"int32","example":"10"}}},"textIndexSetting":{"title":"文本索引设置","description":"","type":"object","properties":{"category":{"title":"文本索引类型","description":"","type":"string","example":"ElasticSearch"},"enable":{"title":"文本索引是否开启","description":"","type":"boolean","example":"true"},"indexAnalyzer":{"title":"文本索引索引分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"","type":"string","example":"IkMaxWord"},"rankThreshold":{"title":"文本索引排序阈值","description":"","type":"number","format":"double","example":"null"},"searchAnalyzer":{"title":"文本索引搜索分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"","type":"string","example":"Standard"},"topK":{"title":"文本索引最后总结结果数","description":"","type":"integer","format":"int32","example":"10"}}},"vectorIndexSetting":{"title":"向量索引设置","description":"","type":"object","properties":{"category":{"title":"向量索引来源：建议填写 ADB","description":"","type":"string","example":"ADB"},"embeddingType":{"title":"向量索引文本Embedding模型","description":"","type":"string","example":"DashScope"},"enable":{"title":"是否开启","description":"","type":"boolean","example":"true"},"rankThreshold":{"title":"向量索引排序阈值","description":"","type":"number","format":"double","example":"null"},"topK":{"title":"向量索引最后总结结果数","description":"","type":"integer","format":"int32","example":"10"}}}}},"libraryName":{"title":"文档库名称","description":"","type":"string","example":""}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误类型","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"44BD277A-87F9-5310-8D63-3E6645F1DA85"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"description\\\": \\\"文档库的描述\\\",\\n    \\\"documentCount\\\": 10,\\n    \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n    \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\\n\\\",\\n    \\\"id\\\": \\\"19386728376\\\",\\n    \\\"indexSetting\\\": {\\n      \\\"chunkStrategy\\\": {\\n        \\\"docTreeSplit\\\": true,\\n        \\\"docTreeSplitSize\\\": 160,\\n        \\\"enhanceGraph\\\": true,\\n        \\\"enhanceTable\\\": true,\\n        \\\"overlap\\\": 40,\\n        \\\"sentenceSplit\\\": true,\\n        \\\"sentenceSplitSize\\\": 160,\\n        \\\"size\\\": 256,\\n        \\\"split\\\": true\\n      },\\n      \\\"modelConfig\\\": {\\n        \\\"temperature\\\": 0.8,\\n        \\\"topP\\\": 0.8\\n      },\\n      \\\"promptRoleStyle\\\": \\\"你是一个信息处理专家。\\\",\\n      \\\"queryEnhancer\\\": {\\n        \\\"enableFollowUp\\\": true,\\n        \\\"enableMultiQuery\\\": true,\\n        \\\"enableOpenQa\\\": true,\\n        \\\"enableQueryRewrite\\\": true,\\n        \\\"enableSession\\\": true,\\n        \\\"localKnowledgeId\\\": \\\"2836482634\\\",\\n        \\\"withDocumentReference\\\": true\\n      },\\n      \\\"recallStrategy\\\": {\\n        \\\"documentRankType\\\": \\\"model\\\",\\n        \\\"limit\\\": 10\\n      },\\n      \\\"textIndexSetting\\\": {\\n        \\\"category\\\": \\\"ElasticSearch\\\",\\n        \\\"enable\\\": true,\\n        \\\"indexAnalyzer\\\": \\\"IkMaxWord\\\",\\n        \\\"rankThreshold\\\": 0,\\n        \\\"searchAnalyzer\\\": \\\"Standard\\\",\\n        \\\"topK\\\": 10\\n      },\\n      \\\"vectorIndexSetting\\\": {\\n        \\\"category\\\": \\\"ADB\\\",\\n        \\\"embeddingType\\\": \\\"DashScope\\\",\\n        \\\"enable\\\": true,\\n        \\\"rankThreshold\\\": 0,\\n        \\\"topK\\\": 10\\n      }\\n    },\\n    \\\"libraryName\\\": \\\"测试文档库\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"44BD277A-87F9-5310-8D63-3E6645F1DA85\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]"},"UploadDocument":{"summary":"上传文档到文档库","path":"/{workspaceId}/api/library/document/upload","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"data":{"title":"文档元数据","description":"","type":"string","required":false,"example":""},"fileName":{"title":"完整文件名（包含后缀）","description":"","type":"string","required":true,"example":"test.pdf"},"fileUrl":{"title":"文件Oss地址","description":"","type":"string","required":true,"example":"https://oss-xxx.hangzhou.com/test.pdf","isFileTransferUrl":true},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"sjdhbcsj"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"1782981430906818562"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"ff3fef67-48d9-4379-a237-9ba8143fe739"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"1782981430906818562\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"ff3fef67-48d9-4379-a237-9ba8143fe739\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetDocumentUrl":{"summary":"获取文档URL","path":"/{workspaceId}/api/library/document/url","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"documentId","in":"query","schema":{"title":"文档id","description":"","type":"string","required":true,"example":"12681367362"}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"https://path_to_file"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"66249B43-8C2B-5EE7-AE78-B382306621C6"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"https://path_to_file\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"66249B43-8C2B-5EE7-AE78-B382306621C6\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]"},"PreviewDocument":{"summary":"获取文档预览","path":"/{workspaceId}/api/library/document/preview","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间","description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"documentId","in":"query","schema":{"title":"文档id","description":"","type":"string","required":true,"example":"8326472354762354"}}],"responses":{"200":{"schema":{"title":"ResultCode<DocumentPreviewVO>","description":"ResultCode<DocumentPreviewVO>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"返回数据","description":"","type":"object","properties":{"previewType":{"title":"预览类型","description":"","type":"string","example":"pdf"},"title":{"title":"文档标题","description":"","type":"string","example":"test"},"uploadTime":{"title":"上传时间","description":"","type":"string","example":"2024-01-01 00:00:00"},"url":{"title":"文档url","description":"","type":"string","example":"https://agi.alicdn.com/user/d0o/d3c1f50d-a6c2-49b3-b0c8-3e613c3f20ee_16872_3236784461.png"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求ID","description":"","type":"string","example":"ff551395-1c8a-4f30-8ffd-ef7e87c70b4c"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"previewType\\\": \\\"pdf\\\",\\n    \\\"title\\\": \\\"test\\\",\\n    \\\"uploadTime\\\": \\\"2024-01-01 00:00:00\\\",\\n    \\\"url\\\": \\\"https://agi.alicdn.com/user/d0o/d3c1f50d-a6c2-49b3-b0c8-3e613c3f20ee_16872_3236784461.png\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"ff551395-1c8a-4f30-8ffd-ef7e87c70b4c\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetFilterDocumentList":{"summary":"带条件的分页查询文档库的文档列表","path":"/{workspaceId}/api/library/filterDocument","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"and":{"title":"and表达式，用于筛选文档/文档块","description":"","type":"array","items":{"description":"","type":"object","properties":{"boost":{"description":"","type":"number","format":"float","required":false,"example":"1"},"key":{"description":"","type":"string","required":false,"example":"company"},"operator":{"description":"","type":"string","required":false,"example":"eq"},"value":{"description":"","type":"string","required":false,"example":"alibaba"}},"required":false},"required":false},"docIdList":{"title":"文档id列表，用于筛选文档/文档块","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"3553835752369972270"},"required":false},"libraryId":{"title":"文档库id用于筛选文档/文档块","description":"","type":"string","required":true,"example":"cjshcxxxx"},"or":{"title":"or表达式，用于筛选文档/文档块","description":"","type":"array","items":{"description":"","type":"object","properties":{"boost":{"description":"","type":"number","format":"float","required":false,"example":"1"},"key":{"description":"","type":"string","required":false,"example":"company"},"operator":{"description":"","type":"string","required":false,"example":"contains"},"value":{"description":"","type":"string","required":false,"example":"alibaba"}},"required":false},"required":false},"page":{"title":"页码，用于分页","description":"","type":"integer","format":"int32","required":false,"example":"1"},"pageSize":{"title":"每页大小，用于分页","description":"","type":"integer","format":"int32","required":false,"example":"10"},"status":{"title":"文档状态，用于筛选文档","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"Completed"},"required":false,"enumValueTitles":{"InQueue":"InQueue","WaitRefresh":"WaitRefresh","FetchingData":"FetchingData","Completed":"Completed","Error":"Error","Embedding":"Embedding"}}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<LibraryDocumentVO>>","description":"","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"currentPage":{"title":"当前页","description":"","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"每页记录数","description":"","type":"integer","format":"int64","example":"10"},"records":{"title":"记录","description":"","type":"array","items":{"description":"","type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","example":"29368126816"},"documentMeta":{"title":"文档元数据","description":"","type":"object","example":"{\"a\": \"1\"}"},"fileType":{"title":"文档类型","description":"","type":"string","example":"pdf"},"gmtCreate":{"title":"创建时间","description":"","type":"string","example":"2024-01-01 00:00:00"},"gmtModified":{"title":"修改时间","description":"","type":"string","example":"2024-01-01 00:00:00"},"libraryId":{"title":"文档所属库id","description":"","type":"string","example":"sdfgsjdfg"},"statusCode":{"title":"文档状态 (WaitRefresh: 等待刷新, InQueue: 待处理, FetchingData: 数据获取中, Embedding: 文档处理中, Error: 错误, Completed: 可用, Null: 未知)","description":"","type":"string","example":"WaitRefresh"},"title":{"title":"文档标题","description":"","type":"string","example":""},"url":{"title":"文档链接","description":"","type":"string","example":"null"}}}},"totalPages":{"title":"总页数","description":"","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"7ADF010C-FD89-569D-A079-2D4D5247E943"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"docId\\\": \\\"29368126816\\\",\\n        \\\"documentMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"libraryId\\\": \\\"sdfgsjdfg\\\",\\n        \\\"statusCode\\\": \\\"WaitRefresh\\\",\\n        \\\"title\\\": \\\"公司文档\\\",\\n        \\\"url\\\": \\\"null\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"7ADF010C-FD89-569D-A079-2D4D5247E943\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]"},"GetDocumentList":{"summary":"分页查询文档库的文档列表","path":"/{workspaceId}/api/library/listDocument","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"page","in":"query","schema":{"title":"页码","description":"","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"pageSize","in":"query","schema":{"title":"页数","description":"","type":"integer","format":"int32","required":false,"example":"10","default":"10"}},{"name":"status","in":"query","schema":{"title":"文档状态","description":"","type":"string","required":false,"example":""}},{"name":"libraryId","in":"query","schema":{"title":"文档库id","description":"","type":"string","required":true,"example":"3akzl28vap"}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<LibraryDocumentVO>>","description":"","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"currentPage":{"title":"当前页","description":"","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"每页记录数","description":"","type":"integer","format":"int64","example":"10"},"records":{"title":"记录","description":"","type":"array","items":{"type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","example":"8326748346"},"documentMeta":{"title":"文档元数据","description":"","type":"object"},"fileType":{"title":"文档类型","description":"","type":"string","example":"pdf"},"gmtCreate":{"title":"创建时间","description":"","type":"string","example":"2024-01-01 00:00:00"},"gmtModified":{"title":"修改时间","description":"","type":"string","example":"2024-01-01 00:00:00"},"libraryId":{"title":"文档所属库id","description":"","type":"string","example":"skjdhshbv"},"statusCode":{"title":"文档状态 (WaitRefresh: 等待刷新, InQueue: 待处理, FetchingData: 数据获取中, Embedding: 文档处理中, Error: 错误, Completed: 可用, Null: 未知)","description":"","type":"string","example":"WaitRefresh"},"title":{"title":"文档标题","description":"","type":"string","example":"test"},"url":{"title":"文档链接","description":"","type":"string","example":"null"}}}},"totalPages":{"title":"总页数","description":"","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"docId\\\": \\\"8326748346\\\",\\n        \\\"documentMeta\\\": {\\n          \\\"test\\\": \\\"test\\\",\\n          \\\"test2\\\": 1\\n        },\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"libraryId\\\": \\\"skjdhshbv\\\",\\n        \\\"statusCode\\\": \\\"WaitRefresh\\\",\\n        \\\"title\\\": \\\"test\\\",\\n        \\\"url\\\": \\\"null\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"DeleteDocument":{"summary":"删除文档","path":"/{workspaceId}/api/library/document/delete","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"docIds":{"title":"文档的id列表","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"1782981430906818562"},"required":true},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"3akzl28vap"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<Boolean>","description":"ResultCode<Boolean>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"boolean","example":"True"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"67C7021A-D268-553D-8C15-A087B9604028"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"67C7021A-D268-553D-8C15-A087B9604028\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"UpdateDocument":{"summary":"更新文档","path":"/{workspaceId}/api/library/document/updateDocument","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","required":true,"example":"123"},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"abc123"},"meta":{"title":"文档meta数据","description":"","type":"object","required":false,"example":"{\n        \"businessId\": \"12321\"\n    }"},"title":{"title":"文档标题","description":"","type":"string","required":false,"example":"test"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"null"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"null\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"CreatePredefinedDocument":{"summary":"创建预定义文档","path":"/{workspaceId}/api/library/document/createPredefinedDocument","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"路径参数，业务空间id","description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"chunks":{"title":"文档块列表","description":"","type":"array","items":{"type":"object","properties":{"chunkMeta":{"title":"文档块元信息","description":"","type":"object","required":false,"example":"{\"a\": \"1\"}"},"chunkOrder":{"title":"顺序，可以不填","description":"","type":"integer","format":"int32","required":false,"example":"1"},"chunkText":{"title":"文档块文本","description":"","type":"string","required":false,"example":"这是一段测试文本"},"chunkType":{"title":"文档块类型","description":"","type":"string","required":false,"example":"text","default":"text","enum":["text","table","faq","graph"]}},"required":false},"required":false},"libraryId":{"title":"文档库id","description":"","type":"string","required":false,"example":"a1b2c3"},"metadata":{"title":"元数据","description":"","type":"object","required":false,"example":"{\"a\": \"1\"}"},"title":{"title":"文档标题","description":"","type":"string","required":false,"example":"测试文档"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"1782981430906818562"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"0a06dfe617018288881568684e2937"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"1782981430906818562\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0a06dfe617018288881568684e2937\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetDocumentChunkList":{"summary":"获取文档的chunk列表","path":"/{workspaceId}/api/library/getDocumentChunk","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"chunkIdList":{"title":"文档块id列表","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"83648326438746"},"required":false},"docId":{"title":"文档id","description":"","type":"string","required":true,"example":"182364872346"},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"dsjgfdjgfxxx"},"order":{"title":"排序方式","description":"","type":"string","required":false,"example":"desc"},"orderBy":{"title":"排序字段","description":"","type":"string","required":false,"example":"gmtCreate"},"page":{"title":"页码","description":"","type":"integer","format":"int32","required":false,"example":"1"},"pageSize":{"title":"每页大小","description":"","type":"integer","format":"int32","required":false,"example":"10"},"searchQuery":{"title":"搜索查询关键词","description":"","type":"string","required":false,"example":"test"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<ChunkModelVO>>","description":"ResultCode<PageVO<ChunkModelVO>>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"currentPage":{"title":"当前页","description":"","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"每页记录数","description":"","type":"integer","format":"int64","example":"10"},"records":{"title":"记录","description":"","type":"array","items":{"type":"object","properties":{"chunkId":{"title":"文档块id","description":"","type":"string","example":"28377468263482764"},"chunkMeta":{"title":"文档块元数据","description":"","type":"object","example":"{\"a\":\"1\"}"},"chunkOssUrl":{"title":"文档块oss地址","description":"","type":"string","example":"oss-xxxx-hangzhou.com/test.pdf"},"chunkText":{"title":"文档块文本","description":"","type":"string","example":""},"chunkType":{"title":"文档块类型","description":"","type":"string","enumValueTitles":{"faq":"faq","text":"text","graph":"graph","table":"table","structure":"structure"},"example":"text"},"docId":{"title":"文档id","description":"","type":"string","example":"8947387648356"},"fileType":{"title":"文档类型","description":"","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"","type":"string","example":"jhsdvne"},"libraryName":{"title":"文档库名称","description":"","type":"string","example":""},"nextChunkId":{"title":"后一个文档块id","description":"","type":"string","example":"947538465"},"pos":{"title":"文档块位置","description":"","type":"array","items":{"description":"","type":"object","properties":{"axisArray":{"title":"坐标","description":"","type":"array","items":{"description":"","type":"number","format":"double","example":"394.3"}},"page":{"title":"页码","description":"","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"","type":"array","items":{"description":"","type":"integer","format":"int32","example":"38"}}}}},"preChunkId":{"title":"前一个文档块id","description":"","type":"string","example":"9848346548365"},"score":{"title":"文档块分数","description":"","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"","type":"string","example":"test"}}}},"totalPages":{"title":"总页数","description":"","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"2B8F6DC9-6FAF-576F-9095-CCD90FB2BDDF"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"28377468263482764\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"oss-xxxx-hangzhou.com/test.pdf\\\",\\n        \\\"chunkText\\\": \\\"这是一段测试文本\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"8947387648356\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"jhsdvne\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"947538465\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              394.3\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              38\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"9848346548365\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"test\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"2B8F6DC9-6FAF-576F-9095-CCD90FB2BDDF\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"RecallDocument":{"summary":"文档召回。","path":"/{workspaceId}/api/library/recallDocument","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"filters":{"title":"元信息过滤条件","description":"","type":"array","items":{"description":"","type":"object","properties":{"and":{"title":"and表达式，用于筛选文档/文档块","description":"","type":"array","items":{"description":"","type":"object","properties":{"boost":{"description":"","type":"number","format":"float","required":false,"example":"20"},"key":{"description":"","type":"string","required":false,"example":"docType"},"operator":{"description":"","type":"string","required":false,"example":"contains"},"value":{"description":"","type":"string","required":false,"example":""}},"required":false},"required":false},"chunkType":{"title":"文档块类型 用于筛选文档块 (Text: *, Graph, Table, FAQ)","description":"","type":"string","required":false,"example":"Text"},"docIdList":{"title":"文档id列表，用于筛选文档/文档块","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"8372458573692819933"},"required":false},"libraryId":{"title":"文档库id用于筛选文档/文档块","description":"","type":"string","required":true,"example":"sdbjhvs"},"or":{"title":"or表达式，用于筛选文档/文档块","description":"","type":"array","items":{"description":"","type":"object","properties":{"boost":{"description":"","type":"number","format":"float","required":false,"example":"30"},"key":{"description":"","type":"string","required":false,"example":"researcher"},"operator":{"description":"","type":"string","required":false,"example":"eq"},"value":{"description":"","type":"string","required":false,"example":"zhangsan"}},"required":false},"required":false},"status":{"title":"文档状态，用于筛选文档","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"WaitRefresh"},"required":false}},"required":false},"required":false},"query":{"title":"文本","description":"","type":"string","required":true,"example":""},"rearrangement":{"title":"是否开启父子文档块召回","description":"","type":"boolean","required":false,"example":"false"},"topK":{"title":"为召回文档块的数量","description":"","type":"integer","format":"int32","required":false,"example":"10"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<LibraryDocumentRecallVO>","description":"","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"0"},"data":{"title":"响应数据","description":"","type":"object","properties":{"chunkList":{"title":"chunk列表","description":"","type":"array","items":{"description":"chunk","type":"object","properties":{"chunkId":{"title":"文档块id","description":"","type":"string","example":"823746762354"},"chunkMeta":{"title":"文档块元数据","description":"","type":"object","example":"{\"a\":\"1\"}"},"chunkOssUrl":{"title":"文档块oss地址","description":"","type":"string","example":"http://oss-xxx-hangzhou.com/xxx"},"chunkText":{"title":"文档块文本","description":"","type":"string","example":""},"chunkType":{"title":"文档块类型","description":"","type":"string","example":"text"},"docId":{"title":"文档id","description":"","type":"string","example":"839468263472"},"fileType":{"title":"文档类型","description":"","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"","type":"string","example":"dscsbdsk"},"libraryName":{"title":"文档库名称","description":"","type":"string","example":""},"nextChunkId":{"title":"后一个文档块id","description":"","type":"string","example":"982374872364"},"pos":{"title":"文档块位置","description":"","type":"array","items":{"description":"","type":"object","properties":{"axisArray":{"title":"坐标","description":"","type":"array","items":{"description":"","type":"number","format":"double","example":"20.8"}},"page":{"title":"页码","description":"","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"","type":"array","items":{"description":"","type":"integer","format":"int32","example":"1"}}}}},"preChunkId":{"title":"前一个文档块id","description":"","type":"string","example":"827364827364832"},"score":{"title":"文档块分数","description":"","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"","type":"string","example":"test"}}}},"chunkPartList":{"title":"chunk part（版面识别结果）列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"chunkId":{"title":"文档块id","description":"","type":"string","example":"98327482364"},"chunkMeta":{"title":"文档块元数据","description":"","type":"object","example":"{\"a\":\"1\"}"},"chunkOssUrl":{"title":"文档块oss地址","description":"","type":"string","example":"http://oss-xxx-hangzhou.com/xxx\n"},"chunkText":{"title":"文档块文本","description":"","type":"string","example":""},"chunkType":{"title":"文档块类型","description":"","type":"string","example":"text"},"docId":{"title":"文档id","description":"","type":"string","example":"92837482364"},"fileType":{"title":"文档类型","description":"","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"","type":"string","example":"sjdhgjsd"},"libraryName":{"title":"文档库名称","description":"","type":"string","example":""},"nextChunkId":{"title":"后一个文档块id","description":"","type":"string","example":"2387648263542"},"pos":{"title":"文档块位置","description":"","type":"array","items":{"description":"","type":"object","properties":{"axisArray":{"title":"坐标","description":"","type":"array","items":{"description":"","type":"number","format":"double","example":"1"}},"page":{"title":"页码","description":"","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"","type":"array","items":{"description":"","type":"integer","format":"int32","example":"1"}}}}},"preChunkId":{"title":"前一个文档块id","description":"","type":"string","example":"32874682764"},"score":{"title":"文档块分数","description":"","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"","type":"string","example":""}}}},"chunkTextList":{"title":"chunk text列表","description":"","type":"array","items":{"description":"","type":"string","example":""}},"documents":{"title":"文档列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","example":"92837482364"},"documentMeta":{"title":"文档元数据","description":"","type":"object","example":"{\"a\":\"1\"}\n"},"fileType":{"title":"文档类型","description":"","type":"string","example":"pdf"},"gmtCreate":{"title":"创建时间","description":"","type":"string","example":"2024-01-01 00:00:00"},"libraryId":{"title":"文档库id","description":"","type":"string","example":"sjdhgjsd\n"},"title":{"title":"文档标题","description":"","type":"string","example":"test"},"url":{"title":"文档链接","description":"","type":"string","example":"http://oss-xxx-hangzhou.com/test.pdf"}}}},"embeddingElapsedMs":{"title":"向量计算耗时","description":"","type":"integer","format":"int64","example":"100"},"textChunkList":{"title":"从文本索引召回的chunk列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"chunkId":{"title":"文档块id","description":"","type":"string","example":"32874682364"},"chunkMeta":{"title":"文档块元数据","description":"","type":"object","example":"{\"a\":\"1\"}\n"},"chunkOssUrl":{"title":"文档块oss地址","description":"","type":"string","example":"http://oss-xxx-hangzhou.com/xxx\n"},"chunkText":{"title":"文档块文本","description":"","type":"string","example":""},"chunkType":{"title":"文档块类型","description":"","type":"string","example":"text"},"docId":{"title":"文档id","description":"","type":"string","example":"8372467263542"},"fileType":{"title":"文档类型","description":"","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"","type":"string","example":"djsgfsjd"},"libraryName":{"title":"文档库名称","description":"","type":"string","example":""},"nextChunkId":{"title":"后一个文档块id","description":"","type":"string","example":"23874682432"},"pos":{"title":"文档块位置","description":"","type":"array","items":{"description":"","type":"object","properties":{"axisArray":{"title":"坐标","description":"","type":"array","items":{"description":"","type":"number","format":"double","example":"10"}},"page":{"title":"页码","description":"","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"","type":"array","items":{"description":"","type":"integer","format":"int32","example":"1"}}}}},"preChunkId":{"title":"前一个文档块id","description":"","type":"string","example":"89473868346"},"score":{"title":"文档块分数","description":"","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"","type":"string","example":""}}}},"textSearchElapsedMs":{"title":"文本搜索耗时","description":"","type":"integer","format":"int64","example":"100"},"totalElapsedMs":{"title":"总耗时 包括向量计算耗时、向量搜索耗时、文本搜索耗时等（取决于召回参数）","description":"","type":"integer","format":"int64","example":"400"},"vectorChunkList":{"title":"从向量索引召回的chunk列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"chunkId":{"title":"文档块id","description":"","type":"string","example":"8723642345276"},"chunkMeta":{"title":"文档块元数据","description":"","type":"object","example":"{\"a\":\"1\"}"},"chunkOssUrl":{"title":"文档块oss地址","description":"","type":"string","example":"https://oss-xxxx-hangzhou.com/test.pdf"},"chunkText":{"title":"文档块文本","description":"","type":"string","example":""},"chunkType":{"title":"文档块类型","description":"","type":"string","example":"text"},"docId":{"title":"文档id","description":"","type":"string","example":"78326476235675372"},"fileType":{"title":"文档类型","description":"","type":"string","example":"pdf"},"libraryId":{"title":"文档库id","description":"","type":"string","example":"djsgfsjd"},"libraryName":{"title":"文档库名称","description":"","type":"string","example":""},"nextChunkId":{"title":"后一个文档块id","description":"","type":"string","example":"293846872343"},"pos":{"title":"文档块位置","description":"","type":"array","items":{"description":"","type":"object","properties":{"axisArray":{"title":"坐标","description":"","type":"array","items":{"description":"","type":"number","format":"double","example":"48.8"}},"page":{"title":"页码","description":"","type":"integer","format":"int32","example":"1"},"textHighlightArea":{"title":"文本高亮区域，用于文本类型的文件高亮","description":"","type":"array","items":{"description":"","type":"integer","format":"int32","example":"10"}}}}},"preChunkId":{"title":"前一个文档块id","description":"","type":"string","example":"873647326542"},"score":{"title":"文档块分数","description":"","type":"number","format":"float","example":"0.5"},"title":{"title":"文档标题","description":"","type":"string","example":"test"}}}},"vectorSearchElapsedMs":{"title":"向量搜索耗时","description":"","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"0bc13a9517168617617186457e401f"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"chunkList\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"823746762354\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"http://oss-xxx-hangzhou.com/xxx\\\",\\n        \\\"chunkText\\\": \\\"测试文档块\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"839468263472\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"dscsbdsk\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"982374872364\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              20.8\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              1\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"827364827364832\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"test\\\"\\n      }\\n    ],\\n    \\\"chunkPartList\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"98327482364\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"http://oss-xxx-hangzhou.com/xxx\\\\n\\\",\\n        \\\"chunkText\\\": \\\"测试文档块\\\\n\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"92837482364\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"sjdhgjsd\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"2387648263542\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              1\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              1\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"32874682764\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"测试文档标题\\\"\\n      }\\n    ],\\n    \\\"chunkTextList\\\": [\\n      \\\"这是一段测试文档块\\\"\\n    ],\\n    \\\"documents\\\": [\\n      {\\n        \\\"docId\\\": \\\"92837482364\\\",\\n        \\\"documentMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"libraryId\\\": \\\"sjdhgjsd\\\\n\\\",\\n        \\\"title\\\": \\\"test\\\",\\n        \\\"url\\\": \\\"http://oss-xxx-hangzhou.com/test.pdf\\\"\\n      }\\n    ],\\n    \\\"embeddingElapsedMs\\\": 100,\\n    \\\"textChunkList\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"32874682364\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"http://oss-xxx-hangzhou.com/xxx\\\\n\\\",\\n        \\\"chunkText\\\": \\\"这是一段测试文档块\\\\n\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"8372467263542\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"djsgfsjd\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"23874682432\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              10\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              1\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"89473868346\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"测试文档标题\\\"\\n      }\\n    ],\\n    \\\"textSearchElapsedMs\\\": 100,\\n    \\\"totalElapsedMs\\\": 400,\\n    \\\"vectorChunkList\\\": [\\n      {\\n        \\\"chunkId\\\": \\\"8723642345276\\\",\\n        \\\"chunkMeta\\\": {\\n          \\\"a\\\": \\\"1\\\"\\n        },\\n        \\\"chunkOssUrl\\\": \\\"https://oss-xxxx-hangzhou.com/test.pdf\\\",\\n        \\\"chunkText\\\": \\\"这是一段测试文本\\\",\\n        \\\"chunkType\\\": \\\"text\\\",\\n        \\\"docId\\\": \\\"78326476235675372\\\",\\n        \\\"fileType\\\": \\\"pdf\\\",\\n        \\\"libraryId\\\": \\\"djsgfsjd\\\",\\n        \\\"libraryName\\\": \\\"测试文档库\\\",\\n        \\\"nextChunkId\\\": \\\"293846872343\\\",\\n        \\\"pos\\\": [\\n          {\\n            \\\"axisArray\\\": [\\n              48.8\\n            ],\\n            \\\"page\\\": 1,\\n            \\\"textHighlightArea\\\": [\\n              10\\n            ]\\n          }\\n        ],\\n        \\\"preChunkId\\\": \\\"873647326542\\\",\\n        \\\"score\\\": 0.5,\\n        \\\"title\\\": \\\"test\\\"\\n      }\\n    ],\\n    \\\"vectorSearchElapsedMs\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0bc13a9517168617617186457e401f\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetParseResult":{"summary":"获取解析结果","path":"/{workspaceId}/api/library/document/getParseResult","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","required":true,"example":"873648346573245"},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"sjdgdsfg"},"useUrlResult":{"type":"boolean","default":"false"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<DocumentParseResultVO>","description":"ResultCode<DocumentParseResultVO>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"fileType":{"title":"文件类型","description":"","type":"string","example":"pdf"},"providerType":{"title":"供应商类型","description":"","type":"string","example":"null"},"requestId":{"title":"请求id","description":"","type":"string","example":"b0a202e2-5031-4589-a6d7-39185f0d8d01"},"result":{"title":"解析结果","description":"","type":"object","example":"{\n          \"Status\": \"Success\",\n          \"Data\": {},\n          \"Message\": null,\n          \"TaskId\": \"docmind-20240601-123abc\"\n        }"},"status":{"title":"文档解析状态","description":"","type":"string","example":"WaitRefresh"},"resultUrl":{"type":"string"}}},"requestId":{"title":"请求id","description":"","type":"string","example":"0abb793617204049360065953ec6dd"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"fileType\\\": \\\"pdf\\\",\\n    \\\"providerType\\\": \\\"null\\\",\\n    \\\"requestId\\\": \\\"b0a202e2-5031-4589-a6d7-39185f0d8d01\\\",\\n    \\\"result\\\": {\\n      \\\"Status\\\": \\\"Success\\\",\\n      \\\"Data\\\": {},\\n      \\\"Message\\\": null,\\n      \\\"TaskId\\\": \\\"docmind-20240601-123abc\\\"\\n    },\\n    \\\"status\\\": \\\"WaitRefresh\\\",\\n    \\\"resultUrl\\\": \\\"https://xxx.oss-cn-beijing.aliyuncs.com/library/3mjeoywx7z/1826661605606129665.json\\\"\\n  },\\n  \\\"requestId\\\": \\\"0abb793617204049360065953ec6dd\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"ReIndex":{"summary":"重新索引","path":"/{workspaceId}/api/library/document/reIndex","methods":["put"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间","description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"documentId","in":"query","schema":{"title":"文档id","description":"","type":"string","required":true,"example":"8326472354762354"}}],"responses":{"200":{"schema":{"title":"ResultCode<ResultCodeEnum>","description":"","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"True"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"32FFC91D-0A9F-585A-B84F-8A54C5187035"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"True\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"32FFC91D-0A9F-585A-B84F-8A54C5187035\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"UpdateLibrary":{"summary":"更新文档库配置","path":"/{workspaceId}/api/library/update","methods":["put"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"description":{"title":"文档库描述","description":"","type":"string","required":false,"example":""},"indexSetting":{"title":"文档库索引配置","description":"","type":"object","properties":{"chunkStrategy":{"title":"分块策略","description":"","type":"object","properties":{"docTreeSplit":{"title":"版面切分","description":"","type":"boolean","required":false,"example":"true"},"docTreeSplitSize":{"title":"版面切分大小","description":"","type":"integer","format":"int32","required":false,"example":"160"},"enhanceGraph":{"title":"是否增强图片","description":"","type":"boolean","required":false,"example":"true"},"enhanceTable":{"title":"是否增强表格","description":"","type":"boolean","required":false,"example":"true"},"overlap":{"title":"chunk重叠长度","description":"","type":"integer","format":"int32","required":false,"example":"20"},"sentenceSplit":{"title":"按句子切分","description":"","type":"boolean","required":false,"example":"true"},"sentenceSplitSize":{"title":"版面切分大小","description":"","type":"integer","format":"int32","required":false,"example":"160"},"size":{"title":"chunk大小","description":"","type":"integer","format":"int32","required":false,"example":"256"},"split":{"title":"是否切块","description":"","type":"boolean","required":false,"example":"true"}},"required":false},"modelConfig":{"title":"模型配置","description":"","type":"object","properties":{"temperature":{"title":"温度","description":"","type":"number","format":"double","required":false,"example":"0.8"},"topP":{"title":"topP","description":"topP","type":"number","format":"double","required":false,"example":"0.8"}},"required":false},"promptRoleStyle":{"title":"prompt角色风格","description":"","type":"string","required":false,"example":""},"queryEnhancer":{"title":"query增强","description":"","type":"object","properties":{"enableFollowUp":{"title":"多轮增强","description":"","type":"boolean","required":false,"example":"true"},"enableMultiQuery":{"title":"是否利用大模型知识拆解问题","description":"","type":"boolean","required":false,"example":"true"},"enableOpenQa":{"title":"是否利用大模型知识回答问题","description":"","type":"boolean","required":false,"example":"true"},"enableQueryRewrite":{"title":"是否根据领域知识改写问题","description":"","type":"boolean","required":false,"example":"true"},"enableSession":{"title":"记录session","description":"","type":"boolean","required":false,"example":"true"},"localKnowledgeId":{"title":"知识改写使用的文档库id","description":"","type":"string","required":false,"example":"sjdhgfc"},"withDocumentReference":{"title":"是否带文档引用","description":"","type":"boolean","required":false,"example":"true"}},"required":false},"recallStrategy":{"title":"召回策略","description":"","type":"object","properties":{"documentRankType":{"title":"合并&排序策略","description":"","type":"string","required":false,"example":"model"},"limit":{"title":"两路合并总结的结果数","description":"","type":"integer","format":"int32","required":false,"example":"10"}},"required":false},"textIndexSetting":{"title":"文本索引设置","description":"","type":"object","properties":{"category":{"title":"文本索引类型","description":"","type":"string","required":false,"example":"ElasticSearch","pattern":"^ElasticSearch$","default":"ElasticSearch"},"enable":{"title":"文本索引是否开启","description":"","type":"boolean","required":false,"example":"true"},"indexAnalyzer":{"title":"文本索引索引分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"","type":"string","required":false,"example":"Standard"},"rankThreshold":{"title":"文本索引排序阈值","description":"","type":"number","format":"double","required":false,"example":"0.5"},"searchAnalyzer":{"title":"文本索引搜索分析器: (Standard: *, IkMaxWord, Whitespace, IkSmart)","description":"","type":"string","required":false,"example":"Standard"},"topK":{"title":"文本索引最后总结结果数","description":"","type":"integer","format":"int32","required":false,"example":"50"}},"required":false},"vectorIndexSetting":{"title":"向量索引设置","description":"","type":"object","properties":{"category":{"title":"向量索引来源：建议填写 ADB","description":"","type":"string","required":false,"example":"ADB","pattern":"^ADB$","default":"ADB"},"embeddingType":{"title":"向量索引文本Embedding模型","description":"","type":"string","required":false,"example":"DashScope"},"enable":{"title":"是否开启","description":"","type":"boolean","required":false,"example":"true"},"rankThreshold":{"title":"向量索引排序阈值","description":"","type":"number","format":"double","required":false,"example":"0.5"},"topK":{"title":"向量索引最后总结结果数","description":"","type":"integer","format":"int32","required":false,"example":"10"}},"required":false}},"required":false},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"dsfbashdbb"},"libraryName":{"title":"文档库名称","description":"","type":"string","required":false,"example":""}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"null"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"null\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"DeleteLibrary":{"summary":"删除文档库","path":"/{workspaceId}/api/library/delete","methods":["delete"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"delete","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间","description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"libraryId","in":"query","schema":{"title":"文档库id","description":"","type":"string","required":true,"example":"skdfefxxx"}}],"responses":{"200":{"schema":{"description":"","type":"object","properties":{"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"30F6AD44-F078-540D-B5A5-1E519C8E9E6D"},"success":{"title":"请求是否成功","description":"","type":"boolean","example":"true"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"30F6AD44-F078-540D-B5A5-1E519C8E9E6D\\\",\\n  \\\"success\\\": true\\n}\",\"type\":\"json\"}]"},"RunLibraryChatGeneration":{"summary":"获取生成式对话结果","path":"/{workspaceId}/api/run/library/chat/generation","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid","autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"docIdList":{"title":"文档列表","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"1273827636xxx"},"required":false},"enableFollowUp":{"title":"是否开启多轮增强","description":"","type":"boolean","required":false,"example":"false"},"enableMultiQuery":{"title":"是否开启query拆分","description":"","type":"boolean","required":false,"example":"false"},"enableOpenQa":{"title":"是否开启openQA","description":"","type":"boolean","required":false,"example":"false"},"followUpLlm":{"title":"query多轮增强使用的llm","description":"","type":"string","required":false,"example":"qwen-max"},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"3akzl28vap"},"llmType":{"title":"大模型类型","description":"","type":"string","required":true,"example":"qwen-max"},"multiQueryLlm":{"title":"query拆分使用的llm","description":"","type":"string","required":false,"example":"qwen-max"},"query":{"title":"用户输入的query","description":"","type":"string","required":true,"example":""},"queryCriteria":{"title":"属性过滤器","description":"","type":"object","properties":{"and":{"title":"and表达式，用于筛选文档/文档块","description":"","type":"array","items":{"description":"","type":"object","properties":{"boost":{"title":"标签的权重","description":"","type":"number","format":"float","required":false,"example":"0.5"},"key":{"title":"标签的key","description":"","type":"string","required":false,"example":"city"},"operator":{"title":"标签的操作符：文档库元信息key存储的value和您输入的value之间的关系","description":"","type":"string","required":false,"example":"eq"},"value":{"title":"标签的值","description":"","type":"string","required":false,"example":""}},"required":false},"required":false},"or":{"title":"or表达式，用于筛选文档/文档块","description":"","type":"array","items":{"description":"","type":"object","properties":{"boost":{"title":"标签的权重","description":"","type":"number","format":"float","required":false,"example":"0.5"},"key":{"title":"标签的key","description":"","type":"string","required":false,"example":"city"},"operator":{"title":"标签的操作符：文档库元信息key存储的value和您输入的value之间的关系","description":"","type":"string","required":false,"example":"eq"},"value":{"title":"标签的值","description":"","type":"string","required":false,"example":""}},"required":false},"required":false}},"required":false},"rerankType":{"title":"排序策略类型：linear/model (linear: 基于规则排序, model: 模型排序, llm)","description":"","type":"string","required":false,"example":"linear"},"sessionId":{"title":"sessionId","description":"sessionId","type":"string","required":false,"example":"null"},"stream":{"title":"流式/非流式","description":"","type":"boolean","required":false,"example":"false","default":"false"},"subQueryList":{"title":"子查询query","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":""},"required":false},"textSearchParameter":{"title":"搜索引擎参数--文本搜索参数","description":"","type":"object","properties":{"limit":{"title":"返回行数","description":"","type":"integer","format":"int32","required":false,"example":"10"},"searchAnalyzerType":{"title":"搜索分词器，根据业务需求灵活配置，如果留空，使用文档库绑定的搜索分词器","description":"","type":"string","required":false,"example":"IkMaxWord"}},"required":false},"topK":{"title":"最终召回的语料数量","description":"","type":"integer","format":"int32","required":false,"example":"1"},"vectorSearchParameter":{"title":"搜索引擎参数--向量搜索参数","description":"","type":"object","properties":{"limit":{"title":"返回行数","description":"","type":"integer","format":"int32","required":false,"example":"10"}},"required":false},"withDocumentReference":{"title":"是否返回文档引用","description":"","type":"boolean","required":false,"example":"false"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<Object>","description":"ResultCode<Object>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"any","example":""},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"{\\\\n    \\\\\\\"finish\\\\\\\":true,\\\\n    \\\\\\\"text\\\\\\\":\\\\\\\"是的，记名预付卡的有效期不得低于3年。\\\\\\\",\\\\n    \\\\\\\"message\\\\\\\": \\\\\\\"是的，记名预付卡的有效期不得低于3年。\\\\\\\",\\\\n    \\\\\\\"queryResult\\\\\\\":{\\\\n      \\\\\\\"errCode\\\\\\\": \\\\\\\"0\\\\\\\",\\\\t//接口协议层面的错误码，正常为0，未授权，参数错误，服务器异常时会发生变化，可以忽略不处理\\\\n      \\\\\\\"message\\\\\\\": \\\\\\\"ok\\\\\\\",\\\\t//接口协议层面的消息\\\\n      \\\\\\\"data\\\\\\\":{\\\\n        \\\\\\\"success\\\\\\\": true,\\\\t//有回答true 无回答false\\\\n        \\\\\\\"answer\\\\\\\": null,\\\\t//大模型生成的回答结果\\\\n        \\\\\\\"embeddingElapsedMs\\\\\\\": 127,\\\\n        \\\\\\\"vectorSearchElapsedMs\\\\\\\": 2745,\\\\n        \\\\\\\"llmElapsedMs\\\\\\\": 7911,\\\\n        \\\\\\\"totalElapsedMs\\\\\\\": 10820,\\\\n        \\\\\\\"chunks\\\\\\\": [\\\\t//召回的分块信息，一般为top5或top10，可联系我们调整效果\\\\n          {\\\\n            \\\\\\\"chunkId\\\\\\\": \\\\\\\"470182177892469799\\\\\\\",\\\\t//分块信息的编号\\\\n            \\\\\\\"docId\\\\\\\": \\\\\\\"22666332\\\\\\\",\\\\t//分块关联的文档编号\\\\n            \\\\\\\"chunkText\\\\\\\": \\\\\\\"Profits plummeted in the first quarter, can't you bear it? In fact, previous rounds of price cuts have indeed had a certain impact on Tesla's financial data. Tesla has just released its financial report for the first quarter of this year. The data shows that in Q1 2023, Tesla achieved revenue of 23.33 billion US dollars, an increase of 24% over the previous year; Tesla delivered more than 422,000 electric vehicles worldwide in the first quarter, an increase of 36% over the previous year\\\\\\\",\\\\t//新闻原始内容\\\\n            \\\\\\\"chunkMeta\\\\\\\": {\\\\t// demo数据中的其他metadata\\\\n              \\\\\\\"language\\\\\\\": \\\\\\\"en\\\\\\\",\\\\n              \\\\\\\"unique_id\\\\\\\": \\\\\\\"news_22666332_13\\\\\\\",\\\\n              \\\\\\\"content_type\\\\\\\": \\\\\\\"news\\\\\\\",\\\\n              \\\\\\\"stock_id_list\\\\\\\": []\\\\n            }\\\\n          }],\\\\n        \\\\\\\"documents\\\\\\\": [{\\\\n          \\\\\\\"docId\\\\\\\": \\\\\\\"1686637056086872065\\\\\\\",\\\\t//文档编号\\\\n          \\\\\\\"gmtCreate\\\\\\\": \\\\\\\"2023-08-02 15:16:25\\\\\\\",\\\\t//文档的创建时间\\\\n          \\\\\\\"libraryId\\\\\\\": \\\\\\\"a1b2c3\\\\\\\",\\\\t//文档关联的知识库编号\\\\n          \\\\\\\"title\\\\\\\": \\\\\\\"2023年工银信用卡微信、京东绑卡消费累计积分活动\\\\\\\",\\\\t//文档标题\\\\n          \\\\\\\"url\\\\\\\": null\\\\t//文档连接，如有\\\\n        }]\\\\t//块文本关联的文档\\\\n      },\\\\n      \\\\\\\"success\\\\\\\": true\\\\t//接口协议层面的成功/失败状态 true就是errCode为0\\\\n    }\\\\n  }\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetHistoryListByBizType":{"summary":"分页查询文档库列表","path":"/{workspaceId}/api/history/list","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","autoTest":true,"tenantRelevance":"tenant"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"page","in":"query","schema":{"title":"页码","description":"","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"pageSize","in":"query","schema":{"title":"页面大小","description":"","type":"integer","format":"int32","required":false,"example":"10","default":"10"}},{"name":"bizType","in":"query","schema":{"title":"业务类型，目前支持：模型问答（LlmChat）、文档库问答（LibraryChat）","description":"","type":"string","required":true,"enumValueTitles":{"LlmChat":"LlmChat","LibraryChat":"LibraryChat"},"example":"LibraryChat"}},{"name":"bizId","in":"query","schema":{"title":"业务唯一标识，当bizType为LibraryChat时，bizId指的是文档库id","description":"","type":"string","required":true,"example":"GysYBsxx"}}],"responses":{"200":{"schema":{"title":"ResultCode<PageVO<LlmHistoryVO>>","description":"ResultCode<PageVO<LlmHistoryVO>>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"currentPage":{"title":"当前页","description":"","type":"integer","format":"int64","example":"1"},"pageSize":{"title":"每页记录数","description":"","type":"integer","format":"int64","example":"10"},"records":{"title":"记录","description":"","type":"array","items":{"description":"","type":"object","properties":{"bizId":{"title":"业务id","description":"","type":"string","example":"GysYBsxx"},"bizType":{"title":"业务类型","description":"","type":"string","example":"LibraryChat"},"extraMessage":{"title":"扩展信息","description":"","type":"any","example":"null"},"gmtCreate":{"title":"创建时间","description":"","type":"string","example":"2024-01-01 00:00:00"},"gmtModified":{"title":"修改时间","description":"","type":"string","example":"2024-01-01 00:00:00\n"},"id":{"title":"历史记录id","description":"","type":"integer","format":"int64","example":"210"},"llmAnswer":{"title":"大模型回答","description":"","type":"string","example":""},"llmPrompt":{"title":"大模型提示词","description":"","type":"string","example":""},"llmType":{"title":"大模型类型","description":"","type":"string","example":"qwen-max"},"sessionId":{"title":"会话id","description":"","type":"string","example":"null"},"userQuery":{"title":"用户问题","description":"","type":"string","example":""}}}},"totalPages":{"title":"总页数","description":"","type":"integer","format":"int64","example":"10"},"totalRecords":{"title":"总记录数","description":"","type":"integer","format":"int64","example":"100"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"9DF9B3F3-9FFE-52CB-A8DC-F7BD5F842F0E"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"currentPage\\\": 1,\\n    \\\"pageSize\\\": 10,\\n    \\\"records\\\": [\\n      {\\n        \\\"bizId\\\": \\\"GysYBsxx\\\",\\n        \\\"bizType\\\": \\\"LibraryChat\\\",\\n        \\\"extraMessage\\\": \\\"null\\\",\\n        \\\"gmtCreate\\\": \\\"2024-01-01 00:00:00\\\",\\n        \\\"gmtModified\\\": \\\"2024-01-01 00:00:00\\\\n\\\",\\n        \\\"id\\\": 210,\\n        \\\"llmAnswer\\\": \\\"你好。\\\",\\n        \\\"llmPrompt\\\": \\\"请使用以下上下文来回答最后的问题。\\\\\\\\n以下是上下文内容：\\\",\\n        \\\"llmType\\\": \\\"qwen-max\\\",\\n        \\\"sessionId\\\": \\\"null\\\",\\n        \\\"userQuery\\\": \\\"你是谁\\\"\\n      }\\n    ],\\n    \\\"totalPages\\\": 10,\\n    \\\"totalRecords\\\": 100\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"9DF9B3F3-9FFE-52CB-A8DC-F7BD5F842F0E\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]"},"InvokePlugin":{"summary":"插件调试接口","path":"/{workspaceId}/api/plugin/invoke","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"params":{"title":"请求参数","description":"","type":"object","required":false,"example":""},"pluginId":{"title":"插件标识符","description":"","type":"string","required":false,"example":"3mj87da7zr"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<JSONObject>","description":"ResultCode<JSONObject>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","example":"{'jobWaiting': [0, 0], 'timestamps': [1713383820, 1713383880], 'jobUsage': [0, 0], 'quotaUsage': [123, 32]}"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"915AAAB9-4908-5224-9E53-9E9D7D0AA94B"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"test\\\": \\\"test\\\",\\n    \\\"test2\\\": 1\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"915AAAB9-4908-5224-9E53-9E9D7D0AA94B\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"RunAgent":{"summary":"运行智能体","path":"/{workspaceId}/api/bot/thread/run","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/octet-stream"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"title":"请求体参数","description":"","type":"object","properties":{"modelId":{"title":"模型id","description":"","type":"string","required":false,"example":"qwen-plus"},"threadId":{"title":"会话id","description":"","type":"string","required":false,"example":"4vlag5ken3"},"botId":{"title":"智能体id","description":"","type":"string","required":true,"example":"d6zxykawk9"},"userContent":{"title":"用户输入","description":"","type":"string","required":true,"example":""},"stream":{"title":"是否流式，默认为true","description":"","type":"boolean","required":false,"example":"true"},"versionId":{"title":"运行版本Id","description":"","type":"string","required":false,"example":"w4paqoezm2"},"useDraft":{"title":"是否使用草稿版本，草稿是指编辑区域最新的，没有发布的版本，不稳定","description":"","type":"boolean","required":false,"example":"false"},"userInputs":{"title":"用户定义的更复杂的输入参数","type":"object"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<AgentResponse>","description":"ResultCode<AgentResponse>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"versionId":{"title":"智能体版本Id","description":"","type":"string","example":"w4paqoezm2"},"traceId":{"title":"链路Id","description":"","type":"string","example":"5bdb9809856c58acb92001f8ae65773c"},"threadId":{"title":"会话Id","description":"","type":"string","example":"4vlag5ken3"},"functionCallResponses":{"title":"工具调用响应","description":"","type":"array","items":{"title":"工具调用响应","description":"","type":"object","properties":{"functionName":{"title":"工具函数名称","description":"","type":"string","example":"web_search"},"displayName":{"title":"工具函数展示名称","description":"","type":"string","example":""},"functionArgs":{"title":"工具函数参数","description":"","type":"string","example":""},"result":{"title":"工具调用结果","description":"","type":"string","example":""},"startTime":{"title":"开始时间","description":"","type":"string","example":"2025-01-21 16:37:14"},"endTime":{"title":"结束时间","description":"","type":"string","example":"2025-01-21 16:37:14"}}}},"response":{"title":"模型响应","description":"","type":"object","properties":{"id":{"title":"系统生成的标识本次调用的id。","description":"","type":"string","example":"d91d9afa-7cfc-4235-b012-a6f8e6ffa443"},"modelId":{"title":"本次调用的模型名。","description":"","type":"string","example":"qwen-plus"},"choices":{"title":"模型生成内容的详情。","description":"","type":"array","items":{"title":"模型生成内容的详情。","description":"","type":"object","properties":{"index":{"title":"生成的结果序列编号，默认为0。","description":"","type":"integer","format":"int32","example":"0"},"message":{"title":"模型输出的消息。","description":"","type":"object","properties":{"role":{"title":"模型的角色，固定为assistant。","description":"","type":"string","example":"assistant"},"roleDisplayName":{"title":"模型的角色的展示名称。","description":"","type":"string","example":"assistant"},"content":{"title":"模型生成的文本。","description":"","type":"string","example":""}}},"finishReason":{"title":"模型生成内容结束原因。","description":"","type":"string","example":"stop"}}}},"created":{"title":"创建时间","description":"","type":"integer","format":"int64","example":"1737448637"},"time":{"title":"时间","description":"","type":"string","example":"2025-01-21T16:37:17.497206762"}}},"inputTokens":{"title":"输入token","description":"","type":"integer","format":"int32","example":"766"},"outputTokens":{"title":"输出token","description":"","type":"integer","format":"int32","example":"988"}}},"requestId":{"title":"请求id","description":"","type":"string","example":"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"versionId\\\": \\\"w4paqoezm2\\\",\\n    \\\"traceId\\\": \\\"5bdb9809856c58acb92001f8ae65773c\\\",\\n    \\\"threadId\\\": \\\"4vlag5ken3\\\",\\n    \\\"functionCallResponses\\\": [\\n      {\\n        \\\"functionName\\\": \\\"web_search\\\",\\n        \\\"displayName\\\": \\\"搜索引擎\\\",\\n        \\\"functionArgs\\\": \\\"{\\\\\\\\\\\\\\\"query\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2025年1月28日到2月3日天气预报\\\\\\\\\\\\\\\"}\\\",\\n        \\\"result\\\": \\\"下周天气晴朗\\\",\\n        \\\"startTime\\\": \\\"2025-01-21 16:37:14\\\",\\n        \\\"endTime\\\": \\\"2025-01-21 16:37:14\\\"\\n      }\\n    ],\\n    \\\"response\\\": {\\n      \\\"id\\\": \\\"d91d9afa-7cfc-4235-b012-a6f8e6ffa443\\\",\\n      \\\"modelId\\\": \\\"qwen-plus\\\",\\n      \\\"choices\\\": [\\n        {\\n          \\\"index\\\": 0,\\n          \\\"message\\\": {\\n            \\\"role\\\": \\\"assistant\\\",\\n            \\\"roleDisplayName\\\": \\\"assistant\\\",\\n            \\\"content\\\": \\\"下周天气都不错\\\"\\n          },\\n          \\\"finishReason\\\": \\\"stop\\\"\\n        }\\n      ],\\n      \\\"created\\\": 1737448637,\\n      \\\"time\\\": \\\"2025-01-21T16:37:17.497206762\\\"\\n    },\\n    \\\"inputTokens\\\": 766,\\n    \\\"outputTokens\\\": 988\\n  },\\n  \\\"requestId\\\": \\\"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"CreateDialog":{"summary":"创建外呼会话","path":"/{workspaceId}/api/virtualHuman/dialog/create","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"playCode":{"title":"剧本编码","description":"","type":"string","required":true,"example":"live_broadcast_qa"},"channel":{"title":"渠道","description":"","type":"string","required":true,"example":"taobao"},"metaData":{"title":"其他信息","description":"","type":"object","required":false,"example":"null"},"qaLibraryList":{"title":"QA问答库ID列表，enableLibrary为true时，不得为空。","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"d86a4b9cd3"},"required":false},"requestId":{"title":"请求ID","description":"","type":"string","required":true,"example":"ebf83826-dc1c-46f8-9759-0fb6da4c8xxx\n"},"enableLibrary":{"title":"是否开启意图库，默认是false。","type":"boolean","required":false,"default":"true"},"selfDirected":{"title":"是否开启自主问答，默认是false。","type":"boolean","default":"false"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<DiaBaseResult>","description":"ResultCode<DiaBaseResult>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"sessionId":{"title":"会话ID","description":"","type":"string","example":"1728545917713234"},"openingRemarks":{"title":"开场白","type":"string"}}},"requestId":{"title":"请求id","description":"","type":"string","example":"003D019A-1BB3-53EC-A0D2-CE76DA5D73B1"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"sessionId\\\": \\\"1728545917713234\\\",\\n    \\\"openingRemarks\\\": \\\"你好，我是XX客服人员。\\\"\\n  },\\n  \\\"requestId\\\": \\\"003D019A-1BB3-53EC-A0D2-CE76DA5D73B1\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"RealTimeDialog":{"summary":"实时对话","path":"/{workspaceId}/api/realtime/dialog/chat","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["text/event-stream","application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"title":"请求体参数。","description":"","type":"object","properties":{"bizType":{"title":"业务类型，默认mixIntentChat。","description":"","type":"string","required":false,"example":"mixIntentChat","default":"mixIntentChat"},"analysis":{"title":"是否分析","description":"","type":"boolean","required":false,"example":"false","default":"false"},"recommend":{"title":"推荐意图","description":"","type":"boolean","required":false,"example":"false","default":"false"},"metaData":{"title":"元信息，用于封装提示词。","description":"","type":"object","required":false,"example":""},"stream":{"title":"是否流式返回","description":"","type":"boolean","required":false,"example":"false","default":"false"},"conversationModel":{"title":"对话列表","description":"","type":"array","items":{"title":"对话","description":"","type":"object","properties":{"role":{"title":"角色。0表示客户，1表示坐席。","description":"","type":"integer","format":"int32","required":true,"example":"0","enum":["0","1"]},"customerServiceType":{"title":"坐席类型，0: 机器人，1: 人工。","description":"","type":"string","required":false,"example":"0","enum":["0","1"]},"customerServiceId":{"title":"客服ID","description":"","type":"string","required":false,"example":"1374683645635"},"customerId":{"title":"对话角色的唯一标识","description":"","type":"string","required":false,"example":"98457834685635"},"content":{"title":"对话的具体内容","description":"","type":"string","required":true,"example":""},"type":{"title":"对话内容的类型[Text(文本),Audio(音频),Image(图片)]","description":"","type":"string","required":true,"example":"audio","enum":["text","audio","image"]},"beginTime":{"title":"这句话的开始时间","description":"","type":"string","required":false,"example":"2024-11-08 09:51:16"},"begin":{"title":"本句话的开始时间，相对于会话开始点的偏移时间ms","description":"","type":"integer","format":"int32","required":false,"example":"5"},"end":{"title":"本句话的结束时间，相对于会话开始点的偏移时间ms","description":"","type":"integer","format":"int32","required":false,"example":"10"}},"required":false},"required":true},"sessionId":{"title":"会话ID","description":"","type":"string","required":true,"example":"237645726354"},"dialogMemoryTurns":{"title":"携带的会话历史轮数","description":"","type":"integer","format":"int32","required":false,"example":"3"},"userVad":{"title":"是否用户打断","type":"boolean","required":false,"default":"false"},"scriptContentPlayed":{"title":"上一句客服话术已经播报的部分","type":"string"},"opType":{"title":"操作类型，目前支持common/hierarchical","type":"string","example":"common","default":"common"}},"required":false}}],"responses":{"200":{"schema":{"title":"IntentionChatResp","description":"IntentionChatResp","type":"object","properties":{"id":{"title":"本次调用的唯一标识符。每个chunk对象有相同的id。","description":"","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032"},"choices":{"title":"生成内容的数组，可包含一个或多个choices对象。","description":"","type":"array","items":{"description":"","type":"object","properties":{"index":{"title":"在choices列表中的序列编号。","description":"","type":"integer","format":"int32","example":"0"},"finishReason":{"title":"会话结束时为stop，会话正在进行中为null；当success为false时，为错误信息。","description":"","type":"string","example":"stop"},"message":{"title":"非流式时，返回的全量结果。","description":"","type":"object","properties":{"intentionCode":{"title":"意图code","description":"","type":"string","example":"1853360771162058752"},"intentionScript":{"title":"意图话术","description":"","type":"string","example":""},"intentionName":{"title":"意图名称","description":"","type":"string","example":""},"recommendIntention":{"title":"推荐意图","description":"","type":"string","example":"null"},"recommendScript":{"title":"推荐话术","description":"","type":"string","example":"null"},"analysisProcess":{"title":"分析过程","description":"","type":"string","example":"null"},"selfDirectedScript":{"title":"自主问答话术 增量数据","description":"","type":"string","example":"null"},"callTime":{"title":"time","description":"time","type":"string","example":"1735139569523"},"hangUpDialog":{"title":"挂断对话","description":"","type":"boolean","example":"false"},"selfDirectedScriptFullContent":{"title":"自主问答话术 全量数据","description":"","type":"string","example":""},"interrupt":{"title":"是否打断","type":"boolean"},"skipCurrentRecognize":{"title":"是否跳过当前识别","type":"boolean","default":"false"}}},"delta":{"title":"流式时，返回的增量结果。","description":"","type":"object","properties":{"intentionCode":{"title":"意图code","description":"","type":"string","example":"1853360771162058752"},"intentionScript":{"title":"意图话术","description":"","type":"string","example":""},"intentionName":{"title":"意图名称","description":"","type":"string","example":""},"recommendIntention":{"title":"推荐意图","description":"","type":"string","example":"null"},"recommendScript":{"title":"推荐话术","description":"","type":"string","example":"null"},"analysisProcess":{"title":"分析过程","description":"","type":"string","example":"null"},"selfDirectedScript":{"title":"自主问答话术 增量数据","description":"","type":"string","example":""},"callTime":{"title":"time","description":"time","type":"string","example":"null"},"hangUpDialog":{"title":"挂断对话","description":"","type":"boolean","example":"false"},"selfDirectedScriptFullContent":{"title":"自主问答话术 全量数据","description":"","type":"string","example":""},"interrupt":{"title":"是否打断","type":"boolean"},"skipCurrentRecognize":{"title":"是否跳过当前识别","type":"boolean","default":"false"}}}}}},"created":{"title":"本次请求被创建的时间戳","description":"","type":"string","example":"1735139569523"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"requestId":{"title":"请求id","description":"","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"id\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\",\\n  \\\"choices\\\": [\\n    {\\n      \\\"index\\\": 0,\\n      \\\"finishReason\\\": \\\"stop\\\",\\n      \\\"message\\\": {\\n        \\\"intentionCode\\\": \\\"1853360771162058752\\\",\\n        \\\"intentionScript\\\": \\\"抱歉，我没有明白您的意思，或者您可以拨打我们的客服热线，请客服人员为您解答。\\\",\\n        \\\"intentionName\\\": \\\"其它\\\",\\n        \\\"recommendIntention\\\": \\\"null\\\",\\n        \\\"recommendScript\\\": \\\"null\\\",\\n        \\\"analysisProcess\\\": \\\"null\\\",\\n        \\\"selfDirectedScript\\\": \\\"null\\\",\\n        \\\"callTime\\\": \\\"1735139569523\\\",\\n        \\\"hangUpDialog\\\": false,\\n        \\\"selfDirectedScriptFullContent\\\": \\\"关于宇宙的大小，这是一个非常深奥的科学话题\\\\n\\\",\\n        \\\"interrupt\\\": false,\\n        \\\"skipCurrentRecognize\\\": true\\n      },\\n      \\\"delta\\\": {\\n        \\\"intentionCode\\\": \\\"1853360771162058752\\\",\\n        \\\"intentionScript\\\": \\\"抱歉，我没有明白您的意思，或者您可以拨打我们的客服热线，请客服人员为您解答。\\\",\\n        \\\"intentionName\\\": \\\"其他\\\",\\n        \\\"recommendIntention\\\": \\\"null\\\",\\n        \\\"recommendScript\\\": \\\"null\\\",\\n        \\\"analysisProcess\\\": \\\"null\\\",\\n        \\\"selfDirectedScript\\\": \\\"话题\\\",\\n        \\\"callTime\\\": \\\"null\\\",\\n        \\\"hangUpDialog\\\": false,\\n        \\\"selfDirectedScriptFullContent\\\": \\\"关于宇宙的大小，这是一个非常深奥的科学话题\\\",\\n        \\\"interrupt\\\": false,\\n        \\\"skipCurrentRecognize\\\": true\\n      }\\n    }\\n  ],\\n  \\\"created\\\": \\\"1735139569523\\\",\\n  \\\"success\\\": true,\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\"\\n}\",\"type\":\"json\"}]"},"RealtimeDialogAssist":{"summary":"实时会话辅助","path":"/{workspaceId}/api/realtime/dialog/assist","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["text/event-stream","application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"requestId":{"title":"请求ID","description":"","type":"string","required":true,"example":"0FC6636E-380A-5369-AE01-D1C15BB9B254"},"bizType":{"title":"业务类型,IntentionBizTypeEnum[COMMON(通用意图识别),ATTITUDE(客户态度意图识别),BUSINESS(协商还款意图识别),MIX_INTENT_CHAT(混合问答),SIGNAL_LABLE(信令标签意图识别),DIALOG_ASSIST(对话辅助),code(code),desc(描述)]","description":"","type":"string","required":true,"example":"dialogAssist"},"analysis":{"title":"是否分析","description":"","type":"boolean","required":false,"example":"false","default":"false"},"metaData":{"title":"metaData","description":"metaData","type":"object","required":false,"example":""},"conversationModel":{"title":"对话列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"role":{"title":"角色","description":"","type":"integer","format":"int32","required":true,"example":"0"},"customerServiceType":{"title":"坐席类型","description":"","type":"string","required":false,"example":"0"},"customerServiceId":{"title":"客服ID","description":"","type":"string","required":false,"example":"1374683645635"},"customerId":{"title":"对话角色的唯一标识","description":"","type":"string","required":false,"example":"98457834685635"},"content":{"title":"对话的具体内容","description":"","type":"string","required":true,"example":""},"type":{"title":"对话内容的类型,DialogueTypeEnum[Text(文本),Audio(音频),Image(图片),code,desc]","description":"","type":"string","required":false,"example":"text","default":"text"}},"required":false},"required":true},"sessionId":{"title":"会话ID","description":"","type":"string","required":true,"example":"1915593248420413441"},"dialogMemoryTurns":{"title":"携带的会话历史轮数","description":"","type":"integer","format":"int32","required":false,"example":"0","default":"0"},"hangUpDialog":{"title":"挂断会话","description":"","type":"boolean","required":false,"example":"false","default":"false"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<DialogAssistResult>","description":"ResultCode<DialogAssistResult>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"requestId":{"title":"请求唯一ID","description":"","type":"string","example":"0FC6636E-380A-5369-AE01-D1C15BB9B254\n"},"sessionId":{"title":"会话ID","description":"","type":"string","example":"1915593248420413441"},"conversationModel":{"title":"本轮对话内容","description":"","type":"array","items":{"description":"","type":"object","properties":{"role":{"title":"角色","description":"","type":"string","example":"0"},"customerServiceType":{"title":"坐席类型","description":"","type":"string","example":"0"},"customerServiceId":{"title":"客服ID","description":"","type":"string","example":"1374683645635"},"customerId":{"title":"对话角色的唯一标识","description":"","type":"string","example":"98457834685635"},"content":{"title":"对话的具体内容","description":"","type":"string","example":""},"type":{"title":"对话内容的类型","description":"","type":"string","example":"text"}}}},"assistScripts":{"title":"话术辅助结果","description":"","type":"array","items":{"description":"","type":"object","properties":{"intentCode":{"title":"意图编码","description":"","type":"string","example":"1920005488515465216"},"intentName":{"title":"意图名称","description":"","type":"string","example":""},"intentLabels":{"title":"意图标签","description":"","type":"string","example":"null"},"assistScript":{"title":"推荐话术","description":"","type":"string","example":""},"isDefault":{"title":"是否意图逃逸","description":"","type":"boolean"}}}},"assistSop":{"title":"流程辅助结果","description":"","type":"array","items":{"description":"","type":"object","properties":{"intentCode":{"title":"意图编码","description":"","type":"string","example":"XXX"},"intentName":{"title":"意图名称","description":"","type":"string","example":"XXX"},"assistSop":{"title":"推荐流程","description":"","type":"string","example":"XXX"},"isDefault":{"title":"是否意图逃逸","description":"","type":"boolean"}}}},"analysisProcess":{"title":"分析过程","description":"","type":"string","example":""}}},"requestId":{"title":"请求id","description":"","type":"string","example":"67C7021A-D268-553D-8C15-A087B9604028"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"requestId\\\": \\\"0FC6636E-380A-5369-AE01-D1C15BB9B254\\\",\\n    \\\"sessionId\\\": \\\"\\\\\\\"1915593248420413441\\\\\\\"\\\",\\n    \\\"conversationModel\\\": [\\n      {\\n        \\\"role\\\": \\\"\\\\\\\"0\\\\\\\"\\\",\\n        \\\"customerServiceType\\\": \\\"\\\\\\\"0\\\\\\\"\\\",\\n        \\\"customerServiceId\\\": \\\"\\\\\\\"1374683645635\\\\\\\"\\\",\\n        \\\"customerId\\\": \\\"\\\\\\\"98457834685635\\\\\\\"\\\",\\n        \\\"content\\\": \\\"你好\\\",\\n        \\\"type\\\": \\\"text\\\"\\n      }\\n    ],\\n    \\\"assistScripts\\\": [\\n      {\\n        \\\"intentCode\\\": \\\"\\\\\\\"1920005488515465216\\\\\\\"\\\",\\n        \\\"intentName\\\": \\\"礼貌问答\\\",\\n        \\\"intentLabels\\\": \\\"null\\\",\\n        \\\"assistScript\\\": \\\"可按照SOP流程回应。\\\",\\n        \\\"isDefault\\\": true\\n      }\\n    ],\\n    \\\"assistSop\\\": [\\n      {\\n        \\\"intentCode\\\": \\\"XXX\\\",\\n        \\\"intentName\\\": \\\"XXX\\\",\\n        \\\"assistSop\\\": \\\"XXX\\\",\\n        \\\"isDefault\\\": true\\n      }\\n    ],\\n    \\\"analysisProcess\\\": \\\"客户回答的内容与提供的意图列表描述均不匹配，没有表达出对账单、还款、天气或其他服务的具体需求或问题。\\\"\\n  },\\n  \\\"requestId\\\": \\\"67C7021A-D268-553D-8C15-A087B9604028\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"GetDialogDetail":{"summary":"获取异步任务的结果","path":"/{workspaceId}/api/virtualHuman/dialog/detail","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"sessionId","in":"query","schema":{"title":"会话ID","description":"","type":"string","required":true,"example":"1906623923815534xxx"}}],"responses":{"200":{"schema":{"title":"ResultCode<DialogDetailQueryResponse>","description":"ResultCode<DialogDetailQueryResponse>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"totalDialogTurns":{"title":"总对话轮次","description":"","type":"integer","format":"int32","example":"10"},"validDialogTurns":{"title":"有效对话轮次","description":"","type":"integer","format":"int32","example":"5"},"dialogueList":{"title":"对话明细","description":"","type":"array","items":{"description":"","type":"object","properties":{"role":{"title":"角色","description":"","type":"string","example":"0"},"customerServiceType":{"title":"坐席类型","description":"","type":"string","example":"0"},"customerServiceId":{"title":"客服ID","description":"","type":"string","example":"BOT"},"customerId":{"title":"客户ID","description":"","type":"string","example":"123761283"},"content":{"title":"对话的具体内容","description":"","type":"string","example":""},"type":{"title":"对话内容的类型","description":"","type":"string","example":"text"},"id":{"title":"本句话的唯一标识,内部赋值","description":"","type":"integer","format":"int64","example":"1742869659849"},"intentCode":{"title":"意图code","description":"","type":"string","example":"193874634xxx"},"intentName":{"title":"意图名称","description":"","type":"string","example":""},"hangUpDialog":{"title":"是否挂断：当句是否挂断会话标识","description":"","type":"boolean","example":"true"}}}},"status":{"title":"会话状态","description":"","type":"string","example":"COMPLETED","enum":["INIT","PROCESSING","COMPLETED","ERROR"]},"gmtCreate":{"title":"会话时间","description":"","type":"string","example":"2024-09-27 11:23:20"}}},"requestId":{"title":"请求id","description":"","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"totalDialogTurns\\\": 10,\\n    \\\"validDialogTurns\\\": 5,\\n    \\\"dialogueList\\\": [\\n      {\\n        \\\"role\\\": \\\"0\\\",\\n        \\\"customerServiceType\\\": \\\"0\\\",\\n        \\\"customerServiceId\\\": \\\"BOT\\\",\\n        \\\"customerId\\\": \\\"123761283\\\",\\n        \\\"content\\\": \\\"请问具体怎么操作呢？\\\",\\n        \\\"type\\\": \\\"text\\\",\\n        \\\"id\\\": 1742869659849,\\n        \\\"intentCode\\\": \\\"193874634xxx\\\",\\n        \\\"intentName\\\": \\\"客户询问如何操作\\\",\\n        \\\"hangUpDialog\\\": true\\n      }\\n    ],\\n    \\\"status\\\": \\\"COMPLETED\\\",\\n    \\\"gmtCreate\\\": \\\"2024-09-27 11:23:20\\\"\\n  },\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"GetDialogLog":{"summary":"查询会话日志","path":"/{workspaceId}/api/dialog/log","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"title":"请求体内容","description":"","type":"object","properties":{"id":{"title":"实时对话接口返回参数中id字段","description":"","type":"string","required":false,"docRequired":true,"example":"175600129454077743fb03ac54955a4be72ec08f9c216"},"sessionId":{"title":"会话ID","description":"","type":"string","required":false,"docRequired":true,"example":"1758010668S001w4paq82azm"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<IntentRecognize>","description":"ResultCode<IntentRecognize>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"recallList":{"title":"召回列表","description":"","type":"string","example":""},"intentionList":{"title":"意图列表","description":"","type":"array","items":{"title":"意图","description":"","type":"object","properties":{"intentionName":{"title":"意图名称","description":"","type":"string","example":""},"intentionScript":{"title":"意图话术(命中意图列表字段存在,并且 命中“其它”且开启自主问答，这里返回的是自主问答生成的话术)","description":"","type":"string","example":""},"description":{"title":"意图描述","description":"","type":"string","example":""}}}},"conversationList":{"title":"对话内容","description":"","type":"string","example":""},"hitIntentionList":{"title":"命中意图列表","description":"","type":"array","items":{"title":"命中意图","description":"","type":"object","properties":{"intentionName":{"title":"意图名称","description":"","type":"string","example":""},"intentionScript":{"title":"意图话术(命中意图列表字段存在,并且 命中“其它”且开启自主问答，这里返回的是自主问答生成的话术)","description":"","type":"string","example":""},"description":{"title":"意图描述","description":"","type":"string","example":""}}}},"analysisProcess":{"title":"分析过程(实时对话时开启分析过程开关则有值)","description":"","type":"string","example":""},"modelCostTime":{"title":"模型调用耗时时间","description":"","type":"integer","format":"int64","example":"1382"}}},"requestId":{"title":"请求id","description":"","type":"string","example":"051EEB18-049A-17FF-A5E0-14A5B127C798"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"recallList\\\": \\\"## Example:\\\\\\\\n- 对话内容为：\\\\\\\\\\\\\\\"##客服##:您好，请问有什么可以帮到您？\\\\\\\\n ##客户##:暂时没有了。谢谢。\\\\\\\\\\\\\\\"时，用户意图为：\\\\\\\\\\\\\\\"客户想要挂断电话\\\\\\\\\\\\\\\"\\\\\\\\n- 对话内容为：\\\\\\\\\\\\\\\"##客服##:您好，请问有什么可以帮到您？\\\\\\\\n ##客户##:哎你好。\\\\\\\\\\\\\\\"时，用户意图为：\\\\\\\\\\\\\\\"客户询问来电目的\\\\\\\\\\\\\\\"\\\\\\\\n- 对话内容为：\\\\\\\\\\\\\\\"##客服##:您好，请问有什么可以帮到您？\\\\\\\\n ##客户##:我现在财务状况很好，谢谢关心。\\\\\\\\\\\\\\\"时，用户意图为：\\\\\\\\\\\\\\\"客户拒绝贷款\\\\\\\\\\\\\\\"\\\\\\\\n- 对话内容为：\\\\\\\\\\\\\\\"##客服##:您好，请问有什么可以帮到您？\\\\\\\\n ##客户##:不用了，谢谢，不要再打电话了，谢谢。\\\\\\\\\\\\\\\"时，用户意图为：\\\\\\\\\\\\\\\"投诉/退订/不要打电话/骂人\\\\\\\\\\\\\\\"\\\\\\\\n- 对话内容为：\\\\\\\\\\\\\\\"##客服##:您好，请问有什么可以帮到您？\\\\\\\\n ##客户##:你好。\\\\\\\\\\\\\\\"时，用户意图为：\\\\\\\\\\\\\\\"客户询问来电目的\\\\\\\\\\\\\\\"\\\",\\n    \\\"intentionList\\\": [\\n      {\\n        \\\"intentionName\\\": \\\"客户明确表示拒绝营销\\\",\\n        \\\"intentionScript\\\": \\\"非常抱歉，给您带来了不好的体验。如您无需再接受我们的官方来电，请回复“我要退订”四个字！\\\",\\n        \\\"description\\\": \\\"客户明确表示投诉/退订/不要打电话/骂人等拒绝营销\\\"\\n      }\\n    ],\\n    \\\"conversationList\\\": \\\"##客服##:您好，请问是是吧\\\\\\\\n ##客户##:人工客服\\\\\\\\n ##客服##:您好，我是2804，很高兴为您服务！\\\\\\\\n ##客服##:您好，请问有什么可以帮到您？\\\\\\\\n ##客户##:好的 谢谢\\\\\\\\n \\\",\\n    \\\"hitIntentionList\\\": [\\n      {\\n        \\\"intentionName\\\": \\\"客户要求转人工\\\",\\n        \\\"intentionScript\\\": \\\"很抱歉，我这里无法直接为您转接，您可以拨打我司客服热线进行咨询。\\\\n\\\",\\n        \\\"description\\\": \\\"客户希望与真人接触，不想和AI客服继续对话。\\\"\\n      }\\n    ],\\n    \\\"analysisProcess\\\": \\\"客户回答的内容与提供的意图列表描述均不匹配，没有表达出对账单、还款、天气或其他服务的具体需求或问题。\\\",\\n    \\\"modelCostTime\\\": 1382\\n  },\\n  \\\"requestId\\\": \\\"051EEB18-049A-17FF-A5E0-14A5B127C798\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"GetDialogAnalysisResult":{"summary":"获取外呼会话分析结果","path":"/{workspaceId}/api/virtualHuman/dialog/analysis","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"title":"请求体参数。","description":"","type":"object","properties":{"sessionIds":{"title":"会话id列表。useUrl为true时，返回ossUrl；支持1000个会话，超过1000个，返回前1000个会话的分析结果。useUrl为false时，返回会话分析结果；仅支持10个会话，超过10个，返回前10个会话的分析结果。非必填。sessionIds为空时根据起始时间和结束时间查询会话分析结果。不为空时，根据sessionIds查询会话分析结果。二者不可同时为空。","description":"","type":"array","items":{"title":"会话ID。","description":"","type":"string","required":false,"example":"183764873624"},"required":false},"useUrl":{"title":"返回结果是否为ossUrl。为true时，返回结果ossUrl，链接有效期为1小时。默认为true；支持1000个会话，超过1000个，返回前1000个会话的分析结果。为false时，返回会话分析结果；仅支持10个会话，超过10个，返回前10个会话的分析结果。","description":"","type":"boolean","required":false,"example":"true","default":"true"},"startTime":{"title":"起始时间, 格式为yyyy-MM-dd HH:mm:ss。sessionIds不为空时，根据sessionIds查询会话分析结果。","description":"","type":"string","required":false,"example":"2024-09-14 09:11:00"},"endTime":{"title":"结束时间, 格式为yyyy-MM-dd HH:mm:ss。sessionIds不为空时，根据sessionIds查询会话分析结果。","description":"","type":"string","required":false,"example":"2024-09-23 09:20:02"},"asc":{"title":"是否升序, 默认为true，按会话创建时间升序排序。为false时，按会话创建时间降序排序。","description":"","type":"boolean","required":false,"example":"true","default":"true"}},"required":false}}],"responses":{"200":{"schema":{"title":"响应体参数。","description":"","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"dialogAnalysisRespList":{"title":"会话分析结果列表","description":"","type":"array","items":{"title":"会话分析结果","description":"","type":"object","properties":{"sessionId":{"title":"会话ID","description":"","type":"string","example":"183764873624"},"gmtCreate":{"title":"会话的创建时间","description":"","type":"string","example":"2024-04-24 11:54:34\n"},"status":{"title":"会话分析的任务执行状态。\n- init 表示未开始\n- pending 表示会话分析任务正在排队中\n- running 表示会话分析任务正在进行中\n- error 表示会话分析任务执行失败\n- success 表示会话分析任务执行成功","description":"","type":"string","example":"running","enum":["init","pending","running","error","success"]},"ossUrl":{"title":"会话分析的结果,ossUrl形式，过期时间为一小时。","description":"","type":"string","example":"https://xxx.oss-cn-beijing.aliyuncs.com/dialog-analysis/2024-12-30/2/1826661605606129665"},"analysisResp":{"title":"会话分析的结果","description":"","type":"object","properties":{"dialogLabels":{"title":"会话标签列表","description":"","type":"array","items":{"title":"会话标签","description":"","type":"object","properties":{"name":{"title":"标签名称","description":"","type":"string","example":""},"value":{"title":"标签值","description":"","type":"string","example":"0"}}}},"dialogSummary":{"title":"会话摘要","description":"","type":"string","example":""},"dialogExecPlan":{"title":"会话执行计划","description":"","type":"string","example":""},"dialogSop":{"title":"会话SOP","type":"string"},"dialogProcessAnalysis":{"title":"会话过程分析","type":"object"},"dialogOpenAnalysis":{"title":"会话开放分析","type":"object"}}}}}}}},"requestId":{"title":"请求id","description":"","type":"string","example":"88A006F0-B565-53BA-B38A-DBDF9D0B2935"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"dialogAnalysisRespList\\\": [\\n      {\\n        \\\"sessionId\\\": \\\"183764873624\\\",\\n        \\\"gmtCreate\\\": \\\"2024-04-24 11:54:34\\\\n\\\",\\n        \\\"status\\\": \\\"running\\\",\\n        \\\"ossUrl\\\": \\\"https://xxx.oss-cn-beijing.aliyuncs.com/dialog-analysis/2024-12-30/2/1826661605606129665\\\",\\n        \\\"analysisResp\\\": {\\n          \\\"dialogLabels\\\": [\\n            {\\n              \\\"name\\\": \\\"额度不足\\\",\\n              \\\"value\\\": \\\"0\\\"\\n            }\\n          ],\\n          \\\"dialogSummary\\\": \\\"- 是否有资金需求：不确定，客户未明确表示有无资金需求。\\\\\\\\n- 是否有意向：不确定，客户未明确表达意向。\\\\\\\\n- 是否可营销：不可营销，客户对客服的多次询问未表现出兴趣，且对话中提到因不适希望减少联系。\\\\\\\\n- 待满足需求：客户希望了解具体的预审额度信息。\\\",\\n          \\\"dialogExecPlan\\\": \\\"1. 客服应再次确认客户的疑问是否已解决，特别是关于额度的具体数额。\\\\\\\\n2. 如果客户仍有疑问，提供客服热线电话，建议客户直接拨打以获取更详细的帮助。\\\\\\\\n3. 提醒客户检查短信中的链接，以便快速查看和操作。\\\\\\\\n4. 记录此次通话中客户表现出的任何不适或不便，确保后续跟进时更加体贴。\\\\\\\\n5. 发送一条包含操作指南的短信，确保客户能够轻松找到并使用服务。\\\\\\\\n6. 结束通话前，再次感谢客户的支持，并表达希望客户早日康复的愿望。\\\",\\n          \\\"dialogSop\\\": \\\"产品介绍\\\",\\n          \\\"dialogProcessAnalysis\\\": {\\n            \\\"test\\\": \\\"test\\\",\\n            \\\"test2\\\": 1\\n          },\\n          \\\"dialogOpenAnalysis\\\": {\\n            \\\"test\\\": \\\"test\\\",\\n            \\\"test2\\\": 1\\n          }\\n        }\\n      }\\n    ]\\n  },\\n  \\\"requestId\\\": \\\"88A006F0-B565-53BA-B38A-DBDF9D0B2935\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"CreateDialogAnalysisTask":{"summary":"创建会话分析任务","path":"/{workspaceId}/api/virtualHuman/dialog/analysis/submit","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"metaData":{"title":"元数据，用于会话分析过程中需要消费的一些业务相关的属性，由业务系统在发起会话分析任务的时候实时传入。","description":"","type":"object","required":false,"example":"{\n\"labels\": \"XXX\",\n\"summaryConstraints\": \"XXX\",\n\"sopInfo\": \"XXX\"\n}"},"playCode":{"title":"会话场景编码，关联会话分析配置","description":"","type":"string","required":true,"example":"common"},"analysisNodes":{"title":"分析节点，默认为空，表示全部节点。可传入一个或者多个。","description":"","type":"array","items":{"description":"","type":"string","required":false,"enumValueTitles":{"DIALOG_EXECUTION_PLAN":"","DIALOG_SUMMARY":"","DIALOG_SOP":"","DIALOG_LABEL":""},"example":"DIALOG_LABEL"},"required":false},"requestId":{"title":"请求ID","description":"","type":"string","required":true,"example":"0FC6636E-380A-5369-AE01-D1C15BB9B254"},"conversationList":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"dialogueList":{"description":"","type":"array","items":{"description":"","type":"object","properties":{"content":{"title":"对话的具体内容","description":"","type":"string","required":true,"example":""},"role":{"title":"角色（0: 客户；1: 坐席）","description":"","type":"string","required":true,"enumValueTitles":{"0":"","1":""},"example":"1"}},"required":false},"required":true}},"required":false},"required":true}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<List<String>>","description":"ResultCode<List<String>>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据，返回会话ID列表。","description":"","type":"array","items":{"description":"","type":"string","example":"1876540295480209409"}},"requestId":{"title":"请求id","description":"","type":"string","example":"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": [\\n    \\\"1876540295480209409\\\"\\n  ],\\n  \\\"requestId\\\": \\\"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"RebuildTask":{"summary":"重建任务","path":"/{workspaceId}/api/task/rebuild","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid","abilityTreeNodes":["FEATUREsfmJIZ0TW"]},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"taskIds":{"title":"任务id列表","description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"3894763764"},"required":true}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<List<Map<String, Object>>>","description":"ResultCode<List<Map<String, Object>>>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"array","items":{"title":"","description":"","type":"object","example":""}},"requestId":{"title":"请求id","description":"","type":"string","example":"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"message\\\": \\\"任务正在执行中，不能重新构建\\\",\\n      \\\"taskId\\\": \\\"-253103935\\\",\\n      \\\"status\\\": \\\"error\\\"\\n    }\\n  ],\\n  \\\"requestId\\\": \\\"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"EvictTask":{"summary":"中断任务","path":"/{workspaceId}/api/task/evict","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"taskId","in":"query","schema":{"title":"任务Id","description":"","type":"string","required":true,"example":"17071319"}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"17071319"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":""},"requestId":{"title":"请求id","description":"","type":"string","example":"44BD277A-87F9-5310-8D63-3E6645F1DA85"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"17071319\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"返回任务取消的结果，成功/失败。\\\",\\n  \\\"requestId\\\": \\\"44BD277A-87F9-5310-8D63-3E6645F1DA85\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetTaskStatus":{"summary":"获取财报总结任务结果","path":"/{workspaceId}/api/task/status","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"","type":"string","required":true}},{"name":"taskId","in":"query","schema":{"title":"任务Id","description":"","type":"string","required":true}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64"},"data":{"title":"响应数据，任务状态。","description":"","type":"string"},"dataType":{"title":"数据类型","description":"","type":"string"},"errCode":{"title":"错误码","description":"","type":"string"},"message":{"title":"错误信息","description":"","type":"string"},"requestId":{"title":"请求id","description":"","type":"string"},"success":{"title":"是否成功","description":"","type":"boolean"},"time":{"title":"时间戳","description":"","type":"string"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"running\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"30F6AD44-F078-540D-B5A5-1E519C8E9E6D\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"CreateDocsSummaryTask":{"summary":"创建财报总结任务","path":"/{workspaceId}/api/task/summary/docs","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx\n"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"docInfos":{"title":"文档信息列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","required":true,"example":"198386463432"},"endPage":{"title":"结束页","description":"","type":"integer","format":"int32","required":false,"example":"2"},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"rdxrmo6amk"},"startPage":{"title":"起始页","description":"","type":"integer","format":"int32","required":false,"example":"1"}},"required":false},"required":true},"enableTable":{"title":"是否启用表格，默认为true，表示启用。","description":"","type":"boolean","required":false,"example":"true","default":"true"},"instruction":{"title":"指令","description":"","type":"string","required":false,"example":""},"modelId":{"title":"模型id","description":"","type":"string","required":true,"example":"qwen-plus"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"765675376"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"32FFC91D-0A9F-585A-B84F-8A54C5187035"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"765675376\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"32FFC91D-0A9F-585A-B84F-8A54C5187035\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]"},"CreateAnnualDocSummaryTask":{"summary":"创建按年文档总结任务","path":"/{workspaceId}/api/task/summary/doc/annual","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"anaYears":{"title":"分析年份","description":"","type":"array","items":{"description":"","type":"integer","format":"int32","required":true,"example":"2023"},"required":true},"docInfos":{"title":"文档信息列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","required":true,"example":"198386463432"},"docYear":{"title":"文档年份","description":"","type":"integer","format":"int32","required":true,"example":"2023"},"endPage":{"title":"结束页","description":"","type":"integer","format":"int32","required":false,"example":"2"},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"rdxrmo6amk"},"startPage":{"title":"起始页","description":"","type":"integer","format":"int32","required":false,"example":"1"}},"required":false},"required":true},"enableTable":{"title":"是否启用表格，默认为true，表示启用。","description":"","type":"boolean","required":false,"example":"true","default":"true"},"instruction":{"title":"指令","description":"","type":"string","required":false,"example":""},"modelId":{"title":"模型id","description":"","type":"string","required":true,"example":"qwen-plus"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据。即任务ID。","description":"","type":"string","example":"3284627354"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"32FFC91D-0A9F-585A-B84F-8A54C5187035"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"3284627354\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"32FFC91D-0A9F-585A-B84F-8A54C5187035\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]"},"CreatePdfTranslateTask":{"summary":"创建PDF翻译任务","path":"/{workspaceId}/api/task/pdfTranslate","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-ik******RVYCKzt"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","required":true,"example":"873648346573245"},"knowledge":{"title":"知识：翻译时参考的领域知识","description":"","type":"string","required":false,"example":""},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"cjshcxxxx"},"modelId":{"title":"模型id","description":"","type":"string","required":true,"example":"qwen-plus"},"translateTo":{"title":"目标语言：默认为中文","description":"","type":"string","required":false,"example":"中文","default":"中文"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"3284627354"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"3284627354\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"CreateFinReportSummaryTask":{"summary":"创建财报总结任务","path":"/{workspaceId}/api/task/summary","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"create","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"docId":{"title":"文档id","description":"","type":"string","required":true,"example":"123"},"enableTable":{"title":"是否启用表格","description":"","type":"boolean","required":true,"example":"true"},"endPage":{"title":"结束页","description":"","type":"integer","format":"int32","required":false,"example":"10"},"instruction":{"title":"指令","description":"","type":"string","required":false,"example":""},"libraryId":{"title":"文档库id","description":"","type":"string","required":true,"example":"3akzl28vap"},"modelId":{"title":"模型id","description":"","type":"string","required":true,"example":"qwen-max"},"startPage":{"title":"起始页","description":"","type":"integer","format":"int32","required":false,"example":"1"},"taskType":{"title":"任务类型","description":"","type":"string","required":false,"enumValueTitles":{"custom":"custom","finance_report":"finance_report"},"example":"custom"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<String>","description":"ResultCode<String>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"string","example":"3284627354"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": \\\"3284627354\\\",\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"5E3FBAF1-17AF-53B7-AF0A-CDCEEB6DE658\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetSummaryTaskResult":{"summary":"获取财报总结任务结果","path":"/{workspaceId}/api/task/summary/result","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"taskId","in":"query","schema":{"title":"任务Id","description":"","type":"string","required":true,"example":"17071319"}}],"responses":{"200":{"schema":{"title":"ResultCode<ChatModelResponse>","description":"ResultCode<ChatModelResponse>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"choices":{"title":"模型生成内容的详情。","description":"","type":"array","items":{"description":"","type":"object","properties":{"finishReason":{"title":"模型生成内容结束原因。","description":"","type":"string","example":"stop"},"index":{"title":"生成的结果序列编号，默认为0。","description":"","type":"integer","format":"int32","example":"0"},"message":{"title":"模型输出的消息。","description":"","type":"object","properties":{"content":{"title":"模型生成的文本。","description":"","type":"string","example":""},"role":{"title":"模型的角色，固定为assistant。","description":"","type":"string","example":"assistant"},"toolCalls":{"title":"工具调用","description":"","type":"array","items":{"description":"","type":"object","example":"null"}}}}}}},"created":{"title":"创建时间","description":"","type":"integer","format":"int64","example":"1726285125915"},"id":{"title":"系统生成的标识本次调用的id。","description":"","type":"string","example":"1202"},"modelId":{"title":"本次调用的模型名。","description":"","type":"string","example":"qwen-max"},"requestId":{"title":"请求id","description":"","type":"string","example":"0bc13a9517168617617186457e401f"},"time":{"title":"时间","description":"","type":"string","example":"2024-04-24 11:54:34"},"totalTokens":{"title":"token量","description":"","type":"integer","format":"int32","example":"300"},"usage":{"title":"消耗token量","description":"","type":"object","properties":{"imageCount":{"title":"图片数量,wanx等模型","description":"","type":"integer","format":"int32","example":"0"},"imageTokens":{"title":"图片token量,qwen-vl等模型","description":"","type":"integer","format":"int32","example":"0"},"inputTokens":{"title":"输入token量","description":"","type":"integer","format":"int32","example":"100"},"outputTokens":{"title":"输出token量","description":"","type":"integer","format":"int32","example":"200"},"totalTokens":{"title":"总token量","description":"","type":"integer","format":"int32","example":"300"}}}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"0bc13a9517168617617186457e401f"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"choices\\\": [\\n      {\\n        \\\"finishReason\\\": \\\"stop\\\",\\n        \\\"index\\\": 0,\\n        \\\"message\\\": {\\n          \\\"content\\\": \\\"### **报告期经营业绩概述**\\\\\\\\n截至2024年3月31日止三个月的未经审核综合业绩显示强劲增长.\\\",\\n          \\\"role\\\": \\\"assistant\\\",\\n          \\\"toolCalls\\\": [\\n            null\\n          ]\\n        }\\n      }\\n    ],\\n    \\\"created\\\": 1726285125915,\\n    \\\"id\\\": \\\"1202\\\",\\n    \\\"modelId\\\": \\\"qwen-max\\\",\\n    \\\"requestId\\\": \\\"0bc13a9517168617617186457e401f\\\",\\n    \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n    \\\"totalTokens\\\": 300,\\n    \\\"usage\\\": {\\n      \\\"imageCount\\\": 0,\\n      \\\"imageTokens\\\": 0,\\n      \\\"inputTokens\\\": 100,\\n      \\\"outputTokens\\\": 200,\\n      \\\"totalTokens\\\": 300\\n    }\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"0bc13a9517168617617186457e401f\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetTaskResult":{"summary":"获取异步任务结果","path":"/{workspaceId}/api/task/result","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"taskId","in":"query","schema":{"title":"任务Id","description":"","type":"string","required":true,"example":"17071319"}}],"responses":{"200":{"schema":{"title":"ResultCode<ChatModelResponse>","description":"ResultCode<ChatModelResponse>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"description":"","type":"object","example":"{\n  \"file_url\": \"https://finllmworks.oss-cn-zhangjiakou.aliyuncs.com/render_pdf/5336180997111160501.pdf\"\n}"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"9D5D6BB5-BEAE-53C8-A70A-7275CC1F856C"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"file_url\\\": \\\"https://finllmworks.oss-cn-zhangjiakou.aliyuncs.com/render_pdf/5336180997111160501.pdf\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"9D5D6BB5-BEAE-53C8-A70A-7275CC1F856C\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"CreateQualityCheckTask":{"summary":"创建财报总结的任务","path":"/{workspaceId}/api/qualitycheck/task/submit","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"create","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"conversationList":{"title":"会话内容，关联质检场景需要传入多个会话，否则只有一个会话","description":"","type":"object","properties":{"callType":{"title":"呼叫类型:","description":"","type":"string","required":false,"enumValueTitles":{"1":"","2":""},"example":"1"},"customerId":{"title":"客户ID","description":"","type":"string","required":false,"example":"1"},"customerName":{"title":"客户名称","description":"","type":"string","required":false,"example":""},"customerServiceId":{"title":"客服ID","description":"","type":"string","required":false,"example":"xxx"},"customerServiceName":{"title":"客服名称","description":"","type":"string","required":false,"example":""},"dialogueList":{"title":"对话明细","description":"","type":"array","items":{"description":"","type":"object","properties":{"begin":{"title":"本句话的开始时间，相对于会话开始点的偏移时间ms","description":"","type":"integer","format":"int32","required":false,"example":"0"},"beginTime":{"title":"这句话的开始时间","description":"","type":"string","required":false,"example":"2024-05-23 14:57:50"},"content":{"title":"对话的具体内容","description":"","type":"string","required":true,"example":""},"customerId":{"title":"对话角色的唯一标识","description":"","type":"string","required":false,"example":"2348234"},"customerServiceId":{"title":"客服ID","description":"","type":"string","required":false,"example":"23874627346"},"customerServiceType":{"title":"坐席类型","description":"","type":"string","required":false,"enumValueTitles":{"0":"","1":""},"example":"0"},"end":{"title":"本句话的结束时间，相对于会话开始点的偏移时间ms","description":"","type":"integer","format":"int32","required":false,"example":"0"},"role":{"title":"角色","description":"","type":"string","required":true,"enumValueTitles":{"0":"","1":""},"example":"1"},"type":{"title":"对话内容的类型","description":"","type":"string","required":true,"enumValueTitles":{"IMAGE":"","TEXT":"","AUDIO":""},"example":"TEXT"}},"required":false},"required":true},"gmtService":{"title":"会话时间","description":"","type":"string","required":false,"example":"2024-09-27 11:23:20"}},"required":true},"gmtService":{"title":"业务发生时间，用于系统记录提交时间，任务调度优先级决策等","description":"","type":"string","required":true,"example":"2024-09-27 11:23:20"},"metaData":{"title":"元数据，用于规则执行过程中需要消费的一些业务相关的属性，由业务系统在发起质检的时候实时传入。","description":"","type":"object","required":false,"additionalProperties":{"type":"string","description":"","example":""}},"qualityGroup":{"title":"质检规则组","description":"","type":"array","items":{"title":"质检规则","description":"","type":"string","required":false,"example":"warning_customers"},"required":false},"requestId":{"title":"请求ID","description":"","type":"string","required":true,"example":"0FC6636E-380A-5369-AE01-D1C15BB9B254"},"type":{"title":"质检类型","description":"","type":"string","required":true,"enumValueTitles":{"0":""},"example":"0"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<QualitySubmitResponse>","description":"ResultCode<QualitySubmitResponse>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"taskId":{"title":"taskId","description":"taskId","type":"string","example":"172373500521"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"taskId\\\": \\\"172373500521\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GetQualityCheckTaskResult":{"summary":"获取异步任务的结果","path":"/{workspaceId}/api/qualitycheck/task/query","methods":["get"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"title":"业务空间Id","description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"taskId","in":"query","schema":{"title":"任务ID","description":"","type":"string","required":true,"example":"17071319"}}],"responses":{"200":{"schema":{"title":"ResultCode<QualityQueryResponse>","description":"ResultCode<QualityQueryResponse>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"conversationList":{"title":"原始会话内容","description":"","type":"object","properties":{"callType":{"title":"呼叫类型:","description":"","type":"string","enumValueTitles":{"1":"","2":""},"example":"1"},"customerId":{"title":"客户ID","description":"","type":"string","example":"234234"},"customerName":{"title":"客户名称","description":"","type":"string","example":""},"customerServiceId":{"title":"客服ID","description":"","type":"string","example":"23984763826"},"customerServiceName":{"title":"客服名称","description":"","type":"string","example":""},"dialogueList":{"title":"对话明细","description":"","type":"array","items":{"description":"","type":"object","properties":{"begin":{"title":"本句话的开始时间，相对于会话开始点的偏移时间ms","description":"","type":"integer","format":"int32","example":"0"},"beginTime":{"title":"这句话的开始时间","description":"","type":"string","example":"2024-09-27 11:23:20"},"content":{"title":"对话的具体内容","description":"","type":"string","example":""},"customerId":{"title":"对话角色的唯一标识","description":"","type":"string","example":"null"},"customerServiceId":{"title":"客服ID","description":"","type":"string","example":""},"customerServiceType":{"title":"坐席类型","description":"","type":"string","enumValueTitles":{"0":"","1":""},"example":"0"},"end":{"title":"本句话的结束时间，相对于会话开始点的偏移时间ms","description":"","type":"integer","format":"int32","example":"0"},"id":{"title":"本句话的唯一标识,内部赋值","description":"","type":"integer","format":"int32","example":"1"},"role":{"title":"角色","description":"","type":"string","enumValueTitles":{"0":"","1":""},"example":"0"},"type":{"title":"对话内容的类型","description":"","type":"string","enumValueTitles":{"IMAGE":"","TEXT":"","AUDIO":""},"example":"TEXT"}}}},"gmtService":{"title":"会话时间","description":"","type":"string","example":"2024-09-27 11:23:20"}}},"gmtCreate":{"title":"任务创建时间 提交任务的时间","description":"","type":"string","example":"2024-09-27 11:23:20"},"gmtEnd":{"title":"系统执行结束时间","description":"","type":"string","example":"2024-09-27 11:23:20"},"gmtStart":{"title":"系统执行开始时间","description":"","type":"string","example":"2024-09-27 11:23:20"},"qualityCheckList":{"title":"质检结果集","description":"","type":"array","items":{"description":"","type":"object","properties":{"checkExplanation":{"title":"通过或者不通过的原因解释","description":"","type":"string","example":""},"checkPassed":{"title":"是否质检通过","description":"","type":"string","enumValueTitles":{"NOT_PASSED":"","PASSED":""},"example":"PASSED"},"checkProcess":{"title":"质检过程描述","description":"","type":"string","example":""},"checked":{"title":"是否命中","description":"","type":"string","enumValueTitles":{"HIT":"","NOT_HIT":""},"example":"HIT"},"gmtEnd":{"title":"质检完成时间","description":"","type":"string","example":"2024-05-23 14:57:50"},"gmtStart":{"title":"质检开始时间","description":"","type":"string","example":"2024-05-23 14:57:50"},"mode":{"title":"内部质检模式","description":"","type":"string","enumValueTitles":{"0":""},"example":"0"},"originDialogue":{"title":"原始对话列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"begin":{"title":"本句话的开始时间，相对于会话开始点的偏移时间ms","description":"","type":"integer","format":"int32","example":"0"},"beginTime":{"title":"这句话的开始时间","description":"","type":"string","example":"2024-05-23 14:57:50"},"content":{"title":"对话的具体内容","description":"","type":"string","example":""},"customerId":{"title":"对话角色的唯一标识","description":"","type":"string","example":"xxx"},"customerServiceId":{"title":"客服ID","description":"","type":"string","example":"23876432"},"customerServiceType":{"title":"坐席类型","description":"","type":"string","enumValueTitles":{"0":"","1":""},"example":"0"},"end":{"title":"本句话的结束时间，相对于会话开始点的偏移时间ms","description":"","type":"integer","format":"int32","example":"0"},"id":{"title":"本句话的唯一标识,内部赋值","description":"","type":"integer","format":"int32","example":"1"},"role":{"title":"角色","description":"","type":"string","enumValueTitles":{"0":"","1":""},"example":"0"},"type":{"title":"对话内容的类型","description":"","type":"string","enumValueTitles":{"IMAGE":"","TEXT":"","AUDIO":""},"example":"TEXT"}}}},"qualityGroupId":{"title":"质检组ID","description":"","type":"string","example":"warning_customers"},"ruleDescription":{"title":"质检项描述","description":"","type":"string","example":""},"ruleId":{"title":"质检项ID","description":"","type":"string","example":"wcm_start"},"bizType":{"title":"规则业务类型","type":"string"},"ruleType":{"title":"规则正负向类型 0：负向，1：正向。","type":"string"},"subNodeCol":{"title":"子节点","type":"array","items":{"type":"any"}}}}},"status":{"title":"任务状态","description":"","type":"string","enumValueTitles":{"CANCELLED":"","INIT":"","COMPLETED":"","PROCESSING":"","FAIL":""},"example":"INIT"},"taskId":{"title":"任务ID","description":"","type":"string","example":"1703557101831"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"67C7021A-D268-553D-8C15-A087B9604028"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"conversationList\\\": {\\n      \\\"callType\\\": \\\"1\\\",\\n      \\\"customerId\\\": \\\"234234\\\",\\n      \\\"customerName\\\": \\\"张三\\\",\\n      \\\"customerServiceId\\\": \\\"23984763826\\\",\\n      \\\"customerServiceName\\\": \\\"李四\\\",\\n      \\\"dialogueList\\\": [\\n        {\\n          \\\"begin\\\": 0,\\n          \\\"beginTime\\\": \\\"2024-09-27 11:23:20\\\",\\n          \\\"content\\\": \\\"您好，我是2001，很高兴为您服务！\\\",\\n          \\\"customerId\\\": \\\"null\\\",\\n          \\\"customerServiceId\\\": \\\"李四\\\",\\n          \\\"customerServiceType\\\": \\\"0\\\",\\n          \\\"end\\\": 0,\\n          \\\"id\\\": 1,\\n          \\\"role\\\": \\\"0\\\",\\n          \\\"type\\\": \\\"TEXT\\\"\\n        }\\n      ],\\n      \\\"gmtService\\\": \\\"2024-09-27 11:23:20\\\"\\n    },\\n    \\\"gmtCreate\\\": \\\"2024-09-27 11:23:20\\\",\\n    \\\"gmtEnd\\\": \\\"2024-09-27 11:23:20\\\",\\n    \\\"gmtStart\\\": \\\"2024-09-27 11:23:20\\\",\\n    \\\"qualityCheckList\\\": [\\n      {\\n        \\\"checkExplanation\\\": \\\"暂无\\\",\\n        \\\"checkPassed\\\": \\\"PASSED\\\",\\n        \\\"checkProcess\\\": \\\"暂无\\\",\\n        \\\"checked\\\": \\\"HIT\\\",\\n        \\\"gmtEnd\\\": \\\"2024-05-23 14:57:50\\\",\\n        \\\"gmtStart\\\": \\\"2024-05-23 14:57:50\\\",\\n        \\\"mode\\\": \\\"0\\\",\\n        \\\"originDialogue\\\": [\\n          {\\n            \\\"begin\\\": 0,\\n            \\\"beginTime\\\": \\\"2024-05-23 14:57:50\\\",\\n            \\\"content\\\": \\\"您好，我是2001，很高兴为您服务！\\\",\\n            \\\"customerId\\\": \\\"xxx\\\",\\n            \\\"customerServiceId\\\": \\\"23876432\\\",\\n            \\\"customerServiceType\\\": \\\"0\\\",\\n            \\\"end\\\": 0,\\n            \\\"id\\\": 1,\\n            \\\"role\\\": \\\"0\\\",\\n            \\\"type\\\": \\\"TEXT\\\"\\n          }\\n        ],\\n        \\\"qualityGroupId\\\": \\\"warning_customers\\\",\\n        \\\"ruleDescription\\\": \\\"进入检测预警客户流程\\\",\\n        \\\"ruleId\\\": \\\"wcm_start\\\",\\n        \\\"bizType\\\": \\\"No\\\",\\n        \\\"ruleType\\\": \\\"0\\\",\\n        \\\"subNodeCol\\\": [\\n          \\\"{\\\\n                        \\\\\\\"ruleId\\\\\\\": \\\\\\\"wxx_regulatory_authorities\\\\\\\",\\\\n                        \\\\\\\"ruleDescription\\\\\\\": \\\\\\\"具体某机构预警\\\\\\\",\\\\n                        \\\\\\\"checked\\\\\\\": \\\\\\\"HIT\\\\\\\",\\\\n                        \\\\\\\"checkProcess\\\\\\\": \\\\\\\"通过审查对话记录，客户主要询问了关于贷款资方信息和结清证明的问题，并表达了想要注销账户的意愿。在整个对话过程中，客户并未提及任何具体的部门名称，也没有明确表示要向部门投诉的意图。\\\\\\\",\\\\n                        \\\\\\\"originDialogue\\\\\\\": null,\\\\n                        \\\\\\\"checkPassed\\\\\\\": \\\\\\\"NOT_PASSED\\\\\\\",\\\\n                        \\\\\\\"checkExplanation\\\\\\\": null,\\\\n                        \\\\\\\"mode\\\\\\\": \\\\\\\"0\\\\\\\",\\\\n                        \\\\\\\"gmtStart\\\\\\\": \\\\\\\"2024-12-02 10:38:39\\\\\\\",\\\\n                        \\\\\\\"gmtEnd\\\\\\\": \\\\\\\"2024-12-02 10:38:43\\\\\\\",\\\\n                        \\\\\\\"qualityGroupId\\\\\\\": \\\\\\\"warning_customers\\\\\\\",\\\\n                        \\\\\\\"bizType\\\\\\\": null,\\\\n                        \\\\\\\"ruleType\\\\\\\": \\\\\\\"0\\\\\\\",\\\\n                        \\\\\\\"subNodeCol\\\\\\\": null\\\\n                    }\\\"\\n        ]\\n      }\\n    ],\\n    \\\"status\\\": \\\"INIT\\\",\\n    \\\"taskId\\\": \\\"1703557101831\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"67C7021A-D268-553D-8C15-A087B9604028\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\"\\n}\",\"type\":\"json\"}]"},"RecognizeIntention":{"summary":"意图识别","path":"/{workspaceId}/api/recog/intent","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"analysis":{"title":"是否分析","description":"","type":"boolean","required":false,"example":"false","default":"false"},"bizType":{"title":"业务类型,[COMMON(通用意图识别),ATTITUDE(客户态度意图识别),BUSINESS(协商还款意图识别)]","description":"","type":"string","required":true,"enumValueTitles":{"common":"","business":"","attitude":""},"example":"common"},"conversation":{"title":"对话内容","description":"","type":"string","required":true,"example":""},"globalIntentionList":{"title":"全局意图列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"description":{"title":"意图描述","description":"","type":"string","required":false,"example":""},"intention":{"title":"意图名称","description":"","type":"string","required":false,"example":""},"intentionCode":{"title":"意图code","description":"","type":"string","required":false,"example":"1810566978021232640"},"intentionScript":{"title":"意图话术","type":"string"}},"required":false},"required":false},"hierarchicalIntentionList":{"title":"分层意图列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"description":{"title":"意图描述","description":"","type":"string","required":false,"example":""},"intention":{"title":"意图名称","description":"","type":"string","required":false,"example":""},"intentionCode":{"title":"意图code","description":"","type":"string","required":false,"example":"1810929291010150400"},"intentionScript":{"title":"意图话术","type":"string"}},"required":false},"required":false},"intentionList":{"title":"意图列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"description":{"title":"意图描述","description":"","type":"string","required":false,"example":""},"intention":{"title":"意图名称","description":"","type":"string","required":false,"example":""},"intentionCode":{"title":"意图code","description":"","type":"string","required":false,"example":"1808766224000262144"},"intentionScript":{"title":"意图话术","type":"string"}},"required":false},"required":false},"opType":{"title":"操作类型,[COMMON(通用),HIERARCHICAL(分层)]","description":"","type":"string","required":false,"enumValueTitles":{"common":"","hierarchical":""},"example":"common","default":"common"},"recommend":{"title":"推荐意图","description":"","type":"boolean","required":false,"example":"false"},"intentionDomainCode":{"title":"意图库: 本地意图库code","type":"string"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<RecogResult>","description":"ResultCode<RecogResult>","type":"object","properties":{"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"},"data":{"title":"响应数据","description":"","type":"object","properties":{"analysisProcess":{"title":"分析过程","description":"","type":"string","example":""},"intentionCode":{"title":"意图code","description":"","type":"string","example":"1"},"intentionName":{"title":"意图名称","description":"","type":"string","example":""},"recommendIntention":{"title":"推荐意图","description":"","type":"string","example":""},"recommendScript":{"title":"推荐话术","description":"","type":"string","example":""},"intentionScript":{"title":"意图话术","type":"string"}}},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"requestId":{"title":"请求id","description":"","type":"string","example":"003D019A-1BB3-53EC-A0D2-CE76DA5D73B1"},"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cost\\\": 0,\\n  \\\"data\\\": {\\n    \\\"analysisProcess\\\": \\\"客户回答的内容与提供的意图列表描述均不匹配，没有表达出对账单、还款、天气或其他服务的具体需求或问题。\\\",\\n    \\\"intentionCode\\\": \\\"-1\\\",\\n    \\\"intentionName\\\": \\\"其它\\\",\\n    \\\"recommendIntention\\\": \\\"客户试图回避谈论逾期还款的话题\\\",\\n    \\\"recommendScript\\\": \\\"朱先生，理解您可能对天气感兴趣，但更重要的是您的账户情况。请让我们专注于您未偿还的款项，这对您的信用健康至关重要。\\\",\\n    \\\"intentionScript\\\": \\\"朱先生，理解您可能对天气感兴趣，但更重要的是您的账户情况。请让我们专注于您未偿还的款项，这对您的信用健康至关重要。\\\"\\n  },\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"requestId\\\": \\\"003D019A-1BB3-53EC-A0D2-CE76DA5D73B1\\\",\\n  \\\"success\\\": true,\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\"\\n}\",\"type\":\"json\"}]"},"GenDocQaResult":{"summary":"根据文档解析问答QA","path":"/{workspaceId}/api/virtualHuman/qa/parse","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"docId":{"title":"文档ID","description":"","type":"string","required":true,"example":"182364872346"},"libraryId":{"title":"文档库ID","description":"","type":"string","required":true,"example":"sjdgdsfg"},"requestId":{"title":"请求ID","description":"","type":"string","required":true,"example":"0FC6636E-380A-5369-AE01-D1C15BB9B254"}},"required":false}}],"responses":{"200":{"schema":{"title":"QA对","description":"","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"libraryId":{"title":"文档库ID","description":"","type":"string","example":"7wxwrjpabj"},"docId":{"title":"文档ID","description":"","type":"string","example":"873648346573245"},"currentStatus":{"title":"当前状态[INIT(初始化),PROCESSING(处理中),COMPLETED(已结束),FAIL(失败)]","description":"","type":"string","enumValueTitles":{"INIT":"","COMPLETED":"","PROCESSING":"","FAIL":""},"example":"PROCESSING"},"parseQaResults":{"title":"问答解析的QA结果","description":"","type":"array","items":{"type":"object","properties":{"question":{"title":"问题","description":"","type":"string","example":""},"answer":{"title":"解答","description":"","type":"string","example":""}}}}}},"requestId":{"title":"请求id","description":"","type":"string","example":"44BD277A-87F9-5310-8D63-3E6645F1DA85"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"libraryId\\\": \\\"7wxwrjpabj\\\",\\n    \\\"docId\\\": \\\"873648346573245\\\",\\n    \\\"currentStatus\\\": \\\"PROCESSING\\\",\\n    \\\"parseQaResults\\\": [\\n      {\\n        \\\"question\\\": \\\"今天的天气怎么样？\\\",\\n        \\\"answer\\\": \\\"今天的天气不错，多云转晴。\\\\n\\\"\\n      }\\n    ]\\n  },\\n  \\\"requestId\\\": \\\"44BD277A-87F9-5310-8D63-3E6645F1DA85\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"UpdateQaLibrary":{"summary":"更新QA问答库","path":"/{workspaceId}/api/virtualHuman/qa/upload","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"parseQaResults":{"title":"问答解析的QA结果","description":"","type":"array","items":{"description":"","type":"object","properties":{"question":{"title":"问题","description":"","type":"string","required":true,"example":""},"answer":{"title":"解答","description":"","type":"string","required":true,"example":""}},"required":false},"required":true},"qaLibraryId":{"title":"QA问答库ID","description":"","type":"string","required":false,"example":"6jh378d"},"requestId":{"title":"请求ID","description":"","type":"string","required":true,"example":"0FC6636E-380A-5369-AE01-D1C15BB9B254"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<DiaChatQaUploadResponse>","description":"ResultCode<DiaChatQaUploadResponse>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"qaLibraryId":{"title":"QA库ID","description":"","type":"string","example":"6jh378d"}}},"requestId":{"title":"请求id","description":"","type":"string","example":"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"qaLibraryId\\\": \\\"6jh378d\\\"\\n  },\\n  \\\"requestId\\\": \\\"EF4B5C9B-3BC8-5171-A47B-4C5CF3DC3258\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"SubmitChatQuestion":{"summary":"提交问题列表","path":"/{workspaceId}/api/virtualHuman/chat/submit","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"sessionId":{"title":"所属的会话ID","description":"","type":"string","required":true,"example":"237645726354"},"gmtService":{"title":"当前时间","description":"","type":"string","required":true,"example":"2024-09-27 11:23:20"},"liveScriptContent":{"title":"直播脚本","description":"","type":"string","required":true,"example":""},"openSmallTalk":{"title":"是否开启闲聊 默认是：true 开启","description":"","type":"boolean","required":false,"example":"true","default":"true"},"questionList":{"title":"问题列表","description":"","type":"array","items":{"description":"","type":"object","properties":{"sessionId":{"title":"所属会话ID","description":"","type":"string","required":true,"example":"1869300950603128834"},"userId":{"title":"直播间提问用户的唯一ID","description":"","type":"string","required":true,"example":"39485783475638465"},"userName":{"title":"直播间提问用户的名称","description":"","type":"string","required":true,"example":""},"content":{"title":"问题内容","description":"","type":"string","required":true,"example":""},"gmtCreate":{"title":"原始提问时间","description":"","type":"string","required":true,"example":"2024-11-17 10:05:00\n"},"type":{"title":"问题类型,DialogueChatQuestionTypeEnum[PRODUCT_QA(音频提交),GOSSIP(操作提交),UNKNOWN(未知),code,desc]","description":"","type":"string","required":false,"enumValueTitles":{"PRODUCT_QA":"","GOSSIP":"","UNKNOWN":""},"example":"PRODUCT_QA\n"},"reply":{"title":"答复内容，回复的内容","description":"","type":"string","required":false,"example":""}},"required":false},"required":true},"requestId":{"title":"请求ID","description":"","type":"string","required":true,"example":"0FC6636E-380A-5369-AE01-D1C15BB9B254"}},"required":false}}],"responses":{"200":{"schema":{"title":"ResultCode<DiaChatSubmitVO>","description":"ResultCode<DiaChatSubmitVO>","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-04-24 11:54:34"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"batchId":{"title":"批次ID","description":"","type":"string","example":"1869307330227937280"}}},"requestId":{"title":"请求id","description":"","type":"string","example":"915AAAB9-4908-5224-9E53-9E9D7D0AA94B"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"batchId\\\": \\\"1869307330227937280\\\"\\n  },\\n  \\\"requestId\\\": \\\"915AAAB9-4908-5224-9E53-9E9D7D0AA94B\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"GetChatQuestionResp":{"summary":"获取问答结果","path":"/{workspaceId}/api/virtualHuman/chat/query","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"title":"请求","description":"","type":"object","properties":{"sessionId":{"title":"所属会话ID","description":"","type":"string","required":true,"example":"237645726354"},"batchId":{"title":"问题批次ID","description":"","type":"string","required":true,"example":"1869307330227937280"}},"required":false}}],"responses":{"200":{"schema":{"title":"结果","description":"","type":"object","properties":{"success":{"title":"是否成功","description":"","type":"boolean","example":"true"},"dataType":{"title":"数据类型","description":"","type":"string","example":"null"},"time":{"title":"时间戳","description":"","type":"string","example":"2024-01-01 00:00:00"},"errCode":{"title":"错误码","description":"","type":"string","example":"0"},"message":{"title":"错误信息","description":"","type":"string","example":"ok"},"data":{"title":"响应数据","description":"","type":"object","properties":{"currentState":{"title":"当前状态[INIT(初始化),PROCESSING(处理中),COMPLETED(已结束)]","description":"","type":"string","enumValueTitles":{"INIT":"","COMPLETED":"","PROCESSING":""},"example":"PROCESSING"},"questionList":{"title":"问题列表","description":"","type":"array","items":{"title":"问题","description":"","type":"object","properties":{"sessionId":{"title":"所属会话ID","description":"","type":"string","example":"1732846760323001\n"},"userId":{"title":"直播间提问用户的唯一ID","description":"","type":"string","example":"39847834568436\n"},"userName":{"title":"直播间提问用户的名称","description":"","type":"string","example":""},"content":{"title":"问题内容","description":"","type":"string","example":""},"gmtCreate":{"title":"原始提问时间","description":"","type":"string","example":"2024-11-17 10:05:00\n"},"type":{"title":"问题类型[PRODUCT_QA(音频提交),GOSSIP(操作提交),UNKNOWN(未知)]","description":"","type":"string","enumValueTitles":{"PRODUCT_QA":"","GOSSIP":"","UNKNOWN":""},"example":"PRODUCT_QA"},"reply":{"title":"答复内容，回复的内容","description":"","type":"string","example":""},"oriContent":{"title":"原始问题","type":"string"}}}}}},"requestId":{"title":"请求id","description":"","type":"string","example":"44BD277A-87F9-5310-8D63-3E6645F1DA85\n"},"cost":{"title":"耗时","description":"","type":"integer","format":"int64","example":"null"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"success\\\": true,\\n  \\\"dataType\\\": \\\"null\\\",\\n  \\\"time\\\": \\\"2024-01-01 00:00:00\\\",\\n  \\\"errCode\\\": \\\"0\\\",\\n  \\\"message\\\": \\\"ok\\\",\\n  \\\"data\\\": {\\n    \\\"currentState\\\": \\\"PROCESSING\\\",\\n    \\\"questionList\\\": [\\n      {\\n        \\\"sessionId\\\": \\\"1732846760323001\\\\n\\\",\\n        \\\"userId\\\": \\\"39847834568436\\\\n\\\",\\n        \\\"userName\\\": \\\"张*\\\",\\n        \\\"content\\\": \\\"今天天气怎么样\\\\n\\\",\\n        \\\"gmtCreate\\\": \\\"2024-11-17 10:05:00\\\\n\\\",\\n        \\\"type\\\": \\\"PRODUCT_QA\\\",\\n        \\\"reply\\\": \\\"感谢您的支持！\\\\n\\\",\\n        \\\"oriContent\\\": \\\"今天天气怎么样\\\\n\\\"\\n      }\\n    ]\\n  },\\n  \\\"requestId\\\": \\\"44BD277A-87F9-5310-8D63-3E6645F1DA85\\\\n\\\",\\n  \\\"cost\\\": 0\\n}\",\"type\":\"json\"}]"},"RunChatResultGeneration":{"summary":"获取生成式对话结果","path":"/{workspaceId}/api/run/chat/generation","methods":["post"],"schemes":["https","sse"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"none","riskType":"none","chargeType":"paid"},"parameters":[{"name":"workspaceId","in":"path","schema":{"description":"","type":"string","required":true,"example":"llm-xxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"","type":"object","properties":{"inferenceParameters":{"title":"推理使用的超参数","description":"","type":"object","required":false,"example":"{\"topP\": 0.8}"},"messages":{"title":"输入模型的消息","description":"","type":"array","items":{"type":"object","properties":{"content":{"title":"消息的内容","description":"","type":"string","required":false,"example":""},"role":{"title":"消息的角色","description":"","type":"string","required":false,"example":"user"}},"required":false},"required":true},"modelId":{"title":"模型服务种类，请通过/api/app/config接口获取，对应的字段llmHelperTypeList","description":"","type":"string","required":true,"example":"qwen-max"},"sessionId":{"title":"sessionId，可用于标记对话","description":"","type":"string","required":false,"example":"237645726354"},"stream":{"title":"是否流式: true，流式返回答案；false，全量返回答案。不填默认为false","description":"","type":"boolean","required":false,"example":"false","default":"false"},"tools":{"title":"输入的工具信息.\n用于指定可供模型调用的工具列表。当输入多个工具时，模型会选择其中一个生成结果。","description":"","type":"array","items":{"title":"用于指定可供模型调用的工具库，一次function call流程模型会从中选择其中一个工具。tools中每一个tool的结构如下：\n\ntype，类型为string，表示tools的类型，当前仅支持function。\n\nfunction，类型为object，键值包括name，description和parameters：\n\nname：类型为string，表示工具函数的名称，必须是字母、数字，可以包含下划线和短划线，最大长度为64。\n\ndescription：类型为string，表示工具函数的描述，供模型选择何时以及如何调用工具函数。\n\nparameters：类型为object，表示工具的参数描述，需要是一个合法的JSON Schema。JSON Schema的描述可以见链接。如果parameters参数为空，表示function没有入参。\n\n在function call流程中，无论是发起function call的轮次，还是向模型提交工具函数的执行结果，均需设置tools参数。当前支持的模型包括qwen-turbo、qwen-plus、qwen-max和qwen-max-longcontext。","description":"","type":"object","properties":{"function":{"title":"类型为object，键值包括name，description和parameters","description":"","type":"object","properties":{"description":{"title":"类型为string，表示工具函数的描述，供模型选择何时以及如何调用工具函数","description":"","type":"string","required":false,"example":""},"name":{"title":"类型为string，表示工具函数的名称，必须是字母、数字，可以包含下划线和短划线，最大长度为64","description":"","type":"string","required":false,"example":"get_time"},"parameters":{"title":"类型为object，表示工具的参数描述，需要是一个合法的JSON Schema。","description":"","type":"object","properties":{"properties":{"description":"","type":"object","required":false,"example":"{\n                            \"location\": {\n                                \"type\": \"string\",\n                                \"description\": \"The city and state, e.g. San Francisco, CA\"\n                            },\n                            \"unit\": {\n                                \"type\": \"string\",\n                                \"enum\": [\n                                    \"celsius\",\n                                    \"fahrenheit\"\n                                ]\n                            }\n                        }"},"type":{"description":"","type":"string","required":false,"example":"object"}},"required":false},"required":{"description":"","type":"array","items":{"description":"","type":"string","required":false,"example":"location"},"required":false}},"required":false},"type":{"title":"类型为string，表示tools的类型，当前仅支持function","description":"","type":"string","required":false,"example":"function"}},"required":false},"required":false}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"choices":{"title":"模型生成内容的详情。","description":"","type":"array","items":{"description":"","type":"object","properties":{"finishReason":{"title":"模型生成内容结束原因。\n          有三种情况：\n           - 正在生成时为null；\n           - 因触发输入参数中的stop条件而结束为stop；\n           - 因生成长度过长而结束为length。","description":"","type":"string","example":"null"},"index":{"title":"生成的结果序列编号，默认为0。","description":"","type":"integer","format":"int32","example":"0"},"message":{"title":"模型输出的消息。","description":"","type":"object","properties":{"content":{"title":"模型生成的文本。","description":"","type":"string","example":""},"role":{"title":"模型的角色，固定为assistant。","description":"","type":"string","example":"user"},"toolCalls":{"title":"工具调用","description":"","type":"array","items":{"description":"","type":"object","example":""}}}}}}},"created":{"title":"创建时间戳","description":"","type":"integer","format":"int64","example":"1720602203"},"id":{"title":"系统生成的标识本次调用的id。","description":"","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032"},"modelId":{"title":"本次调用的模型名。","description":"","type":"string","example":"qwen-max"},"requestId":{"title":"请求id","description":"","type":"string","example":"eb2b6139-ddf1-91a0-a47f-df7617ae9032\n"},"time":{"title":"时间","description":"","type":"string","example":"2024-04-24 11:54:34"},"totalTokens":{"title":"总token量","description":"","type":"integer","format":"int32","example":"500"},"usage":{"title":"消耗量","description":"","type":"object","properties":{"imageCount":{"title":"图片数量,wanx等模型","description":"","type":"integer","format":"int32","example":"0"},"imageTokens":{"title":"图片token量,qwen-vl等模型","description":"","type":"integer","format":"int32","example":"0"},"inputTokens":{"title":"输入token量","description":"","type":"integer","format":"int32","example":"200"},"outputTokens":{"title":"输出token量","description":"","type":"integer","format":"int32","example":"300"},"totalTokens":{"title":"总token量","description":"","type":"integer","format":"int32","example":"500"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"choices\\\": [\\n    {\\n      \\\"finishReason\\\": \\\"null\\\",\\n      \\\"index\\\": 0,\\n      \\\"message\\\": {\\n        \\\"content\\\": \\\"你是谁\\\",\\n        \\\"role\\\": \\\"user\\\",\\n        \\\"toolCalls\\\": [\\n          {\\n            \\\"type\\\": \\\"function\\\",\\n            \\\"function\\\": {\\n              \\\"name\\\": \\\"get_current_weather\\\",\\n              \\\"arguments\\\": \\\"{\\\\\\\"location\\\\\\\": \\\\\\\"长沙\\\\\\\", \\\\\\\"unit\\\\\\\": \\\\\\\"celsius\\\\\\\"}\\\"\\n            },\\n            \\\"id\\\": \\\"\\\"\\n          }\\n        ]\\n      }\\n    }\\n  ],\\n  \\\"created\\\": 1720602203,\\n  \\\"id\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\",\\n  \\\"modelId\\\": \\\"qwen-max\\\",\\n  \\\"requestId\\\": \\\"eb2b6139-ddf1-91a0-a47f-df7617ae9032\\\\n\\\",\\n  \\\"time\\\": \\\"2024-04-24 11:54:34\\\",\\n  \\\"totalTokens\\\": 500,\\n  \\\"usage\\\": {\\n    \\\"imageCount\\\": 0,\\n    \\\"imageTokens\\\": 0,\\n    \\\"inputTokens\\\": 200,\\n    \\\"outputTokens\\\": 300,\\n    \\\"totalTokens\\\": 500\\n  }\\n}\",\"type\":\"json\"}]"}},"endpoints":[{"regionId":"cn-beijing","endpoint":"dianjin.cn-beijing.aliyuncs.com"}]}